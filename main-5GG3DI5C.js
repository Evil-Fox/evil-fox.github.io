var x2=Object.defineProperty,I2=Object.defineProperties;var S2=Object.getOwnPropertyDescriptors;var nu=Object.getOwnPropertySymbols;var Z_=Object.prototype.hasOwnProperty,J_=Object.prototype.propertyIsEnumerable;var Q_=(i,t,e)=>t in i?x2(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,L=(i,t)=>{for(var e in t||={})Z_.call(t,e)&&Q_(i,e,t[e]);if(nu)for(var e of nu(t))J_.call(t,e)&&Q_(i,e,t[e]);return i},ve=(i,t)=>I2(i,S2(t));var pf=(i,t)=>{var e={};for(var n in i)Z_.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&nu)for(var n of nu(i))t.indexOf(n)<0&&J_.call(i,n)&&(e[n]=i[n]);return e};var rt=(i,t,e)=>new Promise((n,r)=>{var s=l=>{try{a(e.next(l))}catch(c){r(c)}},o=l=>{try{a(e.throw(l))}catch(c){r(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((e=e.apply(i,t)).next())});function e1(i,t){return Object.is(i,t)}var zt=null,pl=!1,iu=1,Vi=Symbol("SIGNAL");function ze(i){let t=zt;return zt=i,t}function t1(){return zt}function E2(){return pl}var Ho={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vf(i){if(pl)throw new Error("");if(zt===null)return;zt.consumerOnSignalRead(i);let t=zt.nextProducerIndex++;if(cu(zt),t<zt.producerNode.length&&zt.producerNode[t]!==i&&fl(zt)){let e=zt.producerNode[t];lu(e,zt.producerIndexOfThis[t])}zt.producerNode[t]!==i&&(zt.producerNode[t]=i,zt.producerIndexOfThis[t]=fl(zt)?o1(i,zt,t):0),zt.producerLastReadVersion[t]=i.version}function T2(){iu++}function n1(i){if(!(fl(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===iu)){if(!i.producerMustRecompute(i)&&!ou(i)){i.dirty=!1,i.lastCleanEpoch=iu;return}i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=iu}}function i1(i){if(i.liveConsumerNode===void 0)return;let t=pl;pl=!0;try{for(let e of i.liveConsumerNode)e.dirty||s1(e)}finally{pl=t}}function r1(){return zt?.consumerAllowSignalWrites!==!1}function s1(i){i.dirty=!0,i1(i),i.consumerMarkedDirty?.(i)}function gl(i){return i&&(i.nextProducerIndex=0),ze(i)}function su(i,t){if(ze(t),!(!i||i.producerNode===void 0||i.producerIndexOfThis===void 0||i.producerLastReadVersion===void 0)){if(fl(i))for(let e=i.nextProducerIndex;e<i.producerNode.length;e++)lu(i.producerNode[e],i.producerIndexOfThis[e]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function ou(i){cu(i);for(let t=0;t<i.producerNode.length;t++){let e=i.producerNode[t],n=i.producerLastReadVersion[t];if(n!==e.version||(n1(e),n!==e.version))return!0}return!1}function au(i){if(cu(i),fl(i))for(let t=0;t<i.producerNode.length;t++)lu(i.producerNode[t],i.producerIndexOfThis[t]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function o1(i,t,e){if(a1(i),i.liveConsumerNode.length===0&&l1(i))for(let n=0;n<i.producerNode.length;n++)i.producerIndexOfThis[n]=o1(i.producerNode[n],i,n);return i.liveConsumerIndexOfThis.push(e),i.liveConsumerNode.push(t)-1}function lu(i,t){if(a1(i),i.liveConsumerNode.length===1&&l1(i))for(let n=0;n<i.producerNode.length;n++)lu(i.producerNode[n],i.producerIndexOfThis[n]);let e=i.liveConsumerNode.length-1;if(i.liveConsumerNode[t]=i.liveConsumerNode[e],i.liveConsumerIndexOfThis[t]=i.liveConsumerIndexOfThis[e],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,t<i.liveConsumerNode.length){let n=i.liveConsumerIndexOfThis[t],r=i.liveConsumerNode[t];cu(r),r.producerIndexOfThis[n]=t}}function fl(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function cu(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function a1(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function l1(i){return i.producerNode!==void 0}function c1(i){let t=Object.create(D2);t.computation=i;let e=()=>{if(n1(t),vf(t),t.value===ru)throw t.error;return t.value};return e[Vi]=t,e}var ff=Symbol("UNSET"),gf=Symbol("COMPUTING"),ru=Symbol("ERRORED"),D2=ve(L({},Ho),{value:ff,dirty:!0,error:null,equal:e1,producerMustRecompute(i){return i.value===ff||i.value===gf},producerRecomputeValue(i){if(i.value===gf)throw new Error("Detected cycle in computations.");let t=i.value;i.value=gf;let e=gl(i),n;try{n=i.computation()}catch(r){n=ru,i.error=r}finally{su(i,e)}if(t!==ff&&t!==ru&&n!==ru&&i.equal(t,n)){i.value=t;return}i.value=n,i.version++}});function M2(){throw new Error}var u1=M2;function d1(){u1()}function h1(i){u1=i}var O2=null;function p1(i){let t=Object.create(g1);t.value=i;let e=()=>(vf(t),t.value);return e[Vi]=t,e}function yf(i,t){r1()||d1(),i.equal(i.value,t)||(i.value=t,A2(i))}function f1(i,t){r1()||d1(),yf(i,t(i.value))}var g1=ve(L({},Ho),{equal:e1,value:void 0});function A2(i){i.version++,T2(),i1(i),O2?.()}function m1(i,t,e){let n=Object.create(k2);e&&(n.consumerAllowSignalWrites=!0),n.fn=i,n.schedule=t;let r=l=>{n.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(au(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=mf)}let a=()=>{if(n.fn===null)return;if(E2())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!ou(n))return;n.hasRun=!0;let l=gl(n);try{n.cleanupFn(),n.cleanupFn=mf,n.fn(r)}finally{su(n,l)}};return n.ref={notify:()=>s1(n),run:a,cleanup:()=>n.cleanupFn(),destroy:()=>o(n),[Vi]:n},n.ref}var mf=()=>{},k2=ve(L({},Ho),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule!==null&&i.schedule(i.ref)},hasRun:!1,cleanupFn:mf});function Me(i){return typeof i=="function"}function Uo(i){let e=i(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var uu=Uo(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Fs(i,t){if(i){let e=i.indexOf(t);0<=e&&i.splice(e,1)}}var Tt=class i{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let s of e)s.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(Me(n))try{n()}catch(s){t=s instanceof uu?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{v1(s)}catch(o){t=t??[],o instanceof uu?t=[...t,...o.errors]:t.push(o)}}if(t)throw new uu(t)}}add(t){var e;if(t&&t!==this)if(this.closed)v1(t);else{if(t instanceof i){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Fs(e,t)}remove(t){let{_finalizers:e}=this;e&&Fs(e,t),t instanceof i&&t._removeParent(this)}};Tt.EMPTY=(()=>{let i=new Tt;return i.closed=!0,i})();var _f=Tt.EMPTY;function du(i){return i instanceof Tt||i&&"closed"in i&&Me(i.remove)&&Me(i.add)&&Me(i.unsubscribe)}function v1(i){Me(i)?i():i.unsubscribe()}var _i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zo={setTimeout(i,t,...e){let{delegate:n}=zo;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){let{delegate:t}=zo;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function hu(i){zo.setTimeout(()=>{let{onUnhandledError:t}=_i;if(t)t(i);else throw i})}function ml(){}var y1=bf("C",void 0,void 0);function _1(i){return bf("E",void 0,i)}function b1(i){return bf("N",i,void 0)}function bf(i,t,e){return{kind:i,value:t,error:e}}var Rs=null;function $o(i){if(_i.useDeprecatedSynchronousErrorHandling){let t=!Rs;if(t&&(Rs={errorThrown:!1,error:null}),i(),t){let{errorThrown:e,error:n}=Rs;if(Rs=null,e)throw n}}else i()}function C1(i){_i.useDeprecatedSynchronousErrorHandling&&Rs&&(Rs.errorThrown=!0,Rs.error=i)}var Ls=class extends Tt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,du(t)&&t.add(this)):this.destination=R2}static create(t,e,n){return new Go(t,e,n)}next(t){this.isStopped?wf(b1(t),this):this._next(t)}error(t){this.isStopped?wf(_1(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?wf(y1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},P2=Function.prototype.bind;function Cf(i,t){return P2.call(i,t)}var xf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){pu(n)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){pu(n)}else pu(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){pu(e)}}},Go=class extends Ls{constructor(t,e,n){super();let r;if(Me(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let s;this&&_i.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Cf(t.next,s),error:t.error&&Cf(t.error,s),complete:t.complete&&Cf(t.complete,s)}):r=t}this.destination=new xf(r)}};function pu(i){_i.useDeprecatedSynchronousErrorHandling?C1(i):hu(i)}function F2(i){throw i}function wf(i,t){let{onStoppedNotification:e}=_i;e&&zo.setTimeout(()=>e(i,t))}var R2={closed:!0,next:ml,error:F2,complete:ml};var Wo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Un(i){return i}function If(...i){return Sf(i)}function Sf(i){return i.length===0?Un:i.length===1?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}var $e=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){let s=N2(e)?e:new Go(e,n,r);return $o(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=w1(n),new n((r,s)=>{let o=new Go({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[Wo](){return this}pipe(...e){return Sf(e)(this)}toPromise(e){return e=w1(e),new e((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return i.create=t=>new i(t),i})();function w1(i){var t;return(t=i??_i.Promise)!==null&&t!==void 0?t:Promise}function L2(i){return i&&Me(i.next)&&Me(i.error)&&Me(i.complete)}function N2(i){return i&&i instanceof Ls||L2(i)&&du(i)}function Ef(i){return Me(i?.lift)}function We(i){return t=>{if(Ef(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ge(i,t,e,n,r){return new Tf(i,t,e,n,r)}var Tf=class extends Ls{constructor(t,e,n,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function qo(){return We((i,t)=>{let e=null;i._refCount++;let n=Ge(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount){e=null;return}let r=i._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}var Yo=class extends $e{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Ef(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Tt;let e=this.getSubject();t.add(this.source.subscribe(Ge(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Tt.EMPTY)}return t}refCount(){return qo()(this)}};var x1=Uo(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ct=(()=>{class i extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let n=new fu(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new x1}next(e){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(e)}})}error(e){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:n,isStopped:r,observers:s}=this;return n||r?_f:(this.currentObservers=null,s.push(e),new Tt(()=>{this.currentObservers=null,Fs(s,e)}))}_checkFinalizedStatuses(e){let{hasError:n,thrownError:r,isStopped:s}=this;n?e.error(r):s&&e.complete()}asObservable(){let e=new $e;return e.source=this,e}}return i.create=(t,e)=>new fu(t,e),i})(),fu=class extends Ct{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0||n.call(e,t)}error(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0||n.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&n!==void 0?n:_f}};var Zt=class extends Ct{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var Df={now(){return(Df.delegate||Date).now()},delegate:void 0};var gu=class extends Tt{constructor(t,e){super()}schedule(t,e=0){return this}};var vl={setInterval(i,t,...e){let{delegate:n}=vl;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){let{delegate:t}=vl;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};var mu=class extends gu{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,n=0){return vl.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return e;e!=null&&vl.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(t,e);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r;try{this.work(t)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Fs(n,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var Ko=class i{constructor(t,e=i.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}};Ko.now=Df.now;var vu=class extends Ko{constructor(t,e=Ko.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}};var V2=new vu(mu),I1=V2;var zn=new $e(i=>i.complete());function yu(i){return i&&Me(i.schedule)}function S1(i){return i[i.length-1]}function _u(i){return Me(S1(i))?i.pop():void 0}function $r(i){return yu(S1(i))?i.pop():void 0}function T1(i,t,e,n){function r(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((n=n.apply(i,t||[])).next())})}function E1(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ns(i){return this instanceof Ns?(this.v=i,this):new Ns(i)}function D1(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(i,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(f){return Promise.resolve(f).then(p,d)}}function a(p,f){n[p]&&(r[p]=function(y){return new Promise(function(_,b){s.push([p,y,_,b])>1||l(p,y)})},f&&(r[p]=f(r[p])))}function l(p,f){try{c(n[p](f))}catch(y){h(s[0][3],y)}}function c(p){p.value instanceof Ns?Promise.resolve(p.value.v).then(u,d):h(s[0][2],p)}function u(p){l("next",p)}function d(p){l("throw",p)}function h(p,f){p(f),s.shift(),s.length&&l(s[0][0],s[0][1])}}function M1(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],e;return t?t.call(i):(i=typeof E1=="function"?E1(i):i[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=i[s]&&function(o){return new Promise(function(a,l){o=i[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var bu=i=>i&&typeof i.length=="number"&&typeof i!="function";function Cu(i){return Me(i?.then)}function wu(i){return Me(i[Wo])}function xu(i){return Symbol.asyncIterator&&Me(i?.[Symbol.asyncIterator])}function Iu(i){return new TypeError(`You provided ${i!==null&&typeof i=="object"?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function j2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Su=j2();function Eu(i){return Me(i?.[Su])}function Tu(i){return D1(this,arguments,function*(){let e=i.getReader();try{for(;;){let{value:n,done:r}=yield Ns(e.read());if(r)return yield Ns(void 0);yield yield Ns(n)}}finally{e.releaseLock()}})}function Du(i){return Me(i?.getReader)}function jt(i){if(i instanceof $e)return i;if(i!=null){if(wu(i))return B2(i);if(bu(i))return H2(i);if(Cu(i))return U2(i);if(xu(i))return O1(i);if(Eu(i))return z2(i);if(Du(i))return $2(i)}throw Iu(i)}function B2(i){return new $e(t=>{let e=i[Wo]();if(Me(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function H2(i){return new $e(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}function U2(i){return new $e(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,hu)})}function z2(i){return new $e(t=>{for(let e of i)if(t.next(e),t.closed)return;t.complete()})}function O1(i){return new $e(t=>{G2(i,t).catch(e=>t.error(e))})}function $2(i){return O1(Tu(i))}function G2(i,t){var e,n,r,s;return T1(this,void 0,void 0,function*(){try{for(e=M1(i);n=yield e.next(),!n.done;){let o=n.value;if(t.next(o),t.closed)return}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})}function Mn(i,t,e,n=0,r=!1){let s=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(s),!r)return s}function Mu(i,t=0){return We((e,n)=>{e.subscribe(Ge(n,r=>Mn(n,i,()=>n.next(r),t),()=>Mn(n,i,()=>n.complete(),t),r=>Mn(n,i,()=>n.error(r),t)))})}function Ou(i,t=0){return We((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function A1(i,t){return jt(i).pipe(Ou(t),Mu(t))}function k1(i,t){return jt(i).pipe(Ou(t),Mu(t))}function P1(i,t){return new $e(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}function F1(i,t){return new $e(e=>{let n;return Mn(e,t,()=>{n=i[Su](),Mn(e,t,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){e.error(o);return}s?e.complete():e.next(r)},0,!0)}),()=>Me(n?.return)&&n.return()})}function Au(i,t){if(!i)throw new Error("Iterable cannot be null");return new $e(e=>{Mn(e,t,()=>{let n=i[Symbol.asyncIterator]();Mn(e,t,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function R1(i,t){return Au(Tu(i),t)}function L1(i,t){if(i!=null){if(wu(i))return A1(i,t);if(bu(i))return P1(i,t);if(Cu(i))return k1(i,t);if(xu(i))return Au(i,t);if(Eu(i))return F1(i,t);if(Du(i))return R1(i,t)}throw Iu(i)}function ft(i,t){return t?L1(i,t):jt(i)}function ge(...i){let t=$r(i);return ft(i,t)}function Xo(i,t){let e=Me(i)?i:()=>i,n=r=>r.error(e());return new $e(t?r=>t.schedule(n,0,r):n)}function Mf(i){return!!i&&(i instanceof $e||Me(i.lift)&&Me(i.subscribe))}var gr=Uo(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function N1(i){return i instanceof Date&&!isNaN(i)}function ke(i,t){return We((e,n)=>{let r=0;e.subscribe(Ge(n,s=>{n.next(i.call(t,s,r++))}))})}var{isArray:W2}=Array;function q2(i,t){return W2(t)?i(...t):i(t)}function ku(i){return ke(t=>q2(i,t))}var{isArray:Y2}=Array,{getPrototypeOf:K2,prototype:X2,keys:Q2}=Object;function Pu(i){if(i.length===1){let t=i[0];if(Y2(t))return{args:t,keys:null};if(Z2(t)){let e=Q2(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}function Z2(i){return i&&typeof i=="object"&&K2(i)===X2}function Fu(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}function yl(...i){let t=$r(i),e=_u(i),{args:n,keys:r}=Pu(i);if(n.length===0)return ft([],t);let s=new $e(J2(n,t,r?o=>Fu(r,o):Un));return e?s.pipe(ku(e)):s}function J2(i,t,e=Un){return n=>{V1(t,()=>{let{length:r}=i,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)V1(t,()=>{let c=ft(i[l],t),u=!1;c.subscribe(Ge(n,d=>{s[l]=d,u||(u=!0,a--),a||n.next(e(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function V1(i,t,e){i?Mn(e,i,t):t()}function j1(i,t,e,n,r,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},p=y=>c<n?f(y):l.push(y),f=y=>{s&&t.next(y),c++;let _=!1;jt(e(y,u++)).subscribe(Ge(t,b=>{r?.(b),s?p(b):t.next(b)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<n;){let b=l.shift();o?Mn(t,o,()=>f(b)):f(b)}h()}catch(b){t.error(b)}}))};return i.subscribe(Ge(t,p,()=>{d=!0,h()})),()=>{a?.()}}function Bt(i,t,e=1/0){return Me(t)?Bt((n,r)=>ke((s,o)=>t(n,s,r,o))(jt(i(n,r))),e):(typeof t=="number"&&(e=t),We((n,r)=>j1(n,r,i,e)))}function Gr(i=1/0){return Bt(Un,i)}function B1(){return Gr(1)}function Qo(...i){return B1()(ft(i,$r(i)))}function Ru(i){return new $e(t=>{jt(i()).subscribe(t)})}function Of(...i){let t=_u(i),{args:e,keys:n}=Pu(i),r=new $e(s=>{let{length:o}=e;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;jt(e[u]).subscribe(Ge(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(n?Fu(n,a):a),s.complete())}))}});return t?r.pipe(ku(t)):r}function Af(i=0,t,e=I1){let n=-1;return t!=null&&(yu(t)?e=t:n=t),new $e(r=>{let s=N1(i)?+i-e.now():i;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function On(i,t){return We((e,n)=>{let r=0;e.subscribe(Ge(n,s=>i.call(t,s,r++)&&n.next(s)))})}function Wr(i){return We((t,e)=>{let n=null,r=!1,s;n=t.subscribe(Ge(e,void 0,void 0,o=>{s=jt(i(o,Wr(i)(t))),n?(n.unsubscribe(),n=null,s.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(e))})}function H1(i,t,e,n,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(Ge(o,u=>{let d=c++;l=a?i(l,u,d):(a=!0,u),n&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function mr(i,t){return Me(t)?Bt(i,t,1):Bt(i,1)}function qr(i){return We((t,e)=>{let n=!1;t.subscribe(Ge(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function vr(i){return i<=0?()=>zn:We((t,e)=>{let n=0;t.subscribe(Ge(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function kf(i){return ke(()=>i)}function Lu(i=eM){return We((t,e)=>{let n=!1;t.subscribe(Ge(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function eM(){return new gr}function Yr(i){return We((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}function ji(i,t){let e=arguments.length>=2;return n=>n.pipe(i?On((r,s)=>i(r,s,n)):Un,vr(1),e?qr(t):Lu(()=>new gr))}function Zo(i){return i<=0?()=>zn:We((t,e)=>{let n=[];t.subscribe(Ge(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(let r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function Pf(i,t){let e=arguments.length>=2;return n=>n.pipe(i?On((r,s)=>i(r,s,n)):Un,Zo(1),e?qr(t):Lu(()=>new gr))}function Ff(i,t){return We(H1(i,t,arguments.length>=2,!0))}function Rf(...i){let t=$r(i);return We((e,n)=>{(t?Qo(i,e,t):Qo(i,e)).subscribe(n)})}function An(i,t){return We((e,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();e.subscribe(Ge(n,l=>{r?.unsubscribe();let c=0,u=s++;jt(i(l,u)).subscribe(r=Ge(n,d=>n.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Lf(i){return We((t,e)=>{jt(i).subscribe(Ge(e,()=>e.complete(),ml)),!e.closed&&t.subscribe(e)})}function qt(i,t,e){let n=Me(i)||t||e?{next:i,error:t,complete:e}:i;return n?We((r,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;r.subscribe(Ge(s,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),s.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),s.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),s.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):Un}var Pb="https://g.co/ng/security#xss",z=class extends Error{constructor(t,e){super(xd(t,e)),this.code=t}};function xd(i,t){return`${`NG0${Math.abs(i)}`}${t?": "+t:""}`}function Ml(i){return{toString:i}.toString()}var Nu="__parameters__";function tM(i){return function(...e){if(i){let n=i(...e);for(let r in n)this[r]=n[r]}}}function Fb(i,t,e){return Ml(()=>{let n=tM(t);function r(...s){if(this instanceof r)return n.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(Nu)?l[Nu]:Object.defineProperty(l,Nu,{value:[]})[Nu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}var si=globalThis;function pt(i){for(let t in i)if(i[t]===pt)return t;throw Error("Could not find renamed property on target object.")}function nM(i,t){for(let e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function pn(i){if(typeof i=="string")return i;if(Array.isArray(i))return"["+i.map(pn).join(", ")+"]";if(i==null)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;let t=i.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function Xf(i,t){return i==null||i===""?t===null?"":t:t==null||t===""?i:i+" "+t}var iM=pt({__forward_ref__:pt});function Ft(i){return i.__forward_ref__=Ft,i.toString=function(){return pn(this())},i}function hn(i){return Rb(i)?i():i}function Rb(i){return typeof i=="function"&&i.hasOwnProperty(iM)&&i.__forward_ref__===Ft}function Y(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ae(i){return{providers:i.providers||[],imports:i.imports||[]}}function Id(i){return U1(i,Nb)||U1(i,Vb)}function Lb(i){return Id(i)!==null}function U1(i,t){return i.hasOwnProperty(t)?i[t]:null}function rM(i){let t=i&&(i[Nb]||i[Vb]);return t||null}function z1(i){return i&&(i.hasOwnProperty($1)||i.hasOwnProperty(sM))?i[$1]:null}var Nb=pt({\u0275prov:pt}),$1=pt({\u0275inj:pt}),Vb=pt({ngInjectableDef:pt}),sM=pt({ngInjectorDef:pt}),ie=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=Y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jb(i){return i&&!!i.\u0275providers}var oM=pt({\u0275cmp:pt}),aM=pt({\u0275dir:pt}),lM=pt({\u0275pipe:pt}),cM=pt({\u0275mod:pt}),Qu=pt({\u0275fac:pt}),bl=pt({__NG_ELEMENT_ID__:pt}),G1=pt({__NG_ENV_ID__:pt});function Hs(i){return typeof i=="string"?i:i==null?"":String(i)}function uM(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():Hs(i)}function dM(i,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new z(-200,i)}function um(i,t){throw new z(-201,!1)}var Ve=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Ve||{}),Qf;function Bb(){return Qf}function ii(i){let t=Qf;return Qf=i,t}function Hb(i,t,e){let n=Id(i);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(e&Ve.Optional)return null;if(t!==void 0)return t;um(i,"Injector")}var hM={},Cl=hM,Zf="__NG_DI_FLAG__",Zu="ngTempTokenPath",pM="ngTokenPath",fM=/\n/gm,gM="\u0275",W1="__source",ia;function mM(){return ia}function Kr(i){let t=ia;return ia=i,t}function vM(i,t=Ve.Default){if(ia===void 0)throw new z(-203,!1);return ia===null?Hb(i,void 0,t):ia.get(i,t&Ve.Optional?null:void 0,t)}function ne(i,t=Ve.Default){return(Bb()||vM)(hn(i),t)}function j(i,t=Ve.Default){return ne(i,Sd(t))}function Sd(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Jf(i){let t=[];for(let e=0;e<i.length;e++){let n=hn(i[e]);if(Array.isArray(n)){if(n.length===0)throw new z(900,!1);let r,s=Ve.Default;for(let o=0;o<n.length;o++){let a=n[o],l=yM(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}t.push(ne(r,s))}else t.push(ne(n))}return t}function Ub(i,t){return i[Zf]=t,i.prototype[Zf]=t,i}function yM(i){return i[Zf]}function _M(i,t,e,n){let r=i[Zu];throw t[W1]&&r.unshift(t[W1]),i.message=bM(`
`+i.message,r,e,n),i[pM]=r,i[Zu]=null,i}function bM(i,t,e,n=null){i=i&&i.charAt(0)===`
`&&i.charAt(1)==gM?i.slice(2):i;let r=pn(t);if(Array.isArray(t))r=t.map(pn).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):pn(a)))}r=`{${s.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${i.replace(fM,`
  `)}`}var Ol=Ub(Fb("Optional"),8);var Ed=Ub(Fb("SkipSelf"),4);function sa(i,t){let e=i.hasOwnProperty(Qu);return e?i[Qu]:null}function CM(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],s=t[n];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}function wM(i){return i.flat(Number.POSITIVE_INFINITY)}function dm(i,t){i.forEach(e=>Array.isArray(e)?dm(e,t):t(e))}function zb(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function Ju(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function xM(i,t){let e=[];for(let n=0;n<i;n++)e.push(t);return e}function IM(i,t,e,n){let r=i.length;if(r==t)i.push(e,n);else if(r===1)i.push(n,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>t;){let s=r-2;i[r]=i[s],r--}i[t]=e,i[t+1]=n}}function Al(i,t,e){let n=kl(i,t);return n>=0?i[n|1]=e:(n=~n,IM(i,n,t,e)),n}function Nf(i,t){let e=kl(i,t);if(e>=0)return i[e|1]}function kl(i,t){return SM(i,t,1)}function SM(i,t,e){let n=0,r=i.length>>e;for(;r!==n;){let s=n+(r-n>>1),o=i[s<<e];if(t===o)return s<<e;o>t?r=s:n=s+1}return~(r<<e)}var oa={},kn=[],aa=new ie(""),$b=new ie("",-1),Gb=new ie(""),ed=class{get(t,e=Cl){if(e===Cl){let n=new Error(`NullInjectorError: No provider for ${pn(t)}!`);throw n.name="NullInjectorError",n}return e}},Wb=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Wb||{}),Ui=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Ui||{}),Zr=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(Zr||{});function EM(i,t,e){let n=i.length;for(;;){let r=i.indexOf(t,e);if(r===-1)return r;if(r===0||i.charCodeAt(r-1)<=32){let s=t.length;if(r+s===n||i.charCodeAt(r+s)<=32)return r}e=r+1}}function eg(i,t,e){let n=0;for(;n<e.length;){let r=e[n];if(typeof r=="number"){if(r!==0)break;n++;let s=e[n++],o=e[n++],a=e[n++];i.setAttribute(t,o,a,s)}else{let s=r,o=e[++n];TM(s)?i.setProperty(t,s,o):i.setAttribute(t,s,o),n++}}return n}function qb(i){return i===3||i===4||i===6}function TM(i){return i.charCodeAt(0)===64}function wl(i,t){if(!(t===null||t.length===0))if(i===null||i.length===0)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){let r=t[n];typeof r=="number"?e=r:e===0||(e===-1||e===2?q1(i,e,r,null,t[++n]):q1(i,e,r,null,null))}}return i}function q1(i,t,e,n,r){let s=0,o=i.length;if(t===-1)o=-1;else for(;s<i.length;){let a=i[s++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=s-1;break}}}for(;s<i.length;){let a=i[s];if(typeof a=="number")break;if(a===e){if(n===null){r!==null&&(i[s+1]=r);return}else if(n===i[s+1]){i[s+2]=r;return}}s++,n!==null&&s++,r!==null&&s++}o!==-1&&(i.splice(o,0,t),s=o+1),i.splice(s++,0,e),n!==null&&i.splice(s++,0,n),r!==null&&i.splice(s++,0,r)}var Yb="ng-template";function DM(i,t,e,n){let r=0;if(n){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&EM(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(hm(i))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&typeof(s=t[r])=="string";)if(s.toLowerCase()===e)return!0}return!1}function hm(i){return i.type===4&&i.value!==Yb}function MM(i,t,e){let n=i.type===4&&!e?Yb:i.value;return t===n}function OM(i,t,e){let n=4,r=i.attrs,s=r!==null?PM(r):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!o&&!bi(n)&&!bi(l))return!1;if(o&&bi(l))continue;o=!1,n=l|n&1;continue}if(!o)if(n&4){if(n=2|n&1,l!==""&&!MM(i,l,e)||l===""&&t.length===1){if(bi(n))return!1;o=!0}}else if(n&8){if(r===null||!DM(i,r,l,e)){if(bi(n))return!1;o=!0}}else{let c=t[++a],u=AM(l,r,hm(i),e);if(u===-1){if(bi(n))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=r[u+1].toLowerCase(),n&2&&c!==d){if(bi(n))return!1;o=!0}}}}return bi(n)||o}function bi(i){return(i&1)===0}function AM(i,t,e,n){if(t===null)return-1;let r=0;if(n||!e){let s=!1;for(;r<t.length;){let o=t[r];if(o===i)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return FM(t,i)}function Kb(i,t,e=!1){for(let n=0;n<t.length;n++)if(OM(i,t[n],e))return!0;return!1}function kM(i){let t=i.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function PM(i){for(let t=0;t<i.length;t++){let e=i[t];if(qb(e))return t}return i.length}function FM(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){let n=i[e];if(typeof n=="number")return-1;if(n===t)return e;e++}return-1}function RM(i,t){e:for(let e=0;e<t.length;e++){let n=t[e];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function Y1(i,t){return i?":not("+t.trim()+")":t}function LM(i){let t=i[0],e=1,n=2,r="",s=!1;for(;e<i.length;){let o=i[e];if(typeof o=="string")if(n&2){let a=i[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+o:n&4&&(r+=" "+o);else r!==""&&!bi(o)&&(t+=Y1(s,r),r=""),n=o,s=s||!bi(n);e++}return r!==""&&(t+=Y1(s,r)),t}function NM(i){return i.map(LM).join(",")}function VM(i){let t=[],e=[],n=1,r=2;for(;n<i.length;){let s=i[n];if(typeof s=="string")r===2?s!==""&&t.push(s,i[++n]):r===8&&e.push(s);else{if(!bi(r))break;r=s}n++}return{attrs:t,classes:e}}function B(i){return Ml(()=>{let t=eC(i),e=ve(L({},t),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Wb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Ui.Emulated,styles:i.styles||kn,_:null,schemas:i.schemas||null,tView:null,id:""});tC(e);let n=i.dependencies;return e.directiveDefs=X1(n,!1),e.pipeDefs=X1(n,!0),e.id=HM(e),e})}function jM(i){return Jr(i)||Xb(i)}function BM(i){return i!==null}function le(i){return Ml(()=>({type:i.type,bootstrap:i.bootstrap||kn,declarations:i.declarations||kn,imports:i.imports||kn,exports:i.exports||kn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function K1(i,t){if(i==null)return oa;let e={};for(let n in i)if(i.hasOwnProperty(n)){let r=i[n],s,o,a=Zr.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(e[s]=a!==Zr.None?[n,a]:n,t[s]=o):e[s]=n}return e}function st(i){return Ml(()=>{let t=eC(i);return tC(t),t})}function Jr(i){return i[oM]||null}function Xb(i){return i[aM]||null}function Qb(i){return i[lM]||null}function Zb(i){let t=Jr(i)||Xb(i)||Qb(i);return t!==null?t.standalone:!1}function Jb(i,t){let e=i[cM]||null;if(!e&&t===!0)throw new Error(`Type ${pn(i)} does not have '\u0275mod' property.`);return e}function eC(i){let t={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:i.inputs||oa,exportAs:i.exportAs||null,standalone:i.standalone===!0,signals:i.signals===!0,selectors:i.selectors||kn,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:K1(i.inputs,t),outputs:K1(i.outputs),debugInfo:null}}function tC(i){i.features?.forEach(t=>t(i))}function X1(i,t){if(!i)return null;let e=t?Qb:jM;return()=>(typeof i=="function"?i():i).map(n=>e(n)).filter(BM)}function HM(i){let t=0,e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(let r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Pl(i){return{\u0275providers:i}}function pm(...i){return{\u0275providers:nC(!0,i),\u0275fromNgModule:!0}}function nC(i,...t){let e=[],n=new Set,r,s=o=>{e.push(o)};return dm(t,o=>{let a=o;tg(a,s,[],n)&&(r||=[],r.push(a))}),r!==void 0&&iC(r,s),e}function iC(i,t){for(let e=0;e<i.length;e++){let{ngModule:n,providers:r}=i[e];fm(r,s=>{t(s,n)})}}function tg(i,t,e,n){if(i=hn(i),!i)return!1;let r=null,s=z1(i),o=!s&&Jr(i);if(!s&&!o){let l=i.ngModule;if(s=z1(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=i}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)tg(c,t,e,n)}}else if(s){if(s.imports!=null&&!a){n.add(r);let c;try{dm(s.imports,u=>{tg(u,t,e,n)&&(c||=[],c.push(u))})}finally{}c!==void 0&&iC(c,t)}if(!a){let c=sa(r)||(()=>new r);t({provide:r,useFactory:c,deps:kn},r),t({provide:Gb,useValue:r,multi:!0},r),t({provide:aa,useValue:()=>ne(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=i;fm(l,u=>{t(u,c)})}}else return!1;return r!==i&&i.providers!==void 0}function fm(i,t){for(let e of i)jb(e)&&(e=e.\u0275providers),Array.isArray(e)?fm(e,t):t(e)}var UM=pt({provide:String,useValue:pt});function rC(i){return i!==null&&typeof i=="object"&&UM in i}function zM(i){return!!(i&&i.useExisting)}function $M(i){return!!(i&&i.useFactory)}function la(i){return typeof i=="function"}function GM(i){return!!i.useClass}var Td=new ie(""),$u={},WM={},Vf;function gm(){return Vf===void 0&&(Vf=new ed),Vf}var fn=class{},xl=class extends fn{get destroyed(){return this._destroyed}constructor(t,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ig(t,o=>this.processProvider(o)),this.records.set($b,Jo(void 0,this)),r.has("environment")&&this.records.set(fn,Jo(void 0,this));let s=this.records.get(Td);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Gb,kn,Ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=ze(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ze(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=Kr(this),n=ii(void 0),r;try{return t()}finally{Kr(e),ii(n)}}get(t,e=Cl,n=Ve.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(G1))return t[G1](this);n=Sd(n);let r,s=Kr(this),o=ii(void 0);try{if(!(n&Ve.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=QM(t)&&Id(t);c&&this.injectableDefInScope(c)?l=Jo(ng(t),$u):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=n&Ve.Self?gm():this.parent;return e=n&Ve.Optional&&e===Cl?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Zu]=a[Zu]||[]).unshift(pn(t)),s)throw a;return _M(a,t,"R3InjectorError",this.source)}else throw a}finally{ii(o),Kr(s)}}resolveInjectorInitializers(){let t=ze(null),e=Kr(this),n=ii(void 0),r;try{let s=this.get(aa,kn,Ve.Self);for(let o of s)o()}finally{Kr(e),ii(n),ze(t)}}toString(){let t=[],e=this.records;for(let n of e.keys())t.push(pn(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(t){t=hn(t);let e=la(t)?t:hn(t&&t.provide),n=YM(t);if(!la(t)&&t.multi===!0){let r=this.records.get(e);r||(r=Jo(void 0,$u,!0),r.factory=()=>Jf(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,n)}hydrate(t,e){let n=ze(null);try{return e.value===$u&&(e.value=WM,e.value=e.factory()),typeof e.value=="object"&&e.value&&XM(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ze(n)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=hn(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function ng(i){let t=Id(i),e=t!==null?t.factory:sa(i);if(e!==null)return e;if(i instanceof ie)throw new z(204,!1);if(i instanceof Function)return qM(i);throw new z(204,!1)}function qM(i){if(i.length>0)throw new z(204,!1);let e=rM(i);return e!==null?()=>e.factory(i):()=>new i}function YM(i){if(rC(i))return Jo(void 0,i.useValue);{let t=sC(i);return Jo(t,$u)}}function sC(i,t,e){let n;if(la(i)){let r=hn(i);return sa(r)||ng(r)}else if(rC(i))n=()=>hn(i.useValue);else if($M(i))n=()=>i.useFactory(...Jf(i.deps||[]));else if(zM(i))n=()=>ne(hn(i.useExisting));else{let r=hn(i&&(i.useClass||i.provide));if(KM(i))n=()=>new r(...Jf(i.deps));else return sa(r)||ng(r)}return n}function Jo(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function KM(i){return!!i.deps}function XM(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function"}function QM(i){return typeof i=="function"||typeof i=="object"&&i instanceof ie}function ig(i,t){for(let e of i)Array.isArray(e)?ig(e,t):e&&jb(e)?ig(e.\u0275providers,t):t(e)}function oi(i,t){i instanceof xl&&i.assertNotDestroyed();let e,n=Kr(i),r=ii(void 0);try{return t()}finally{Kr(n),ii(r)}}function oC(){return Bb()!==void 0||mM()!=null}function aC(i){if(!oC())throw new z(-203,!1)}function ZM(i){return typeof i=="function"}var br=0,Ee=1,Ce=2,rn=3,Ci=4,Rn=5,ca=6,td=7,tn=8,ua=9,zi=10,wt=11,Il=12,Q1=13,_a=14,$n=15,Us=16,ea=17,yr=18,Dd=19,lC=20,Xr=21,Gu=22,ri=23,gn=25,cC=1;var zs=7,nd=8,da=9,nn=10,id=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(id||{});function Qr(i){return Array.isArray(i)&&typeof i[cC]=="object"}function Cr(i){return Array.isArray(i)&&i[cC]===!0}function mm(i){return(i.flags&4)!==0}function Md(i){return i.componentOffset>-1}function Od(i){return(i.flags&1)===1}function es(i){return!!i.template}function rg(i){return(i[Ce]&512)!==0}var sg=class{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}};function uC(i,t,e,n){t!==null?t.applyValueToInputSignal(t,n):i[e]=n}function Gt(){return dC}function dC(i){return i.type.prototype.ngOnChanges&&(i.setInput=eO),JM}Gt.ngInherit=!0;function JM(){let i=pC(this),t=i?.current;if(t){let e=i.previous;if(e===oa)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function eO(i,t,e,n,r){let s=this.declaredInputs[n],o=pC(i)||tO(i,{previous:oa,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new sg(c&&c.currentValue,e,l===oa),uC(i,t,r,e)}var hC="__ngSimpleChanges__";function pC(i){return i[hC]||null}function tO(i,t){return i[hC]=t}var Z1=null;var Bi=function(i,t,e){Z1?.(i,t,e)},fC="svg",nO="math";function $i(i){for(;Array.isArray(i);)i=i[br];return i}function gC(i,t){return $i(t[i])}function ai(i,t){return $i(t[i.index])}function vm(i,t){return i.data[t]}function iO(i,t){return i[t]}function ss(i,t){let e=t[i];return Qr(e)?e:e[br]}function rO(i){return(i[Ce]&4)===4}function ym(i){return(i[Ce]&128)===128}function sO(i){return Cr(i[rn])}function ts(i,t){return t==null?null:i[t]}function mC(i){i[ea]=0}function vC(i){i[Ce]&1024||(i[Ce]|=1024,ym(i)&&kd(i))}function oO(i,t){for(;i>0;)t=t[_a],i--;return t}function Ad(i){return!!(i[Ce]&9216||i[ri]?.dirty)}function og(i){i[zi].changeDetectionScheduler?.notify(8),i[Ce]&64&&(i[Ce]|=1024),Ad(i)&&kd(i)}function kd(i){i[zi].changeDetectionScheduler?.notify(0);let t=$s(i);for(;t!==null&&!(t[Ce]&8192||(t[Ce]|=8192,!ym(t)));)t=$s(t)}function yC(i,t){if((i[Ce]&256)===256)throw new z(911,!1);i[Xr]===null&&(i[Xr]=[]),i[Xr].push(t)}function aO(i,t){if(i[Xr]===null)return;let e=i[Xr].indexOf(t);e!==-1&&i[Xr].splice(e,1)}function $s(i){let t=i[rn];return Cr(t)?t[rn]:t}var Fe={lFrame:TC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _C=!1;function lO(){return Fe.lFrame.elementDepthCount}function cO(){Fe.lFrame.elementDepthCount++}function uO(){Fe.lFrame.elementDepthCount--}function bC(){return Fe.bindingsEnabled}function CC(){return Fe.skipHydrationRootTNode!==null}function dO(i){return Fe.skipHydrationRootTNode===i}function hO(){Fe.skipHydrationRootTNode=null}function ye(){return Fe.lFrame.lView}function Dt(){return Fe.lFrame.tView}function A(i){return Fe.lFrame.contextLView=i,i[tn]}function k(i){return Fe.lFrame.contextLView=null,i}function Jt(){let i=wC();for(;i!==null&&i.type===64;)i=i.parent;return i}function wC(){return Fe.lFrame.currentTNode}function pO(){let i=Fe.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}function Xs(i,t){let e=Fe.lFrame;e.currentTNode=i,e.isParent=t}function _m(){return Fe.lFrame.isParent}function bm(){Fe.lFrame.isParent=!1}function fO(){return Fe.lFrame.contextLView}function xC(){return _C}function J1(i){_C=i}function os(){let i=Fe.lFrame,t=i.bindingRootIndex;return t===-1&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function gO(){return Fe.lFrame.bindingIndex}function mO(i){return Fe.lFrame.bindingIndex=i}function ba(){return Fe.lFrame.bindingIndex++}function Cm(i){let t=Fe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}function vO(){return Fe.lFrame.inI18n}function yO(i,t){let e=Fe.lFrame;e.bindingIndex=e.bindingRootIndex=i,ag(t)}function _O(){return Fe.lFrame.currentDirectiveIndex}function ag(i){Fe.lFrame.currentDirectiveIndex=i}function bO(i){let t=Fe.lFrame.currentDirectiveIndex;return t===-1?null:i[t]}function IC(){return Fe.lFrame.currentQueryIndex}function wm(i){Fe.lFrame.currentQueryIndex=i}function CO(i){let t=i[Ee];return t.type===2?t.declTNode:t.type===1?i[Rn]:null}function SC(i,t,e){if(e&Ve.SkipSelf){let r=t,s=i;for(;r=r.parent,r===null&&!(e&Ve.Host);)if(r=CO(s),r===null||(s=s[_a],r.type&10))break;if(r===null)return!1;t=r,i=s}let n=Fe.lFrame=EC();return n.currentTNode=t,n.lView=i,!0}function xm(i){let t=EC(),e=i[Ee];Fe.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function EC(){let i=Fe.lFrame,t=i===null?null:i.child;return t===null?TC(i):t}function TC(i){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=t),t}function DC(){let i=Fe.lFrame;return Fe.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}var MC=DC;function Im(){let i=DC();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function wO(i){return(Fe.lFrame.contextLView=oO(i,Fe.lFrame.contextLView))[tn]}function wr(){return Fe.lFrame.selectedIndex}function Gs(i){Fe.lFrame.selectedIndex=i}function Pd(){let i=Fe.lFrame;return vm(i.tView,i.selectedIndex)}function _e(){Fe.lFrame.currentNamespace=fC}function xO(){return Fe.lFrame.currentNamespace}var OC=!0;function Fd(){return OC}function Rd(i){OC=i}function IO(i,t,e){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){let o=dC(t);(e.preOrderHooks??=[]).push(i,o),(e.preOrderCheckHooks??=[]).push(i,o)}r&&(e.preOrderHooks??=[]).push(0-i,r),s&&((e.preOrderHooks??=[]).push(i,s),(e.preOrderCheckHooks??=[]).push(i,s))}function Ld(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){let s=i.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(i.contentHooks??=[]).push(-e,o),a&&((i.contentHooks??=[]).push(e,a),(i.contentCheckHooks??=[]).push(e,a)),l&&(i.viewHooks??=[]).push(-e,l),c&&((i.viewHooks??=[]).push(e,c),(i.viewCheckHooks??=[]).push(e,c)),u!=null&&(i.destroyHooks??=[]).push(e,u)}}function Wu(i,t,e){AC(i,t,3,e)}function qu(i,t,e,n){(i[Ce]&3)===e&&AC(i,t,e,n)}function jf(i,t){let e=i[Ce];(e&3)===t&&(e&=16383,e+=1,i[Ce]=e)}function AC(i,t,e,n){let r=n!==void 0?i[ea]&65535:0,s=n??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if(typeof t[l+1]=="number"){if(a=t[l],n!=null&&a>=n)break}else t[l]<0&&(i[ea]+=65536),(a<s||s==-1)&&(SO(i,e,t,l),i[ea]=(i[ea]&4294901760)+l+2),l++}function eb(i,t){Bi(4,i,t);let e=ze(null);try{t.call(i)}finally{ze(e),Bi(5,i,t)}}function SO(i,t,e,n){let r=e[n]<0,s=e[n+1],o=r?-e[n]:e[n],a=i[o];r?i[Ce]>>14<i[ea]>>16&&(i[Ce]&3)===t&&(i[Ce]+=16384,eb(a,s)):eb(a,s)}var ra=-1,Ws=class{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}};function EO(i){return i instanceof Ws}function TO(i){return(i.flags&8)!==0}function DO(i){return(i.flags&16)!==0}var Bf={},lg=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=Sd(n);let r=this.injector.get(t,Bf,n);return r!==Bf||e===Bf?r:this.parentInjector.get(t,e,n)}};function kC(i){return i!==ra}function rd(i){return i&32767}function MO(i){return i>>16}function sd(i,t){let e=MO(i),n=t;for(;e>0;)n=n[_a],e--;return n}var cg=!0;function tb(i){let t=cg;return cg=i,t}var OO=256,PC=OO-1,FC=5,AO=0,Hi={};function kO(i,t,e){let n;typeof e=="string"?n=e.charCodeAt(0)||0:e.hasOwnProperty(bl)&&(n=e[bl]),n==null&&(n=e[bl]=AO++);let r=n&PC,s=1<<r;t.data[i+(r>>FC)]|=s}function od(i,t){let e=RC(i,t);if(e!==-1)return e;let n=t[Ee];n.firstCreatePass&&(i.injectorIndex=t.length,Hf(n.data,i),Hf(t,null),Hf(n.blueprint,null));let r=Sm(i,t),s=i.injectorIndex;if(kC(r)){let o=rd(r),a=sd(r,t),l=a[Ee].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function Hf(i,t){i.push(0,0,0,0,0,0,0,0,t)}function RC(i,t){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||t[i.injectorIndex+8]===null?-1:i.injectorIndex}function Sm(i,t){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let e=0,n=null,r=t;for(;r!==null;){if(n=BC(r),n===null)return ra;if(e++,r=r[_a],n.injectorIndex!==-1)return n.injectorIndex|e<<16}return ra}function ug(i,t,e){kO(i,t,e)}function PO(i,t){if(t==="class")return i.classes;if(t==="style")return i.styles;let e=i.attrs;if(e){let n=e.length,r=0;for(;r<n;){let s=e[r];if(qb(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<n&&typeof e[r]=="string";)r++;else{if(s===t)return e[r+1];r=r+2}}}return null}function LC(i,t,e){if(e&Ve.Optional||i!==void 0)return i;um(t,"NodeInjector")}function NC(i,t,e,n){if(e&Ve.Optional&&n===void 0&&(n=null),!(e&(Ve.Self|Ve.Host))){let r=i[ua],s=ii(void 0);try{return r?r.get(t,n,e&Ve.Optional):Hb(t,n,e&Ve.Optional)}finally{ii(s)}}return LC(n,t,e)}function VC(i,t,e,n=Ve.Default,r){if(i!==null){if(t[Ce]&2048&&!(n&Ve.Self)){let o=NO(i,t,e,n,Hi);if(o!==Hi)return o}let s=jC(i,t,e,n,Hi);if(s!==Hi)return s}return NC(t,e,n,r)}function jC(i,t,e,n,r){let s=RO(e);if(typeof s=="function"){if(!SC(t,i,n))return n&Ve.Host?LC(r,e,n):NC(t,e,n,r);try{let o;if(o=s(n),o==null&&!(n&Ve.Optional))um(e);else return o}finally{MC()}}else if(typeof s=="number"){let o=null,a=RC(i,t),l=ra,c=n&Ve.Host?t[$n][Rn]:null;for((a===-1||n&Ve.SkipSelf)&&(l=a===-1?Sm(i,t):t[a+8],l===ra||!ib(n,!1)?a=-1:(o=t[Ee],a=rd(l),t=sd(l,t)));a!==-1;){let u=t[Ee];if(nb(s,a,u.data)){let d=FO(a,t,e,o,n,c);if(d!==Hi)return d}l=t[a+8],l!==ra&&ib(n,t[Ee].data[a+8]===c)&&nb(s,a,t)?(o=u,a=rd(l),t=sd(l,t)):a=-1}}return r}function FO(i,t,e,n,r,s){let o=t[Ee],a=o.data[i+8],l=n==null?Md(a)&&cg:n!=o&&(a.type&3)!==0,c=r&Ve.Host&&s===a,u=Yu(a,o,e,l,c);return u!==null?qs(t,o,u,a):Hi}function Yu(i,t,e,n,r){let s=i.providerIndexes,o=t.data,a=s&1048575,l=i.directiveStart,c=i.directiveEnd,u=s>>20,d=n?a:a+u,h=r?a+u:c;for(let p=d;p<h;p++){let f=o[p];if(p<l&&e===f||p>=l&&f.type===e)return p}if(r){let p=o[l];if(p&&es(p)&&p.type===e)return l}return null}function qs(i,t,e,n){let r=i[e],s=t.data;if(EO(r)){let o=r;o.resolving&&dM(uM(s[e]));let a=tb(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?ii(o.injectImpl):null,u=SC(i,n,Ve.Default);try{r=i[e]=o.factory(void 0,s,i,n),t.firstCreatePass&&e>=n.directiveStart&&IO(e,s[e],t)}finally{c!==null&&ii(c),tb(a),o.resolving=!1,MC()}}return r}function RO(i){if(typeof i=="string")return i.charCodeAt(0)||0;let t=i.hasOwnProperty(bl)?i[bl]:void 0;return typeof t=="number"?t>=0?t&PC:LO:t}function nb(i,t,e){let n=1<<i;return!!(e[t+(i>>FC)]&n)}function ib(i,t){return!(i&Ve.Self)&&!(i&Ve.Host&&t)}var Bs=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return VC(this._tNode,this._lView,t,Sd(n),e)}};function LO(){return new Bs(Jt(),ye())}function me(i){return Ml(()=>{let t=i.prototype.constructor,e=t[Qu]||dg(t),n=Object.prototype,r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){let s=r[Qu]||dg(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function dg(i){return Rb(i)?()=>{let t=dg(hn(i));return t&&t()}:sa(i)}function NO(i,t,e,n,r){let s=i,o=t;for(;s!==null&&o!==null&&o[Ce]&2048&&!(o[Ce]&512);){let a=jC(s,o,e,n|Ve.Self,Hi);if(a!==Hi)return a;let l=s.parent;if(!l){let c=o[lC];if(c){let u=c.get(e,Hi,n);if(u!==Hi)return u}l=BC(o),o=o[_a]}s=l}return r}function BC(i){let t=i[Ee],e=t.type;return e===2?t.declTNode:e===1?i[Rn]:null}function Em(i){return PO(Jt(),i)}function rb(i,t=null,e=null,n){let r=HC(i,t,e,n);return r.resolveInjectorInitializers(),r}function HC(i,t=null,e=null,n,r=new Set){let s=[e||kn,pm(i)];return n=n||(typeof i=="object"?void 0:pn(i)),new xl(s,t||gm(),n||null,r)}var Vs=class Vs{static create(t,e){if(Array.isArray(t))return rb({name:""},e,t,"");{let n=t.name??"";return rb({name:n},t.parent,t.providers,n)}}};Vs.THROW_IF_NOT_FOUND=Cl,Vs.NULL=new ed,Vs.\u0275prov=Y({token:Vs,providedIn:"any",factory:()=>ne($b)}),Vs.__NG_ELEMENT_ID__=-1;var Pn=Vs;var VO=new ie("");VO.__NG_ELEMENT_ID__=i=>{let t=Jt();if(t===null)throw new z(204,!1);if(t.type&2)return t.value;if(i&Ve.Optional)return null;throw new z(204,!1)};var jO="ngOriginalError";function Uf(i){return i[jO]}var UC=!0,Nd=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=BO,t.__NG_ENV_ID__=n=>n;let i=t;return i})(),hg=class extends Nd{constructor(t){super(),this._lView=t}onDestroy(t){return yC(this._lView,t),()=>aO(this._lView,t)}};function BO(){return new hg(ye())}var qi=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new t});let i=t;return i})();var pg=class extends Ct{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,oC()&&(this.destroyRef=j(Nd,{optional:!0})??void 0,this.pendingTasks=j(qi,{optional:!0})??void 0)}emit(t){let e=ze(null);try{super.next(t)}finally{ze(e)}}subscribe(t,e,n){let r=t,s=e||(()=>null),o=n;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return t instanceof Tt&&t.add(a),a}wrapInTimeout(t){return e=>{let n=this.pendingTasks?.add();setTimeout(()=>{t(e),n!==void 0&&this.pendingTasks?.remove(n)})}}},U=pg;function ad(...i){}function zC(i){let t,e;function n(){i=ad;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{i(),n()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{i(),n()})),()=>n()}function sb(i){return queueMicrotask(()=>i()),()=>{i=ad}}var Tm="isAngularZone",ld=Tm+"_ID",HO=0,Oe=class i{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new U(!1),this.onMicrotaskEmpty=new U(!1),this.onStable=new U(!1),this.onError=new U(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=UC}=t;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,$O(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Tm)===!0}static assertInAngularZone(){if(!i.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(i.isInAngularZone())throw new z(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,UO,ad,ad);try{return s.runTask(o,e,n)}finally{s.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}},UO={};function Dm(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function zO(i){if(i.isCheckStableRunning||i.callbackScheduled)return;i.callbackScheduled=!0;function t(){zC(()=>{i.callbackScheduled=!1,fg(i),i.isCheckStableRunning=!0,Dm(i),i.isCheckStableRunning=!1})}i.scheduleInRootZone?Zone.root.run(()=>{t()}):i._outer.run(()=>{t()}),fg(i)}function $O(i){let t=()=>{zO(i)},e=HO++;i._inner=i._inner.fork({name:"angular",properties:{[Tm]:!0,[ld]:e,[ld+e]:!0},onInvokeTask:(n,r,s,o,a,l)=>{if(GO(l))return n.invokeTask(s,o,a,l);try{return ob(i),n.invokeTask(s,o,a,l)}finally{(i.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&t(),ab(i)}},onInvoke:(n,r,s,o,a,l,c)=>{try{return ob(i),n.invoke(s,o,a,l,c)}finally{i.shouldCoalesceRunChangeDetection&&!i.callbackScheduled&&!WO(l)&&t(),ab(i)}},onHasTask:(n,r,s,o)=>{n.hasTask(s,o),r===s&&(o.change=="microTask"?(i._hasPendingMicrotasks=o.microTask,fg(i),Dm(i)):o.change=="macroTask"&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,s,o)=>(n.handleError(s,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}function fg(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.callbackScheduled===!0?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1}function ob(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function ab(i){i._nesting--,Dm(i)}var gg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new U,this.onMicrotaskEmpty=new U,this.onStable=new U,this.onError=new U}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}};function GO(i){return $C(i,"__ignore_ng_zone__")}function WO(i){return $C(i,"__scheduler_tick__")}function $C(i,t){return!Array.isArray(i)||i.length!==1?!1:i[0]?.data?.[t]===!0}var Gi=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Uf(t);for(;e&&Uf(e);)e=Uf(e);return e||null}},qO=new ie("",{providedIn:"root",factory:()=>{let i=j(Oe),t=j(Gi);return e=>i.runOutsideAngular(()=>t.handleError(e))}});function YO(){return Ca(Jt(),ye())}function Ca(i,t){return new pe(ai(i,t))}var pe=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=YO;let i=t;return i})();function KO(i){return i instanceof pe?i.nativeElement:i}function XO(){return this._results[Symbol.iterator]()}var mg=class i{get changes(){return this._changes??=new U}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=i.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=XO)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let n=wM(t);(this._changesDetected=!CM(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function GC(i){return(i.flags&128)===128}var WC=new Map,QO=0;function ZO(){return QO++}function JO(i){WC.set(i[Dd],i)}function vg(i){WC.delete(i[Dd])}var lb="__ngContext__";function ns(i,t){Qr(t)?(i[lb]=t[Dd],JO(t)):i[lb]=t}function qC(i){return KC(i[Il])}function YC(i){return KC(i[Ci])}function KC(i){for(;i!==null&&!Cr(i);)i=i[Ci];return i}var yg;function XC(i){yg=i}function QC(){if(yg!==void 0)return yg;if(typeof document<"u")return document;throw new z(210,!1)}var Vd=new ie("",{providedIn:"root",factory:()=>eA}),eA="ng",Mm=new ie(""),ot=new ie("",{providedIn:"platform",factory:()=>"unknown"});var Om=new ie(""),Am=new ie("",{providedIn:"root",factory:()=>QC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tA="h",nA="b";var iA=()=>null;function km(i,t,e=!1){return iA(i,t,e)}var ZC=!1,rA=new ie("",{providedIn:"root",factory:()=>ZC});var Vu;function sA(){if(Vu===void 0&&(Vu=null,si.trustedTypes))try{Vu=si.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Vu}function jd(i){return sA()?.createHTML(i)||i}var ju;function JC(){if(ju===void 0&&(ju=null,si.trustedTypes))try{ju=si.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return ju}function cb(i){return JC()?.createHTML(i)||i}function ub(i){return JC()?.createScriptURL(i)||i}var _r=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pb})`}},_g=class extends _r{getTypeName(){return"HTML"}},bg=class extends _r{getTypeName(){return"Style"}},Cg=class extends _r{getTypeName(){return"Script"}},wg=class extends _r{getTypeName(){return"URL"}},xg=class extends _r{getTypeName(){return"ResourceURL"}};function Gn(i){return i instanceof _r?i.changingThisBreaksApplicationSecurity:i}function xr(i,t){let e=oA(i);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Pb})`)}return e===t}function oA(i){return i instanceof _r&&i.getTypeName()||null}function ew(i){return new _g(i)}function tw(i){return new bg(i)}function nw(i){return new Cg(i)}function iw(i){return new wg(i)}function rw(i){return new xg(i)}function aA(i){let t=new Sg(i);return lA()?new Ig(t):t}var Ig=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(jd(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},Sg=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=jd(t),e}};function lA(){try{return!!new window.DOMParser().parseFromString(jd(""),"text/html")}catch{return!1}}var cA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bd(i){return i=String(i),i.match(cA)?i:"unsafe:"+i}function Ir(i){let t={};for(let e of i.split(","))t[e]=!0;return t}function Fl(...i){let t={};for(let e of i)for(let n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}var sw=Ir("area,br,col,hr,img,wbr"),ow=Ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aw=Ir("rp,rt"),uA=Fl(aw,ow),dA=Fl(ow,Ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hA=Fl(aw,Ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),db=Fl(sw,dA,hA,uA),lw=Ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pA=Ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fA=Ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),gA=Fl(lw,pA,fA),mA=Ir("script,style,template"),Eg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild){r.push(e),e=_A(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=yA(e);if(s){e=s;break}e=r.pop()}}return this.buf.join("")}startElement(t){let e=hb(t).toLowerCase();if(!db.hasOwnProperty(e))return this.sanitizedSomething=!0,!mA.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let n=t.attributes;for(let r=0;r<n.length;r++){let s=n.item(r),o=s.name,a=o.toLowerCase();if(!gA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;lw[a]&&(l=Bd(l)),this.buf.push(" ",o,'="',pb(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=hb(t).toLowerCase();db.hasOwnProperty(e)&&!sw.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pb(t))}};function vA(i,t){return(i.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function yA(i){let t=i.nextSibling;if(t&&i!==t.previousSibling)throw cw(t);return t}function _A(i){let t=i.firstChild;if(t&&vA(i,t))throw cw(t);return t}function hb(i){let t=i.nodeName;return typeof t=="string"?t:"FORM"}function cw(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`)}var bA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,CA=/([^\#-~ |!])/g;function pb(i){return i.replace(/&/g,"&amp;").replace(bA,function(t){let e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+((e-55296)*1024+(n-56320)+65536)+";"}).replace(CA,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Bu;function Pm(i,t){let e=null;try{Bu=Bu||aA(i);let n=t?String(t):"";e=Bu.getInertBodyElement(n);let r=5,s=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=e.innerHTML,e=Bu.getInertBodyElement(n)}while(n!==s);let a=new Eg().sanitizeChildren(fb(e)||e);return jd(a)}finally{if(e){let n=fb(e)||e;for(;n.firstChild;)n.firstChild.remove()}}}function fb(i){return"content"in i&&wA(i)?i.content:null}function wA(i){return i.nodeType===Node.ELEMENT_NODE&&i.nodeName==="TEMPLATE"}var xi=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(xi||{});function Qs(i){let t=Fm();return t?cb(t.sanitize(xi.HTML,i)||""):xr(i,"HTML")?cb(Gn(i)):Pm(QC(),Hs(i))}function Sr(i){let t=Fm();return t?t.sanitize(xi.URL,i)||"":xr(i,"URL")?Gn(i):Bd(Hs(i))}function xA(i){let t=Fm();if(t)return ub(t.sanitize(xi.RESOURCE_URL,i)||"");if(xr(i,"ResourceURL"))return ub(Gn(i));throw new z(904,!1)}function IA(i,t){return t==="src"&&(i==="embed"||i==="frame"||i==="iframe"||i==="media"||i==="script")||t==="href"&&(i==="base"||i==="link")?xA:Sr}function uw(i,t,e){return IA(t,e)(i)}function Fm(){let i=ye();return i&&i[zi].sanitizer}var SA=/^>|^->|<!--|-->|--!>|<!-$/g,EA=/(<|>)/g,TA="\u200B$1\u200B";function DA(i){return i.replace(SA,t=>t.replace(EA,TA))}function Hd(i){return i.ownerDocument}function dw(i){return i instanceof Function?i():i}function MA(i){return(i??j(Pn)).get(ot)==="browser"}var Wi=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Wi||{}),OA;function Rm(i,t){return OA(i,t)}function ta(i,t,e,n,r){if(n!=null){let s,o=!1;Cr(n)?s=n:Qr(n)&&(o=!0,n=n[br]);let a=$i(n);i===0&&e!==null?r==null?mw(t,e,a):cd(t,e,a,r||null,!0):i===1&&e!==null?cd(t,e,a,r||null,!0):i===2?$A(t,a,o):i===3&&t.destroyNode(a),s!=null&&WA(t,i,s,e,r)}}function AA(i,t){return i.createText(t)}function kA(i,t,e){i.setValue(t,e)}function PA(i,t){return i.createComment(DA(t))}function hw(i,t,e){return i.createElement(t,e)}function FA(i,t){pw(i,t),t[br]=null,t[Rn]=null}function RA(i,t,e,n,r,s){n[br]=r,n[Rn]=t,$d(i,n,e,1,r,s)}function pw(i,t){t[zi].changeDetectionScheduler?.notify(9),$d(i,t,t[wt],2,null,null)}function LA(i){let t=i[Il];if(!t)return zf(i[Ee],i);for(;t;){let e=null;if(Qr(t))e=t[Il];else{let n=t[nn];n&&(e=n)}if(!e){for(;t&&!t[Ci]&&t!==i;)Qr(t)&&zf(t[Ee],t),t=t[rn];t===null&&(t=i),Qr(t)&&zf(t[Ee],t),e=t&&t[Ci]}t=e}}function NA(i,t,e,n){let r=nn+n,s=e.length;n>0&&(e[r-1][Ci]=t),n<s-nn?(t[Ci]=e[r],zb(e,nn+n,t)):(e.push(t),t[Ci]=null),t[rn]=e;let o=t[Us];o!==null&&e!==o&&fw(o,t);let a=t[yr];a!==null&&a.insertView(i),og(t),t[Ce]|=128}function fw(i,t){let e=i[da],n=t[rn];if(Qr(n))i[Ce]|=id.HasTransplantedViews;else{let r=n[rn][$n];t[$n]!==r&&(i[Ce]|=id.HasTransplantedViews)}e===null?i[da]=[t]:e.push(t)}function Lm(i,t){let e=i[da],n=e.indexOf(t);e.splice(n,1)}function Sl(i,t){if(i.length<=nn)return;let e=nn+t,n=i[e];if(n){let r=n[Us];r!==null&&r!==i&&Lm(r,n),t>0&&(i[e-1][Ci]=n[Ci]);let s=Ju(i,nn+t);FA(n[Ee],n);let o=s[yr];o!==null&&o.detachView(s[Ee]),n[rn]=null,n[Ci]=null,n[Ce]&=-129}return n}function Ud(i,t){if(!(t[Ce]&256)){let e=t[wt];e.destroyNode&&$d(i,t,e,3,null,null),LA(t)}}function zf(i,t){if(t[Ce]&256)return;let e=ze(null);try{t[Ce]&=-129,t[Ce]|=256,t[ri]&&au(t[ri]),jA(i,t),VA(i,t),t[Ee].type===1&&t[wt].destroy();let n=t[Us];if(n!==null&&Cr(t[rn])){n!==t[rn]&&Lm(n,t);let r=t[yr];r!==null&&r.detachView(i)}vg(t)}finally{ze(e)}}function VA(i,t){let e=i.cleanup,n=t[td];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let o=e[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[e[s+1]];e[s].call(o)}n!==null&&(t[td]=null);let r=t[Xr];if(r!==null){t[Xr]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function jA(i,t){let e;if(i!=null&&(e=i.destroyHooks)!=null)for(let n=0;n<e.length;n+=2){let r=t[e[n]];if(!(r instanceof Ws)){let s=e[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Bi(4,a,l);try{l.call(a)}finally{Bi(5,a,l)}}else{Bi(4,r,s);try{s.call(r)}finally{Bi(5,r,s)}}}}}function gw(i,t,e){return BA(i,t.parent,e)}function BA(i,t,e){let n=t;for(;n!==null&&n.type&168;)t=n,n=t.parent;if(n===null)return e[br];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:s}=i.data[n.directiveStart+r];if(s===Ui.None||s===Ui.Emulated)return null}return ai(n,e)}}function cd(i,t,e,n,r){i.insertBefore(t,e,n,r)}function mw(i,t,e){i.appendChild(t,e)}function gb(i,t,e,n,r){n!==null?cd(i,t,e,n,r):mw(i,t,e)}function vw(i,t){return i.parentNode(t)}function HA(i,t){return i.nextSibling(t)}function yw(i,t,e){return zA(i,t,e)}function UA(i,t,e){return i.type&40?ai(i,e):null}var zA=UA,mb;function zd(i,t,e,n){let r=gw(i,n,t),s=t[wt],o=n.parent||t[Rn],a=yw(o,n,t);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)gb(s,r,e[l],a,!1);else gb(s,r,e,a,!1);mb!==void 0&&mb(s,n,t,e,r)}function _l(i,t){if(t!==null){let e=t.type;if(e&3)return ai(t,i);if(e&4)return Tg(-1,i[t.index]);if(e&8){let n=t.child;if(n!==null)return _l(i,n);{let r=i[t.index];return Cr(r)?Tg(-1,r):$i(r)}}else{if(e&128)return _l(i,t.next);if(e&32)return Rm(t,i)()||$i(i[t.index]);{let n=_w(i,t);if(n!==null){if(Array.isArray(n))return n[0];let r=$s(i[$n]);return _l(r,n)}else return _l(i,t.next)}}}return null}function _w(i,t){if(t!==null){let n=i[$n][Rn],r=t.projection;return n.projection[r]}return null}function Tg(i,t){let e=nn+i+1;if(e<t.length){let n=t[e],r=n[Ee].firstChild;if(r!==null)return _l(n,r)}return t[zs]}function $A(i,t,e){i.removeChild(null,t,e)}function Nm(i,t,e,n,r,s,o){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=n[e.index],l=e.type;if(o&&t===0&&(a&&ns($i(a),n),e.flags|=2),(e.flags&32)!==32)if(l&8)Nm(i,t,e.child,n,r,s,!1),ta(t,i,r,a,s);else if(l&32){let c=Rm(e,n),u;for(;u=c();)ta(t,i,r,u,s);ta(t,i,r,a,s)}else l&16?bw(i,t,n,e,r,s):ta(t,i,r,a,s);e=o?e.projectionNext:e.next}}function $d(i,t,e,n,r,s){Nm(e,n,i.firstChild,t,r,s,!1)}function GA(i,t,e){let n=t[wt],r=gw(i,e,t),s=e.parent||t[Rn],o=yw(s,e,t);bw(n,0,t,e,r,o)}function bw(i,t,e,n,r,s){let o=e[$n],l=o[Rn].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];ta(t,i,r,u,s)}else{let c=l,u=o[rn];GC(n)&&(c.flags|=128),Nm(i,t,c,u,r,s,!0)}}function WA(i,t,e,n,r){let s=e[zs],o=$i(e);s!==o&&ta(t,i,n,s,r);for(let a=nn;a<e.length;a++){let l=e[a];$d(l[Ee],l,i,t,n,s)}}function qA(i,t,e,n,r){if(t)r?i.addClass(e,n):i.removeClass(e,n);else{let s=n.indexOf("-")===-1?void 0:Wi.DashCase;r==null?i.removeStyle(e,n,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Wi.Important),i.setStyle(e,n,r,s))}}function YA(i,t,e){i.setAttribute(t,"style",e)}function Cw(i,t,e){e===""?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function ww(i,t,e){let{mergedAttrs:n,classes:r,styles:s}=e;n!==null&&eg(i,t,n),r!==null&&Cw(i,t,r),s!==null&&YA(i,t,s)}var Ln={};function m(i=1){xw(Dt(),ye(),wr()+i,!1)}function xw(i,t,e,n){if(!n)if((t[Ce]&3)===3){let s=i.preOrderCheckHooks;s!==null&&Wu(t,s,e)}else{let s=i.preOrderHooks;s!==null&&qu(t,s,0,e)}Gs(e)}function D(i,t=Ve.Default){let e=ye();if(e===null)return ne(i,t);let n=Jt();return VC(n,e,hn(i),t)}function Iw(){let i="invalid";throw new Error(i)}function Sw(i,t,e,n,r,s){let o=ze(null);try{let a=null;r&Zr.SignalBased&&(a=t[n][Vi]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Zr.HasDecoratorInputTransform&&(s=i.inputTransforms[n].call(t,s)),i.setInput!==null?i.setInput(t,a,s,e,n):uC(t,a,n,s)}finally{ze(o)}}function KA(i,t){let e=i.hostBindingOpCodes;if(e!==null)try{for(let n=0;n<e.length;n++){let r=e[n];if(r<0)Gs(~r);else{let s=r,o=e[++n],a=e[++n];yO(o,s);let l=t[s];a(2,l)}}}finally{Gs(-1)}}function Gd(i,t,e,n,r,s,o,a,l,c,u){let d=t.blueprint.slice();return d[br]=r,d[Ce]=n|4|128|8|64,(c!==null||i&&i[Ce]&2048)&&(d[Ce]|=2048),mC(d),d[rn]=d[_a]=i,d[tn]=e,d[zi]=o||i&&i[zi],d[wt]=a||i&&i[wt],d[ua]=l||i&&i[ua]||null,d[Rn]=s,d[Dd]=ZO(),d[ca]=u,d[lC]=c,d[$n]=t.type==2?i[$n]:d,d}function wa(i,t,e,n,r){let s=i.data[t];if(s===null)s=XA(i,t,e,n,r),vO()&&(s.flags|=32);else if(s.type&64){s.type=e,s.value=n,s.attrs=r;let o=pO();s.injectorIndex=o===null?-1:o.injectorIndex}return Xs(s,!0),s}function XA(i,t,e,n,r){let s=wC(),o=_m(),a=o?s:s&&s.parent,l=i.data[t]=nk(i,a,e,t,n,r);return i.firstChild===null&&(i.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Ew(i,t,e,n){if(e===0)return-1;let r=t.length;for(let s=0;s<e;s++)t.push(n),i.blueprint.push(n),i.data.push(null);return r}function Tw(i,t,e,n,r){let s=wr(),o=n&2;try{Gs(-1),o&&t.length>gn&&xw(i,t,gn,!1),Bi(o?2:0,r),e(n,r)}finally{Gs(s),Bi(o?3:1,r)}}function Vm(i,t,e){if(mm(t)){let n=ze(null);try{let r=t.directiveStart,s=t.directiveEnd;for(let o=r;o<s;o++){let a=i.data[o];if(a.contentQueries){let l=e[o];a.contentQueries(1,l,o)}}}finally{ze(n)}}}function jm(i,t,e){bC()&&(lk(i,t,e,ai(e,t)),(e.flags&64)===64&&Ow(i,t,e))}function Bm(i,t,e=ai){let n=t.localNames;if(n!==null){let r=t.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?e(t,i):i[o];i[r++]=a}}}function Dw(i){let t=i.tView;return t===null||t.incompleteFirstPass?i.tView=Hm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):t}function Hm(i,t,e,n,r,s,o,a,l,c,u){let d=gn+n,h=d+r,p=QA(d,h),f=typeof c=="function"?c():c;return p[Ee]={type:i,blueprint:p,template:e,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:u}}function QA(i,t){let e=[];for(let n=0;n<t;n++)e.push(n<i?null:Ln);return e}function ZA(i,t,e,n){let s=n.get(rA,ZC)||e===Ui.ShadowDom,o=i.selectRootElement(t,s);return JA(o),o}function JA(i){ek(i)}var ek=()=>null;function tk(i,t,e,n){let r=Pw(t);r.push(e),i.firstCreatePass&&Fw(i).push(n,r.length-1)}function nk(i,t,e,n,r,s){let o=t?t.injectorIndex:-1,a=0;return CC()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function vb(i,t,e,n,r){for(let s in t){if(!t.hasOwnProperty(s))continue;let o=t[s];if(o===void 0)continue;n??={};let a,l=Zr.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}i===0?yb(n,e,c,a,l):yb(n,e,c,a)}return n}function yb(i,t,e,n,r){let s;i.hasOwnProperty(e)?(s=i[e]).push(t,n):s=i[e]=[t,n],r!==void 0&&s.push(r)}function ik(i,t,e){let n=t.directiveStart,r=t.directiveEnd,s=i.data,o=t.attrs,a=[],l=null,c=null;for(let u=n;u<r;u++){let d=s[u],h=e?e.get(d):null,p=h?h.inputs:null,f=h?h.outputs:null;l=vb(0,d.inputs,u,l,p),c=vb(1,d.outputs,u,c,f);let y=l!==null&&o!==null&&!hm(t)?_k(l,u,o):null;a.push(y)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function rk(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i}function Um(i,t,e,n,r,s,o,a){let l=ai(t,e),c=t.inputs,u;!a&&c!=null&&(u=c[n])?($m(i,e,u,n,r),Md(t)&&sk(e,t.index)):t.type&3?(n=rk(n),r=o!=null?o(r,t.value||"",n):r,s.setProperty(l,n,r)):t.type&12}function sk(i,t){let e=ss(t,i);e[Ce]&16||(e[Ce]|=64)}function zm(i,t,e,n){if(bC()){let r=n===null?null:{"":-1},s=uk(i,e),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Mw(i,t,e,o,r,a),r&&dk(e,n,r)}e.mergedAttrs=wl(e.mergedAttrs,e.attrs)}function Mw(i,t,e,n,r,s){for(let c=0;c<n.length;c++)ug(od(e,t),i,n[c].type);pk(e,i.data.length,n.length);for(let c=0;c<n.length;c++){let u=n[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Ew(i,t,n.length,null);for(let c=0;c<n.length;c++){let u=n[c];e.mergedAttrs=wl(e.mergedAttrs,u.hostAttrs),fk(i,e,t,l,u),hk(l,u,r),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}ik(i,e,s)}function ok(i,t,e,n,r){let s=r.hostBindings;if(s){let o=i.hostBindingOpCodes;o===null&&(o=i.hostBindingOpCodes=[]);let a=~t.index;ak(o)!=a&&o.push(a),o.push(e,n,s)}}function ak(i){let t=i.length;for(;t>0;){let e=i[--t];if(typeof e=="number"&&e<0)return e}return 0}function lk(i,t,e,n){let r=e.directiveStart,s=e.directiveEnd;Md(e)&&gk(t,e,i.data[r+e.componentOffset]),i.firstCreatePass||od(e,t),ns(n,t);let o=e.initialInputs;for(let a=r;a<s;a++){let l=i.data[a],c=qs(t,i,a,e);if(ns(c,t),o!==null&&yk(t,a-r,c,l,e,o),es(l)){let u=ss(e.index,t);u[tn]=qs(t,i,a,e)}}}function Ow(i,t,e){let n=e.directiveStart,r=e.directiveEnd,s=e.index,o=_O();try{Gs(s);for(let a=n;a<r;a++){let l=i.data[a],c=t[a];ag(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&ck(l,c)}}finally{Gs(-1),ag(o)}}function ck(i,t){i.hostBindings!==null&&i.hostBindings(1,t)}function uk(i,t){let e=i.directiveRegistry,n=null,r=null;if(e)for(let s=0;s<e.length;s++){let o=e[s];if(Kb(t,o.selectors,!1))if(n||(n=[]),es(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o);let l=a.length;Dg(i,t,l)}else n.unshift(o),Dg(i,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return n===null?null:[n,r]}function Dg(i,t,e){t.componentOffset=e,(i.components??=[]).push(t.index)}function dk(i,t,e){if(t){let n=i.localNames=[];for(let r=0;r<t.length;r+=2){let s=e[t[r+1]];if(s==null)throw new z(-301,!1);n.push(t[r],s)}}}function hk(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;es(t)&&(e[""]=i)}}function pk(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}function fk(i,t,e,n,r){i.data[n]=r;let s=r.factory||(r.factory=sa(r.type,!0)),o=new Ws(s,es(r),D);i.blueprint[n]=o,e[n]=o,ok(i,t,n,Ew(i,e,r.hostVars,Ln),r)}function gk(i,t,e){let n=ai(t,i),r=Dw(e),s=i[zi].rendererFactory,o=16;e.signals?o=4096:e.onPush&&(o=64);let a=Wd(i,Gd(i,r,null,o,n,t,null,s.createRenderer(n,e),null,null,null));i[t.index]=a}function mk(i,t,e,n,r,s){let o=ai(i,t);vk(t[wt],o,s,i.value,e,n,r)}function vk(i,t,e,n,r,s,o){if(s==null)i.removeAttribute(t,r,e);else{let a=o==null?Hs(s):o(s,n||"",r);i.setAttribute(t,r,a,e)}}function yk(i,t,e,n,r,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];Sw(n,e,l,c,u,d)}}function _k(i,t,e){let n=null,r=0;for(;r<e.length;){let s=e[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(i.hasOwnProperty(s)){n===null&&(n=[]);let o=i[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){n.push(s,o[a+1],o[a+2],e[r+1]);break}}r+=2}return n}function Aw(i,t,e,n){return[i,!0,0,t,null,n,null,e,null,null]}function kw(i,t){let e=i.contentQueries;if(e!==null){let n=ze(null);try{for(let r=0;r<e.length;r+=2){let s=e[r],o=e[r+1];if(o!==-1){let a=i.data[o];wm(s),a.contentQueries(2,t[o],o)}}}finally{ze(n)}}}function Wd(i,t){return i[Il]?i[Q1][Ci]=t:i[Il]=t,i[Q1]=t,t}function Mg(i,t,e){wm(0);let n=ze(null);try{t(i,e)}finally{ze(n)}}function Pw(i){return i[td]??=[]}function Fw(i){return i.cleanup??=[]}function Rw(i,t){let e=i[ua],n=e?e.get(Gi,null):null;n&&n.handleError(t)}function $m(i,t,e,n,r){for(let s=0;s<e.length;){let o=e[s++],a=e[s++],l=e[s++],c=t[o],u=i.data[o];Sw(u,c,n,a,l,r)}}function Lw(i,t,e){let n=gC(t,i);kA(i[wt],n,e)}function bk(i,t){let e=ss(t,i),n=e[Ee];Ck(n,e);let r=e[br];r!==null&&e[ca]===null&&(e[ca]=km(r,e[ua])),Gm(n,e,e[tn])}function Ck(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])}function Gm(i,t,e){xm(t);try{let n=i.viewQuery;n!==null&&Mg(1,n,e);let r=i.template;r!==null&&Tw(i,t,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),t[yr]?.finishViewCreation(i),i.staticContentQueries&&kw(i,t),i.staticViewQueries&&Mg(2,i.viewQuery,e);let s=i.components;s!==null&&wk(t,s)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[Ce]&=-5,Im()}}function wk(i,t){for(let e=0;e<t.length;e++)bk(i,t[e])}function Rl(i,t,e,n){let r=ze(null);try{let s=t.tView,a=i[Ce]&4096?4096:16,l=Gd(i,s,e,a,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=i[t.index];l[Us]=c;let u=i[yr];return u!==null&&(l[yr]=u.createEmbeddedView(s)),Gm(s,l,e),l}finally{ze(r)}}function Nw(i,t){let e=nn+t;if(e<i.length)return i[e]}function ha(i,t){return!t||t.firstChild===null||GC(i)}function Ll(i,t,e,n=!0){let r=t[Ee];if(NA(r,t,i,e),n){let o=Tg(e,i),a=t[wt],l=vw(a,i[zs]);l!==null&&RA(r,i[Rn],a,t,l,o)}let s=t[ca];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Vw(i,t){let e=Sl(i,t);return e!==void 0&&Ud(e[Ee],e),e}function ud(i,t,e,n,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let s=t[e.index];s!==null&&n.push($i(s)),Cr(s)&&xk(s,n);let o=e.type;if(o&8)ud(i,t,e.child,n);else if(o&32){let a=Rm(e,t),l;for(;l=a();)n.push(l)}else if(o&16){let a=_w(t,e);if(Array.isArray(a))n.push(...a);else{let l=$s(t[$n]);ud(l[Ee],l,a,n,!0)}}e=r?e.projectionNext:e.next}return n}function xk(i,t){for(let e=nn;e<i.length;e++){let n=i[e],r=n[Ee].firstChild;r!==null&&ud(n[Ee],n,r,t)}i[zs]!==i[br]&&t.push(i[zs])}var jw=[];function Ik(i){return i[ri]??Sk(i)}function Sk(i){let t=jw.pop()??Object.create(Tk);return t.lView=i,t}function Ek(i){i.lView[ri]!==i&&(i.lView=null,jw.push(i))}var Tk=ve(L({},Ho),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{kd(i.lView)},consumerOnSignalRead(){this.lView[ri]=this}});function Dk(i){let t=i[ri]??Object.create(Mk);return t.lView=i,t}var Mk=ve(L({},Ho),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{let t=$s(i.lView);for(;t&&!Bw(t[Ee]);)t=$s(t);t&&vC(t)},consumerOnSignalRead(){this.lView[ri]=this}});function Bw(i){return i.type!==2}var Ok=100;function Hw(i,t=!0,e=0){let n=i[zi],r=n.rendererFactory,s=!1;s||r.begin?.();try{Ak(i,e)}catch(o){throw t&&Rw(i,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush())}}function Ak(i,t){let e=xC();try{J1(!0),Og(i,t);let n=0;for(;Ad(i);){if(n===Ok)throw new z(103,!1);n++,Og(i,1)}}finally{J1(e)}}function kk(i,t,e,n){let r=t[Ce];if((r&256)===256)return;let s=!1,o=!1;!s&&t[zi].inlineEffectRunner?.flush(),xm(t);let a=!0,l=null,c=null;s||(Bw(i)?(c=Ik(t),l=gl(c)):t1()===null?(a=!1,c=Dk(t),l=gl(c)):t[ri]&&(au(t[ri]),t[ri]=null));try{mC(t),mO(i.bindingStartIndex),e!==null&&Tw(i,t,e,2,n);let u=(r&3)===3;if(!s)if(u){let p=i.preOrderCheckHooks;p!==null&&Wu(t,p,null)}else{let p=i.preOrderHooks;p!==null&&qu(t,p,0,null),jf(t,0)}if(o||Pk(t),Uw(t,0),i.contentQueries!==null&&kw(i,t),!s)if(u){let p=i.contentCheckHooks;p!==null&&Wu(t,p)}else{let p=i.contentHooks;p!==null&&qu(t,p,1),jf(t,1)}KA(i,t);let d=i.components;d!==null&&$w(t,d,0);let h=i.viewQuery;if(h!==null&&Mg(2,h,n),!s)if(u){let p=i.viewCheckHooks;p!==null&&Wu(t,p)}else{let p=i.viewHooks;p!==null&&qu(t,p,2),jf(t,2)}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),t[Gu]){for(let p of t[Gu])p();t[Gu]=null}s||(t[Ce]&=-73)}catch(u){throw s||kd(t),u}finally{c!==null&&(su(c,l),a&&Ek(c)),Im()}}function Uw(i,t){for(let e=qC(i);e!==null;e=YC(e))for(let n=nn;n<e.length;n++){let r=e[n];zw(r,t)}}function Pk(i){for(let t=qC(i);t!==null;t=YC(t)){if(!(t[Ce]&id.HasTransplantedViews))continue;let e=t[da];for(let n=0;n<e.length;n++){let r=e[n];vC(r)}}}function Fk(i,t,e){let n=ss(t,i);zw(n,e)}function zw(i,t){ym(i)&&Og(i,t)}function Og(i,t){let n=i[Ee],r=i[Ce],s=i[ri],o=!!(t===0&&r&16);if(o||=!!(r&64&&t===0),o||=!!(r&1024),o||=!!(s?.dirty&&ou(s)),o||=!1,s&&(s.dirty=!1),i[Ce]&=-9217,o)kk(n,i,n.template,i[tn]);else if(r&8192){Uw(i,1);let a=n.components;a!==null&&$w(i,a,1)}}function $w(i,t,e){for(let n=0;n<t.length;n++)Fk(i,t[n],e)}function Wm(i,t){let e=xC()?64:1088;for(i[zi].changeDetectionScheduler?.notify(t);i;){i[Ce]|=e;let n=$s(i);if(rg(i)&&!n)return i;i=n}return null}var Ys=class{get rootNodes(){let t=this._lView,e=t[Ee];return ud(e,t,e.firstChild,[])}constructor(t,e,n=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(t){this._lView[tn]=t}get destroyed(){return(this._lView[Ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[rn];if(Cr(t)){let e=t[nd],n=e?e.indexOf(this):-1;n>-1&&(Sl(t,n),Ju(e,n))}this._attachedToViewContainer=!1}Ud(this._lView[Ee],this._lView)}onDestroy(t){yC(this._lView,t)}markForCheck(){Wm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ce]&=-129}reattach(){og(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,Hw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=rg(this._lView),e=this._lView[Us];e!==null&&!t&&Lm(e,this._lView),pw(this._lView[Ee],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=t;let e=rg(this._lView),n=this._lView[Us];n!==null&&!e&&fw(n,this._lView),og(this._lView)}},wi=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Nk;let i=t;return i})(),Rk=wi,Lk=class extends Rk{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,n){let r=Rl(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:n});return new Ys(r)}};function Nk(){return qd(Jt(),ye())}function qd(i,t){return i.type&4?new Lk(t,i,Ca(i,t)):null}var dK=new RegExp(`^(\\d+)*(${nA}|${tA})*(.*)`);var Vk=()=>null;function pa(i,t){return Vk(i,t)}var fa=class{},Gw=new ie("",{providedIn:"root",factory:()=>!1});var Ww=new ie(""),qw=new ie(""),Ag=class{},dd=class{};function jk(i){let t=Error(`No component factory found for ${pn(i)}.`);return t[Bk]=i,t}var Bk="ngComponent";var kg=class{resolveComponentFactory(t){throw jk(t)}},s0=class s0{};s0.NULL=new kg;var ga=s0,is=class{},nt=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>Hk();let i=t;return i})();function Hk(){let i=ye(),t=Jt(),e=ss(t.index,i);return(Qr(e)?e:i)[wt]}var Uk=(()=>{let t=class t{};t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>null});let i=t;return i})();function hd(i,t,e){let n=e?i.styles:null,r=e?i.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)r=Xf(r,a);else if(s==2){let l=a,c=t[++o];n=Xf(n,l+": "+c+";")}}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=r:i.classesWithoutHost=r}var pd=class extends ga{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Jr(t);return new ma(e,this.ngModule)}};function _b(i,t){let e=[];for(let n in i){if(!i.hasOwnProperty(n))continue;let r=i[n];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Zr.None;t?e.push({propName:o,templateName:n,isSignal:(a&Zr.SignalBased)!==0}):e.push({propName:o,templateName:n})}return e}function zk(i){let t=i.toLowerCase();return t==="svg"?fC:t==="math"?nO:null}var ma=class extends dd{get inputs(){let t=this.componentDef,e=t.inputTransforms,n=_b(t.inputs,!0);if(e!==null)for(let r of n)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return n}get outputs(){return _b(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=NM(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,r){let s=ze(null);try{r=r||this.ngModule;let o=r instanceof fn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new lg(t,o):t,l=a.get(is,null);if(l===null)throw new z(407,!1);let c=a.get(Uk,null),u=a.get(fa,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",f=n?ZA(h,n,this.componentDef.encapsulation,a):hw(h,p,zk(p)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let _=null;f!==null&&(_=km(f,a,!0));let b=Hm(0,null,null,1,0,null,null,null,null,null,null),T=Gd(null,b,null,y,null,null,d,h,a,null,_);xm(T);let R,F,$=null;try{let G=this.componentDef,Z,q=null;G.findHostDirectiveDefs?(Z=[],q=new Map,G.findHostDirectiveDefs(G,Z,q),Z.push(G)):Z=[G];let Ne=$k(T,f);$=Gk(Ne,f,G,Z,T,d,h),F=vm(b,gn),f&&Yk(h,G,f,n),e!==void 0&&Kk(F,this.ngContentSelectors,e),R=qk($,G,Z,q,T,[Xk]),Gm(b,T,null)}catch(G){throw $!==null&&vg($),vg(T),G}finally{Im()}return new Pg(this.componentType,R,Ca(F,T),T,F)}finally{ze(s)}}},Pg=class extends Ag{constructor(t,e,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Ys(r,void 0,!1),this.componentType=t}setInput(t,e){let n=this._tNode.inputs,r;if(n!==null&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let s=this._rootLView;$m(s[Ee],s,r,t,e),this.previousInputValues.set(t,e);let o=ss(this._tNode.index,s);Wm(o,1)}}get injector(){return new Bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function $k(i,t){let e=i[Ee],n=gn;return i[n]=t,wa(e,n,2,"#host",null)}function Gk(i,t,e,n,r,s,o){let a=r[Ee];Wk(n,i,t,o);let l=null;t!==null&&(l=km(t,r[ua]));let c=s.rendererFactory.createRenderer(t,e),u=16;e.signals?u=4096:e.onPush&&(u=64);let d=Gd(r,Dw(e),null,u,r[i.index],i,s,c,null,null,l);return a.firstCreatePass&&Dg(a,i,n.length-1),Wd(r,d),r[i.index]=d}function Wk(i,t,e,n){for(let r of i)t.mergedAttrs=wl(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(hd(t,t.mergedAttrs,!0),e!==null&&ww(n,e,t))}function qk(i,t,e,n,r,s){let o=Jt(),a=r[Ee],l=ai(o,r);Mw(a,r,o,e,null,n);for(let u=0;u<e.length;u++){let d=o.directiveStart+u,h=qs(r,a,d,o);ns(h,r)}Ow(a,r,o),l&&ns(l,r);let c=qs(r,a,o.directiveStart+o.componentOffset,o);if(i[tn]=r[tn]=c,s!==null)for(let u of s)u(c,t);return Vm(a,o,r),c}function Yk(i,t,e,n){if(n)eg(i,e,["ng-version","18.2.4"]);else{let{attrs:r,classes:s}=VM(t.selectors[0]);r&&eg(i,e,r),s&&s.length>0&&Cw(i,e,s.join(" "))}}function Kk(i,t,e){let n=i.projection=[];for(let r=0;r<t.length;r++){let s=e[r];n.push(s!=null?Array.from(s):null)}}function Xk(){let i=Jt();Ld(ye()[Ee],i)}var Wn=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Qk;let i=t;return i})();function Qk(){let i=Jt();return Kw(i,ye())}var Zk=Wn,Yw=class extends Zk{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new Bs(this._hostTNode,this._hostLView)}get parentInjector(){let t=Sm(this._hostTNode,this._hostLView);if(kC(t)){let e=sd(t,this._hostLView),n=rd(t),r=e[Ee].data[n+8];return new Bs(r,e)}else return new Bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=bb(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(t,e,n){let r,s;typeof n=="number"?r=n:n!=null&&(r=n.index,s=n.injector);let o=pa(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},s,o);return this.insertImpl(a,r,ha(this._hostTNode,o)),a}createComponent(t,e,n,r,s){let o=t&&!ZM(t),a;if(o)a=e;else{let f=e||{};a=f.index,n=f.injector,r=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}let l=o?t:new ma(Jr(t)),c=n||this.parentInjector;if(!s&&l.ngModule==null){let y=(o?c:this.parentInjector).get(fn,null);y&&(s=y)}let u=Jr(l.componentType??{}),d=pa(this._lContainer,u?.id??null),h=d?.firstChild??null,p=l.create(c,r,h,s);return this.insertImpl(p.hostView,a,ha(this._hostTNode,d)),p}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,n){let r=t._lView;if(sO(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[rn],c=new Yw(l,l[Rn],l[rn]);c.detach(c.indexOf(t))}}let s=this._adjustIndex(e),o=this._lContainer;return Ll(o,r,s,n),t.attachToViewContainerRef(),zb($f(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=bb(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),n=Sl(this._lContainer,e);n&&(Ju($f(this._lContainer),e),Ud(n[Ee],n))}detach(t){let e=this._adjustIndex(t,-1),n=Sl(this._lContainer,e);return n&&Ju($f(this._lContainer),e)!=null?new Ys(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function bb(i){return i[nd]}function $f(i){return i[nd]||(i[nd]=[])}function Kw(i,t){let e,n=t[i.index];return Cr(n)?e=n:(e=Aw(n,t,null,i),t[i.index]=e,Wd(t,e)),e3(e,t,i,n),new Yw(e,i,t)}function Jk(i,t){let e=i[wt],n=e.createComment(""),r=ai(t,i),s=vw(e,r);return cd(e,s,n,HA(e,r),!1),n}var e3=i3,t3=()=>!1;function n3(i,t,e){return t3(i,t,e)}function i3(i,t,e,n){if(i[zs])return;let r;e.type&8?r=$i(n):r=Jk(t,e),i[zs]=r}var Fg=class i{constructor(t){this.queryList=t,this.matches=null}clone(){return new i(this.queryList)}setDirty(){this.queryList.setDirty()}},Rg=class i{constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let n=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let s=0;s<n;s++){let o=e.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new i(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)qm(t,e).matches!==null&&this.queries[e].setDirty()}},fd=class{constructor(t,e,n=null){this.flags=e,this.read=n,typeof t=="string"?this.predicate=d3(t):this.predicate=t}},Lg=class i{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){let r=e!==null?e.length:0,s=this.getByIndex(n).embeddedTView(t,r);s&&(s.indexInDeclarationView=n,e!==null?e.push(s):e=[s])}return e!==null?new i(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Ng=class i{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new i(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==e;)n=n.parent;return e===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let s=n[r];this.matchTNodeWithReadOption(t,e,r3(e,s)),this.matchTNodeWithReadOption(t,e,Yu(e,t,s,!1,!1))}else n===wi?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Yu(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===pe||r===Wn||r===wi&&e.type&4)this.addMatch(e.index,-2);else{let s=Yu(e,t,r,!1,!1);s!==null&&this.addMatch(e.index,s)}else this.addMatch(e.index,n)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function r3(i,t){let e=i.localNames;if(e!==null){for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1]}return null}function s3(i,t){return i.type&11?Ca(i,t):i.type&4?qd(i,t):null}function o3(i,t,e,n){return e===-1?s3(t,i):e===-2?a3(i,t,n):qs(i,i[Ee],e,t)}function a3(i,t,e){if(e===pe)return Ca(t,i);if(e===wi)return qd(t,i);if(e===Wn)return Kw(t,i)}function Xw(i,t,e,n){let r=t[yr].queries[n];if(r.matches===null){let s=i.data,o=e.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(o3(t,u,o[l+1],e.metadata.read))}}r.matches=a}return r.matches}function Vg(i,t,e,n){let r=i.queries.getByIndex(e),s=r.matches;if(s!==null){let o=Xw(i,t,r,e);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)n.push(o[a/2]);else{let c=s[a+1],u=t[-l];for(let d=nn;d<u.length;d++){let h=u[d];h[Us]===h[rn]&&Vg(h[Ee],h,c,n)}if(u[da]!==null){let d=u[da];for(let h=0;h<d.length;h++){let p=d[h];Vg(p[Ee],p,c,n)}}}}}return n}function l3(i,t){return i[yr].queries[t].queryList}function Qw(i,t,e){let n=new mg((e&4)===4);return tk(i,t,n,n.destroy),(t[yr]??=new Rg).queries.push(new Fg(n))-1}function c3(i,t,e){let n=Dt();return n.firstCreatePass&&(Zw(n,new fd(i,t,e),-1),(t&2)===2&&(n.staticViewQueries=!0)),Qw(n,ye(),t)}function u3(i,t,e,n){let r=Dt();if(r.firstCreatePass){let s=Jt();Zw(r,new fd(t,e,n),s.index),h3(r,i),(e&2)===2&&(r.staticContentQueries=!0)}return Qw(r,ye(),e)}function d3(i){return i.split(",").map(t=>t.trim())}function Zw(i,t,e){i.queries===null&&(i.queries=new Lg),i.queries.track(new Ng(t,e))}function h3(i,t){let e=i.contentQueries||(i.contentQueries=[]),n=e.length?e[e.length-1]:-1;t!==n&&e.push(i.queries.length-1,t)}function qm(i,t){return i.queries.getByIndex(t)}function p3(i,t){let e=i[Ee],n=qm(e,t);return n.crossesNgTemplate?Vg(e,i,t,[]):Xw(e,i,n,t)}var Cb=new Set;function Yi(i){Cb.has(i)||(Cb.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function f3(i){return typeof i=="function"&&i[Vi]!==void 0}function mt(i,t){Yi("NgSignals");let e=p1(i),n=e[Vi];return t?.equal&&(n.equal=t.equal),e.set=r=>yf(n,r),e.update=r=>f1(n,r),e.asReadonly=g3.bind(e),e}function g3(){let i=this[Vi];if(i.readonlyFn===void 0){let t=()=>this();t[Vi]=i,i.readonlyFn=t}return i.readonlyFn}function Jw(i){return f3(i)&&typeof i.set=="function"}function m3(i){return Object.getPrototypeOf(i.prototype).constructor}function fe(i){let t=m3(i.type),e=!0,n=[i];for(;t;){let r;if(es(i))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new z(903,!1);r=t.\u0275dir}if(r){if(e){n.push(r);let o=i;o.inputs=Hu(i.inputs),o.inputTransforms=Hu(i.inputTransforms),o.declaredInputs=Hu(i.declaredInputs),o.outputs=Hu(i.outputs);let a=r.hostBindings;a&&C3(i,a);let l=r.viewQuery,c=r.contentQueries;if(l&&_3(i,l),c&&b3(i,c),v3(i,r),nM(i.outputs,r.outputs),es(r)&&r.data.animation){let u=i.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(i),a===fe&&(e=!1)}}t=Object.getPrototypeOf(t)}y3(n)}function v3(i,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||i.inputs.hasOwnProperty(e))continue;let n=t.inputs[e];if(n!==void 0&&(i.inputs[e]=n,i.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!t.inputTransforms.hasOwnProperty(r))continue;i.inputTransforms??={},i.inputTransforms[r]=t.inputTransforms[r]}}}function y3(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){let r=i[n];r.hostVars=t+=r.hostVars,r.hostAttrs=wl(r.hostAttrs,e=wl(e,r.hostAttrs))}}function Hu(i){return i===oa?{}:i===kn?[]:i}function _3(i,t){let e=i.viewQuery;e?i.viewQuery=(n,r)=>{t(n,r),e(n,r)}:i.viewQuery=t}function b3(i,t){let e=i.contentQueries;e?i.contentQueries=(n,r,s)=>{t(n,r,s),e(n,r,s)}:i.contentQueries=t}function C3(i,t){let e=i.hostBindings;e?i.hostBindings=(n,r)=>{t(n,r),e(n,r)}:i.hostBindings=t}function Re(i){let t=i.inputConfig,e={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];Array.isArray(r)&&r[3]&&(e[n]=r[3])}i.inputTransforms=e}var rs=class{},El=class{};var jg=class extends rs{constructor(t,e,n,r=!0){super(),this.ngModuleType=t,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pd(this);let s=Jb(t);this._bootstrapComponents=dw(s.bootstrap),this._r3Injector=HC(t,e,[{provide:rs,useValue:this},{provide:ga,useValue:this.componentFactoryResolver},...n],pn(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Bg=class extends El{constructor(t){super(),this.moduleType=t}create(t){return new jg(this.moduleType,t,[])}};var gd=class extends rs{constructor(t){super(),this.componentFactoryResolver=new pd(this),this.instance=null;let e=new xl([...t.providers,{provide:rs,useValue:this},{provide:ga,useValue:this.componentFactoryResolver}],t.parent||gm(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Yd(i,t,e=null){return new gd({providers:i,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}function ex(i){return Ym(i)?Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i:!1}function w3(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{let e=i[Symbol.iterator](),n;for(;!(n=e.next()).done;)t(n.value)}}function Ym(i){return i!==null&&(typeof i=="function"||typeof i=="object")}function as(i,t,e){return i[t]=e}function Km(i,t){return i[t]}function Fn(i,t,e){let n=i[t];return Object.is(n,e)?!1:(i[t]=e,!0)}function Tl(i,t,e,n){let r=Fn(i,t,e);return Fn(i,t+1,n)||r}function x3(i,t,e,n,r){let s=Tl(i,t,e,n);return Fn(i,t+2,r)||s}function md(i,t,e,n,r,s){let o=Tl(i,t,e,n);return Tl(i,t+2,r,s)||o}function I3(i){return(i.flags&32)===32}function S3(i,t,e,n,r,s,o,a,l){let c=t.consts,u=wa(t,i,4,o||null,a||null);zm(t,e,u,ts(c,l)),Ld(t,u);let d=u.tView=Hm(2,u,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function vd(i,t,e,n,r,s,o,a,l,c){let u=e+gn,d=t.firstCreatePass?S3(u,t,i,n,r,s,o,a,l):t.data[u];Xs(d,!1);let h=E3(t,i,d,e);Fd()&&zd(t,i,h,d),ns(h,i);let p=Aw(h,i,h,d);return i[u]=p,Wd(i,p),n3(p,d,i),Od(d)&&jm(t,i,d),l!=null&&Bm(i,d,c),d}function E(i,t,e,n,r,s,o,a){let l=ye(),c=Dt(),u=ts(c.consts,s);return vd(l,c,i,t,e,n,r,u,o,a),E}var E3=T3;function T3(i,t,e,n){return Rd(!0),t[wt].createComment("")}var na=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(na||{}),tx=(()=>{let t=class t{constructor(){this.impl=null}execute(){this.impl?.execute()}};t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new t});let i=t;return i})(),js=class js{constructor(){this.ngZone=j(Oe),this.scheduler=j(fa),this.errorHandler=j(Gi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let t of js.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[t]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[t](e.pipelinedValue))}catch(n){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(n)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&this.sequences.delete(t);for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}};js.PHASES=[na.EarlyRead,na.Write,na.MixedReadWrite,na.Read],js.\u0275prov=Y({token:js,providedIn:"root",factory:()=>new js});var Hg=js,Ug=class{constructor(t,e,n,r){this.impl=t,this.hooks=e,this.once=n,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Xm(i,t){!t?.injector&&aC(Xm);let e=t?.injector??j(Pn);return MA(e)?(Yi("NgAfterNextRender"),M3(i,e,t,!0)):O3}function D3(i,t){if(i instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=i,e}else return[i.earlyRead,i.write,i.mixedReadWrite,i.read]}function M3(i,t,e,n){let r=t.get(tx);r.impl??=t.get(Hg);let s=e?.phase??na.MixedReadWrite,o=new Ug(r.impl,D3(i,s),n,t.get(Nd));return r.impl.register(o),o}var O3={destroy(){}};function I(i,t,e,n){let r=ye(),s=ba();if(Fn(r,s,t)){let o=Dt(),a=Pd();mk(a,r,i,t,e,n)}return I}function Qm(i,t,e,n){return Fn(i,ba(),e)?t+Hs(e)+n:Ln}function A3(i,t,e,n,r,s){let o=gO(),a=Tl(i,o,e,r);return Cm(2),a?t+Hs(e)+n+Hs(r)+s:Ln}function Uu(i,t){return i<<17|t<<2}function Ks(i){return i>>17&32767}function k3(i){return(i&2)==2}function P3(i,t){return i&131071|t<<17}function zg(i){return i|2}function va(i){return(i&131068)>>2}function Gf(i,t){return i&-131069|t<<2}function F3(i){return(i&1)===1}function $g(i){return i|1}function R3(i,t,e,n,r,s){let o=s?t.classBindings:t.styleBindings,a=Ks(o),l=va(o);i[n]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||kl(d,u)>0)&&(c=!0)}else u=e;if(r)if(l!==0){let h=Ks(i[a+1]);i[n+1]=Uu(h,a),h!==0&&(i[h+1]=Gf(i[h+1],n)),i[a+1]=P3(i[a+1],n)}else i[n+1]=Uu(a,0),a!==0&&(i[a+1]=Gf(i[a+1],n)),a=n;else i[n+1]=Uu(l,0),a===0?a=n:i[l+1]=Gf(i[l+1],n),l=n;c&&(i[n+1]=zg(i[n+1])),wb(i,u,n,!0),wb(i,u,n,!1),L3(t,u,i,n,s),o=Uu(a,l),s?t.classBindings=o:t.styleBindings=o}function L3(i,t,e,n,r){let s=r?i.residualClasses:i.residualStyles;s!=null&&typeof t=="string"&&kl(s,t)>=0&&(e[n+1]=$g(e[n+1]))}function wb(i,t,e,n){let r=i[e+1],s=t===null,o=n?Ks(r):va(r),a=!1;for(;o!==0&&(a===!1||s);){let l=i[o],c=i[o+1];N3(l,t)&&(a=!0,i[o+1]=n?$g(c):zg(c)),o=n?Ks(c):va(c)}a&&(i[e+1]=n?zg(r):$g(r))}function N3(i,t){return i===null||t==null||(Array.isArray(i)?i[1]:i)===t?!0:Array.isArray(i)&&typeof t=="string"?kl(i,t)>=0:!1}var $t={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nx(i){return i.substring($t.key,$t.keyEnd)}function V3(i){return i.substring($t.value,$t.valueEnd)}function j3(i){return sx(i),ix(i,ya(i,0,$t.textEnd))}function ix(i,t){let e=$t.textEnd;return e===t?-1:(t=$t.keyEnd=H3(i,$t.key=t,e),ya(i,t,e))}function B3(i){return sx(i),rx(i,ya(i,0,$t.textEnd))}function rx(i,t){let e=$t.textEnd,n=$t.key=ya(i,t,e);return e===n?-1:(n=$t.keyEnd=U3(i,n,e),n=xb(i,n,e,58),n=$t.value=ya(i,n,e),n=$t.valueEnd=z3(i,n,e),xb(i,n,e,59))}function sx(i){$t.key=0,$t.keyEnd=0,$t.value=0,$t.valueEnd=0,$t.textEnd=i.length}function ya(i,t,e){for(;t<e&&i.charCodeAt(t)<=32;)t++;return t}function H3(i,t,e){for(;t<e&&i.charCodeAt(t)>32;)t++;return t}function U3(i,t,e){let n;for(;t<e&&((n=i.charCodeAt(t))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)t++;return t}function xb(i,t,e,n){return t=ya(i,t,e),t<e&&t++,t}function z3(i,t,e){let n=-1,r=-1,s=-1,o=t,a=o;for(;o<e;){let l=i.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=Ib(i,l,o,e):t===o-4&&s===85&&r===82&&n===76&&l===40?a=o=Ib(i,41,o,e):l>32&&(a=o),s=r,r=n,n=l&-33}return a}function Ib(i,t,e,n){let r=-1,s=e;for(;s<n;){let o=i.charCodeAt(s++);if(o==t&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function g(i,t,e){let n=ye(),r=ba();if(Fn(n,r,t)){let s=Dt(),o=Pd();Um(s,o,n,i,t,n[wt],e,!1)}return g}function Gg(i,t,e,n,r){let s=t.inputs,o=r?"class":"style";$m(i,e,s[o],o,n)}function Ki(i,t,e){return lx(i,t,e,!1),Ki}function sn(i,t){return lx(i,t,null,!0),sn}function ox(i){Zm(dx,$3,i,!1)}function $3(i,t){for(let e=B3(t);e>=0;e=rx(t,e))dx(i,nx(t),V3(t))}function H(i){Zm(X3,ax,i,!0)}function ax(i,t){for(let e=j3(t);e>=0;e=ix(t,e))Al(i,nx(t),!0)}function lx(i,t,e,n){let r=ye(),s=Dt(),o=Cm(2);if(s.firstUpdatePass&&ux(s,i,o,n),t!==Ln&&Fn(r,o,t)){let a=s.data[wr()];hx(s,a,r,r[wt],i,r[o+1]=Z3(t,e),n,o)}}function Zm(i,t,e,n){let r=Dt(),s=Cm(2);r.firstUpdatePass&&ux(r,null,s,n);let o=ye();if(e!==Ln&&Fn(o,s,e)){let a=r.data[wr()];if(px(a,n)&&!cx(r,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Xf(l,e||"")),Gg(r,a,o,e,n)}else Q3(r,a,o,o[wt],o[s+1],o[s+1]=K3(i,t,e),n,s)}}function cx(i,t){return t>=i.expandoStartIndex}function ux(i,t,e,n){let r=i.data;if(r[e+1]===null){let s=r[wr()],o=cx(i,e);px(s,n)&&t===null&&!o&&(t=!1),t=G3(r,s,t,n),R3(r,s,t,e,o,n)}}function G3(i,t,e,n){let r=bO(i),s=n?t.residualClasses:t.residualStyles;if(r===null)(n?t.classBindings:t.styleBindings)===0&&(e=Wf(null,i,t,e,n),e=Dl(e,t.attrs,n),s=null);else{let o=t.directiveStylingLast;if(o===-1||i[o]!==r)if(e=Wf(r,i,t,e,n),s===null){let l=W3(i,t,n);l!==void 0&&Array.isArray(l)&&(l=Wf(null,i,t,l[1],n),l=Dl(l,t.attrs,n),q3(i,t,n,l))}else s=Y3(i,t,n)}return s!==void 0&&(n?t.residualClasses=s:t.residualStyles=s),e}function W3(i,t,e){let n=e?t.classBindings:t.styleBindings;if(va(n)!==0)return i[Ks(n)]}function q3(i,t,e,n){let r=e?t.classBindings:t.styleBindings;i[Ks(r)]=n}function Y3(i,t,e){let n,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++){let o=i[s].hostAttrs;n=Dl(n,o,e)}return Dl(n,t.attrs,e)}function Wf(i,t,e,n,r){let s=null,o=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<o&&(s=t[a],n=Dl(n,s.hostAttrs,r),s!==i);)a++;return i!==null&&(e.directiveStylingLast=a),n}function Dl(i,t,e){let n=e?1:2,r=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?r=o:r===n&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),Al(i,o,e?!0:t[++s]))}return i===void 0?null:i}function K3(i,t,e){if(e==null||e==="")return kn;let n=[],r=Gn(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)i(n,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&i(n,s,r[s]);else typeof r=="string"&&t(n,r);return n}function dx(i,t,e){Al(i,t,Gn(e))}function X3(i,t,e){let n=String(t);n!==""&&!n.includes(" ")&&Al(i,n,e)}function Q3(i,t,e,n,r,s,o,a){r===Ln&&(r=kn);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0,f=null,y;u===d?(l+=2,c+=2,h!==p&&(f=d,y=p)):d===null||u!==null&&u<d?(l+=2,f=u):(c+=2,f=d,y=p),f!==null&&hx(i,t,e,n,f,y,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}function hx(i,t,e,n,r,s,o,a){if(!(t.type&3))return;let l=i.data,c=l[a+1],u=F3(c)?Sb(l,t,e,r,va(c),o):void 0;if(!yd(u)){yd(s)||k3(c)&&(s=Sb(l,null,e,r,a,o));let d=gC(wr(),e);qA(n,o,d,r,s)}}function Sb(i,t,e,n,r,s){let o=t===null,a;for(;r>0;){let l=i[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=e[r+1];h===Ln&&(h=d?kn:void 0);let p=d?Nf(h,n):u===n?h:void 0;if(c&&!yd(p)&&(p=Nf(l,n)),yd(p)&&(a=p,o))return a;let f=i[r+1];r=o?Ks(f):va(f)}if(t!==null){let l=s?t.residualClasses:t.residualStyles;l!=null&&(a=Nf(l,n))}return a}function yd(i){return i!==void 0}function Z3(i,t){return i==null||i===""||(typeof t=="string"?i=i+t:typeof i=="object"&&(i=pn(Gn(i)))),i}function px(i,t){return(i.flags&(t?8:16))!==0}function fx(i,t,e){let n=ye(),r=Qm(n,i,t,e);Zm(Al,ax,r,!0)}var Wg=class{destroy(t){}updateValue(t,e){}swap(t,e){let n=Math.min(t,e),r=Math.max(t,e),s=this.detach(r);if(r-n>1){let o=this.detach(n);this.attach(n,s),this.attach(r,o)}else this.attach(n,s)}move(t,e){this.attach(e,this.detach(t))}};function qf(i,t,e,n,r){return i===e&&Object.is(t,n)?1:Object.is(r(i,t),r(e,n))?-1:0}function J3(i,t,e){let n,r,s=0,o=i.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;s<=o&&s<=l;){let c=i.at(s),u=t[s],d=qf(s,c,s,u,e);if(d!==0){d<0&&i.updateValue(s,u),s++;continue}let h=i.at(o),p=t[l],f=qf(o,h,l,p,e);if(f!==0){f<0&&i.updateValue(o,p),o--,l--;continue}let y=e(s,c),_=e(o,h),b=e(s,u);if(Object.is(b,_)){let T=e(l,p);Object.is(T,y)?(i.swap(s,o),i.updateValue(o,p),l--,o--):i.move(o,s),i.updateValue(s,u),s++;continue}if(n??=new _d,r??=Tb(i,s,o,e),qg(i,n,s,b))i.updateValue(s,u),s++,o++;else if(r.has(b))n.set(y,i.detach(s)),o--;else{let T=i.create(s,t[s]);i.attach(s,T),s++,o++}}for(;s<=l;)Eb(i,n,e,s,t[s]),s++}else if(t!=null){let l=t[Symbol.iterator](),c=l.next();for(;!c.done&&s<=o;){let u=i.at(s),d=c.value,h=qf(s,u,s,d,e);if(h!==0)h<0&&i.updateValue(s,d),s++,c=l.next();else{n??=new _d,r??=Tb(i,s,o,e);let p=e(s,d);if(qg(i,n,s,p))i.updateValue(s,d),s++,o++,c=l.next();else if(!r.has(p))i.attach(s,i.create(s,d)),s++,o++,c=l.next();else{let f=e(s,u);n.set(f,i.detach(s)),o--}}}for(;!c.done;)Eb(i,n,e,i.length,c.value),c=l.next()}for(;s<=o;)i.destroy(i.detach(o--));n?.forEach(l=>{i.destroy(l)})}function qg(i,t,e,n){return t!==void 0&&t.has(n)?(i.attach(e,t.get(n)),t.delete(n),!0):!1}function Eb(i,t,e,n,r){if(qg(i,t,n,e(n,r)))i.updateValue(n,r);else{let s=i.create(n,r);i.attach(n,s)}}function Tb(i,t,e,n){let r=new Set;for(let s=t;s<=e;s++)r.add(n(s,i.at(s)));return r}var _d=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let n=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,n]of this.kvMap)if(t(n,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(n);)n=r.get(n),t(n,e)}}};function Zs(i,t){Yi("NgControlFlow");let e=ye(),n=ba(),r=e[n]!==Ln?e[n]:-1,s=r!==-1?bd(e,gn+r):void 0,o=0;if(Fn(e,n,i)){let a=ze(null);try{if(s!==void 0&&Vw(s,o),i!==-1){let l=gn+i,c=bd(e,l),u=Qg(e[Ee],l),d=pa(c,u.tView.ssrId),h=Rl(e,u,t,{dehydratedView:d});Ll(c,h,o,ha(u,d))}}finally{ze(a)}}else if(s!==void 0){let a=Nw(s,o);a!==void 0&&(a[tn]=t)}}var Yg=class{constructor(t,e,n){this.lContainer=t,this.$implicit=e,this.$index=n}get $count(){return this.lContainer.length-nn}};var Kg=class{constructor(t,e,n){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=n}};function Nl(i,t,e,n,r,s,o,a,l,c,u,d,h){Yi("NgControlFlow");let p=ye(),f=Dt(),y=l!==void 0,_=ye(),b=a?o.bind(_[$n][tn]):o,T=new Kg(y,b);_[gn+i]=T,vd(p,f,i+1,t,e,n,r,ts(f.consts,s)),y&&vd(p,f,i+2,l,c,u,d,ts(f.consts,h))}var Xg=class extends Wg{constructor(t,e,n){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=n,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-nn}at(t){return this.getLView(t)[tn].$implicit}attach(t,e){let n=e[ca];this.needsIndexUpdate||=t!==this.length,Ll(this.lContainer,e,t,ha(this.templateTNode,n))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,eP(this.lContainer,t)}create(t,e){let n=pa(this.lContainer,this.templateTNode.tView.ssrId),r=Rl(this.hostLView,this.templateTNode,new Yg(this.lContainer,e,t),{dehydratedView:n});return this.operationsCounter?.recordCreate(),r}destroy(t){Ud(t[Ee],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[tn].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[tn].$index=t}getLView(t){return tP(this.lContainer,t)}};function Vl(i){let t=ze(null),e=wr();try{let n=ye(),r=n[Ee],s=n[e],o=e+1,a=bd(n,o);if(s.liveCollection===void 0){let c=Qg(r,o);s.liveCollection=new Xg(a,n,c)}else s.liveCollection.reset();let l=s.liveCollection;if(J3(l,i,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let c=ba(),u=l.length===0;if(Fn(n,c,u)){let d=e+2,h=bd(n,d);if(u){let p=Qg(r,d),f=pa(h,p.tView.ssrId),y=Rl(n,p,void 0,{dehydratedView:f});Ll(h,y,0,ha(p,f))}else Vw(h,0)}}}finally{ze(t)}}function bd(i,t){return i[t]}function eP(i,t){return Sl(i,t)}function tP(i,t){return Nw(i,t)}function Qg(i,t){return vm(i,t)}function nP(i,t,e,n,r,s){let o=t.consts,a=ts(o,r),l=wa(t,i,2,n,a);return zm(t,e,l,ts(o,s)),l.attrs!==null&&hd(l,l.attrs,!1),l.mergedAttrs!==null&&hd(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function C(i,t,e,n){let r=ye(),s=Dt(),o=gn+i,a=r[wt],l=s.firstCreatePass?nP(o,s,r,t,e,n):s.data[o],c=iP(s,r,l,a,t,i);r[o]=c;let u=Od(l);return Xs(l,!0),ww(a,c,l),!I3(l)&&Fd()&&zd(s,r,c,l),lO()===0&&ns(c,r),cO(),u&&(jm(s,r,l),Vm(s,l,r)),n!==null&&Bm(r,l),C}function w(){let i=Jt();_m()?bm():(i=i.parent,Xs(i,!1));let t=i;dO(t)&&hO(),uO();let e=Dt();return e.firstCreatePass&&(Ld(e,i),mm(i)&&e.queries.elementEnd(i)),t.classesWithoutHost!=null&&TO(t)&&Gg(e,t,ye(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&DO(t)&&Gg(e,t,ye(),t.stylesWithoutHost,!1),w}function O(i,t,e,n){return C(i,t,e,n),w(),O}var iP=(i,t,e,n,r,s)=>(Rd(!0),hw(n,r,xO()));function rP(i,t,e,n,r){let s=t.consts,o=ts(s,n),a=wa(t,i,8,"ng-container",o);o!==null&&hd(a,o,!0);let l=ts(s,r);return zm(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function se(i,t,e){let n=ye(),r=Dt(),s=i+gn,o=r.firstCreatePass?rP(s,r,n,t,e):r.data[s];Xs(o,!0);let a=sP(r,n,o,i);return n[s]=a,Fd()&&zd(r,n,a,o),ns(a,n),Od(o)&&(jm(r,n,o),Vm(r,o,n)),e!=null&&Bm(n,o),se}function oe(){let i=Jt(),t=Dt();return _m()?bm():(i=i.parent,Xs(i,!1)),t.firstCreatePass&&(Ld(t,i),mm(i)&&t.queries.elementEnd(i)),oe}function Te(i,t,e){return se(i,t,e),oe(),Te}var sP=(i,t,e,n)=>(Rd(!0),PA(t[wt],""));function ce(){return ye()}var Cd="en-US";var oP=Cd;function aP(i){typeof i=="string"&&(oP=i.toLowerCase().replace(/_/g,"-"))}var lP=(i,t,e)=>{};function N(i,t,e,n){let r=ye(),s=Dt(),o=Jt();return gx(s,r,r[wt],o,i,t,n),N}function cP(i,t,e,n){let r=i.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===e&&r[s+1]===n){let a=t[td],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function gx(i,t,e,n,r,s,o){let a=Od(n),c=i.firstCreatePass&&Fw(i),u=t[tn],d=Pw(t),h=!0;if(n.type&3||o){let y=ai(n,t),_=o?o(y):y,b=d.length,T=o?F=>o($i(F[n.index])):n.index,R=null;if(!o&&a&&(R=cP(i,t,r,n.index)),R!==null){let F=R.__ngLastListenerFn__||R;F.__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,h=!1}else{s=Mb(n,t,u,s),lP(y,r,s);let F=e.listen(_,r,s);d.push(s,F),c&&c.push(r,T,b,b+1)}}else s=Mb(n,t,u,s);let p=n.outputs,f;if(h&&p!==null&&(f=p[r])){let y=f.length;if(y)for(let _=0;_<y;_+=2){let b=f[_],T=f[_+1],$=t[b][T].subscribe(s),G=d.length;d.push(s,$),c&&c.push(r,n.index,G,-(G+1))}}}function Db(i,t,e,n){let r=ze(null);try{return Bi(6,t,e),e(n)!==!1}catch(s){return Rw(i,s),!1}finally{Bi(7,t,e),ze(r)}}function Mb(i,t,e,n){return function r(s){if(s===Function)return n;let o=i.componentOffset>-1?ss(i.index,t):t;Wm(o,5);let a=Db(t,e,n,s),l=r.__ngNextListenerFn__;for(;l;)a=Db(t,e,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function v(i=1){return wO(i)}function uP(i,t){let e=null,n=kM(i);for(let r=0;r<t.length;r++){let s=t[r];if(s==="*"){e=r;continue}if(n===null?Kb(i,s,!0):RM(n,s))return r}return e}function mn(i){let t=ye()[$n][Rn];if(!t.projection){let e=i?i.length:1,n=t.projection=xM(e,null),r=n.slice(),s=t.child;for(;s!==null;){if(s.type!==128){let o=i?uP(s,i):0;o!==null&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s)}s=s.next}}}function on(i,t=0,e,n,r,s){let o=ye(),a=Dt(),l=n?i+1:null;l!==null&&vd(o,a,l,n,r,s,null,e);let c=wa(a,gn+i,16,null,e||null);c.projection===null&&(c.projection=t),bm();let d=!o[ca]||CC();o[$n][Rn].projection[c.projection]===null&&l!==null?dP(o,a,l):d&&(c.flags&32)!==32&&GA(a,o,c)}function dP(i,t,e){let n=gn+e,r=t.data[n],s=i[n],o=pa(s,r.tView.ssrId),a=Rl(i,r,void 0,{dehydratedView:o});Ll(s,a,0,ha(r,o))}function xa(i,t,e){return mx(i,"",t,"",e),xa}function mx(i,t,e,n,r){let s=ye(),o=Qm(s,t,e,n);if(o!==Ln){let a=Dt(),l=Pd();Um(a,l,s,i,o,s[wt],r,!1)}return mx}function at(i,t,e,n){u3(i,t,e,n)}function be(i,t,e){c3(i,t,e)}function X(i){let t=ye(),e=Dt(),n=IC();wm(n+1);let r=qm(e,n);if(i.dirty&&rO(t)===((r.metadata.flags&2)===2)){if(r.matches===null)i.reset([]);else{let s=p3(t,n);i.reset(s,KO),i.notifyOnChanges()}return!0}return!1}function Q(){return l3(ye(),IC())}function xt(i){let t=fO();return iO(t,gn+i)}function et(i,t=""){let e=ye(),n=Dt(),r=i+gn,s=n.firstCreatePass?wa(n,r,1,t,null):n.data[r],o=hP(n,e,s,t,i);e[r]=o,Fd()&&zd(n,e,o,s),Xs(s,!1)}var hP=(i,t,e,n,r)=>(Rd(!0),AA(t[wt],n));function Mt(i){return Ii("",i,""),Mt}function Ii(i,t,e){let n=ye(),r=Qm(n,i,t,e);return r!==Ln&&Lw(n,wr(),r),Ii}function Jm(i,t,e,n,r){let s=ye(),o=A3(s,i,t,e,n,r);return o!==Ln&&Lw(s,wr(),o),Jm}function Xi(i,t,e){Jw(t)&&(t=t());let n=ye(),r=ba();if(Fn(n,r,t)){let s=Dt(),o=Pd();Um(s,o,n,i,t,n[wt],e,!1)}return Xi}function Er(i,t){let e=Jw(i);return e&&i.set(t),e}function Qi(i,t){let e=ye(),n=Dt(),r=Jt();return gx(n,e,e[wt],r,i,t),Qi}function pP(i,t,e){let n=Dt();if(n.firstCreatePass){let r=es(i);Zg(e,n.data,n.blueprint,r,!0),Zg(t,n.data,n.blueprint,r,!1)}}function Zg(i,t,e,n,r){if(i=hn(i),Array.isArray(i))for(let s=0;s<i.length;s++)Zg(i[s],t,e,n,r);else{let s=Dt(),o=ye(),a=Jt(),l=la(i)?i:hn(i.provide),c=sC(i),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(la(i)||!i.multi){let p=new Ws(c,r,D),f=Kf(l,t,r?u:u+h,d);f===-1?(ug(od(a,o),s,l),Yf(s,i,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(p),o.push(p)):(e[f]=p,o[f]=p)}else{let p=Kf(l,t,u+h,d),f=Kf(l,t,u,u+h),y=p>=0&&e[p],_=f>=0&&e[f];if(r&&!_||!r&&!y){ug(od(a,o),s,l);let b=mP(r?gP:fP,e.length,r,n,c);!r&&_&&(e[f].providerFactory=b),Yf(s,i,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(b),o.push(b)}else{let b=vx(e[r?f:p],c,!r&&n);Yf(s,i,p>-1?p:f,b)}!r&&n&&_&&e[f].componentProviders++}}}function Yf(i,t,e,n){let r=la(t),s=GM(t);if(r||s){let l=(s?hn(t.useClass):t).prototype.ngOnDestroy;if(l){let c=i.destroyHooks||(i.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(e);u===-1?c.push(e,[n,l]):c[u+1].push(n,l)}else c.push(e,l)}}}function vx(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function Kf(i,t,e,n){for(let r=e;r<n;r++)if(t[r]===i)return r;return-1}function fP(i,t,e,n){return Jg(this.multi,[])}function gP(i,t,e,n){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=qs(e,e[Ee],this.providerFactory.index,n);s=a.slice(0,o),Jg(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Jg(r,s);return s}function Jg(i,t){for(let e=0;e<i.length;e++){let n=i[e];t.push(n())}return t}function mP(i,t,e,n,r){let s=new Ws(i,e,D);return s.multi=[],s.index=t,s.componentProviders=0,vx(s,r,n&&!e),s}function vn(i,t=[]){return e=>{e.providersResolver=(n,r)=>pP(n,r?r(i):i,t)}}var vP=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=nC(!1,n.type),s=r.length>0?Yd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=Y({token:t,providedIn:"environment",factory:()=>new t(ne(fn))});let i=t;return i})();function J(i){Yi("NgStandalone"),i.getStandaloneInjector=t=>t.get(vP).getOrCreateStandaloneInjector(i)}function yn(i,t,e){let n=os()+i,r=ye();return r[n]===Ln?as(r,n,e?t.call(e):t()):Km(r,n)}function he(i,t,e,n){return yP(ye(),os(),i,t,e,n)}function it(i,t,e,n,r){return _P(ye(),os(),i,t,e,n,r)}function Zi(i,t,e,n,r,s){return bP(ye(),os(),i,t,e,n,r,s)}function Kd(i,t,e,n,r,s,o){return CP(ye(),os(),i,t,e,n,r,s,o)}function yx(i,t,e,n,r,s,o,a){let l=os()+i,c=ye(),u=md(c,l,e,n,r,s);return Fn(c,l+4,o)||u?as(c,l+5,a?t.call(a,e,n,r,s,o):t(e,n,r,s,o)):Km(c,l+5)}function _x(i,t,e,n,r,s,o,a,l,c,u){let d=os()+i,h=ye(),p=md(h,d,e,n,r,s);return md(h,d+4,o,a,l,c)||p?as(h,d+8,u?t.call(u,e,n,r,s,o,a,l,c):t(e,n,r,s,o,a,l,c)):Km(h,d+8)}function bx(i,t,e,n){return wP(ye(),os(),i,t,e,n)}function jl(i,t){let e=i[t];return e===Ln?void 0:e}function yP(i,t,e,n,r,s){let o=t+e;return Fn(i,o,r)?as(i,o+1,s?n.call(s,r):n(r)):jl(i,o+1)}function _P(i,t,e,n,r,s,o){let a=t+e;return Tl(i,a,r,s)?as(i,a+2,o?n.call(o,r,s):n(r,s)):jl(i,a+2)}function bP(i,t,e,n,r,s,o,a){let l=t+e;return x3(i,l,r,s,o)?as(i,l+3,a?n.call(a,r,s,o):n(r,s,o)):jl(i,l+3)}function CP(i,t,e,n,r,s,o,a,l){let c=t+e;return md(i,c,r,s,o,a)?as(i,c+4,l?n.call(l,r,s,o,a):n(r,s,o,a)):jl(i,c+4)}function wP(i,t,e,n,r,s){let o=t+e,a=!1;for(let l=0;l<r.length;l++)Fn(i,o++,r[l])&&(a=!0);return a?as(i,o,n.apply(s,r)):jl(i,o)}function Rt(i,t){return qd(i,t)}var Xd=(()=>{let t=class t{log(n){console.log(n)}warn(n){console.warn(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"platform"});let i=t;return i})();var e0=new ie(""),Bl=new ie(""),Qd=(()=>{let t=class t{constructor(n,r,s){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,t0||(xP(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}};t.\u0275fac=function(r){return new(r||t)(ne(Oe),ne(Zd),ne(Bl))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),Zd=(()=>{let t=class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return t0?.findTestabilityInTree(this,n,r)??null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"platform"});let i=t;return i})();function xP(i){t0=i}var t0;function Js(i){return!!i&&typeof i.then=="function"}function Cx(i){return!!i&&typeof i.subscribe=="function"}var Jd=new ie(""),wx=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=j(Jd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(Js(o))n.push(o);else if(Cx(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),Hl=new ie("");function IP(){h1(()=>{throw new z(600,!1)})}function SP(i){return i.isBoundToModule}var EP=10;function TP(i,t,e){try{let n=e();return Js(n)?n.catch(r=>{throw t.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}var Tr=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(qO),this.afterRenderManager=j(tx),this.zonelessEnabled=j(Gw),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ct,this.afterTick=new Ct,this.componentTypes=[],this.components=[],this.isStable=j(qi).hasPendingTasks.pipe(ke(n=>!n)),this._injector=j(fn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let s=n instanceof dd;if(!this._injector.get(wx).done){let p=!s&&Zb(n),f=!1;throw new z(405,f)}let a;s?a=n:a=this._injector.get(ga).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=SP(a)?void 0:this._injector.get(rs),c=r||a.selector,u=a.create(Pn.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(e0,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ku(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let n=ze(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ze(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(is,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<EP;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:o}of this._views)DP(s,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ad(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ku(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Hl,[]);[...this._bootstrapListeners,...r].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ku(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function Ku(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function DP(i,t,e,n){if(!e&&!Ad(i))return;Hw(i,t,e&&!n?0:1)}var em=class{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},eh=(()=>{let t=class t{compileModuleSync(n){return new Bg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=Jb(n),o=dw(s.declarations).reduce((a,l)=>{let c=Jr(l);return c&&a.push(new ma(c)),a},[]);return new em(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var MP=(()=>{let t=class t{constructor(){this.zone=j(Oe),this.changeDetectionScheduler=j(fa),this.applicationRef=j(Tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function OP({ngZoneFactory:i,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return i??=()=>new Oe(ve(L({},AP()),{scheduleInRootZone:e})),[{provide:Oe,useFactory:i},{provide:aa,multi:!0,useFactory:()=>{let n=j(MP,{optional:!0});return()=>n.initialize()}},{provide:aa,multi:!0,useFactory:()=>{let n=j(kP);return()=>{n.initialize()}}},t===!0?{provide:Ww,useValue:!0}:[],{provide:qw,useValue:e??UC}]}function AP(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}var kP=(()=>{let t=class t{constructor(){this.subscription=new Tt,this.initialized=!1,this.zone=j(Oe),this.pendingTasks=j(qi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var PP=(()=>{let t=class t{constructor(){this.appRef=j(Tr),this.taskService=j(qi),this.ngZone=j(Oe),this.zonelessEnabled=j(Gw),this.disableScheduling=j(Ww,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Tt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ld):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(qw,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?sb:zC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ld+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function FP(){return typeof $localize<"u"&&$localize.locale||Cd}var n0=new ie("",{providedIn:"root",factory:()=>j(n0,Ve.Optional|Ve.SkipSelf)||FP()});var xx=new ie("");function zu(i){return!!i.platformInjector}function RP(i){let t=zu(i)?i.r3Injector:i.moduleRef.injector,e=t.get(Oe);return e.run(()=>{zu(i)?i.r3Injector.resolveInjectorInitializers():i.moduleRef.resolveInjectorInitializers();let n=t.get(Gi,null),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:s=>{n.handleError(s)}})}),zu(i)){let s=()=>t.destroy(),o=i.platformInjector.get(xx);o.add(s),t.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else i.moduleRef.onDestroy(()=>{Ku(i.allPlatformModules,i.moduleRef),r.unsubscribe()});return TP(n,e,()=>{let s=t.get(wx);return s.runInitializers(),s.donePromise.then(()=>{let o=t.get(n0,Cd);if(aP(o||Cd),zu(i)){let a=t.get(Tr);return i.rootComponent!==void 0&&a.bootstrap(i.rootComponent),a}else return LP(i.moduleRef,i.allPlatformModules),i.moduleRef})})})}function LP(i,t){let e=i.injector.get(Tr);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(n=>e.bootstrap(n));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(e);else throw new z(-403,!1);t.push(i)}var Xu=null;function NP(i=[],t){return Pn.create({name:t,providers:[{provide:Td,useValue:"platform"},{provide:xx,useValue:new Set([()=>Xu=null])},...i]})}function VP(i=[]){if(Xu)return Xu;let t=NP(i);return Xu=t,IP(),jP(t),t}function jP(i){i.get(Mm,null)?.forEach(e=>e())}var je=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=BP;let i=t;return i})();function BP(i){return HP(Jt(),ye(),(i&16)===16)}function HP(i,t,e){if(Md(i)&&!e){let n=ss(i.index,t);return new Ys(n,n)}else if(i.type&175){let n=t[$n];return new Ys(n,t)}return null}var tm=class{constructor(){}supports(t){return ex(t)}create(t){return new nm(t)}},UP=(i,t)=>t,nm=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||UP}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,s=null;for(;e||n;){let o=!n||e&&e.currentIndex<Ob(n,r,s)?e:n,a=Ob(o,r,s),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let p=h<s.length?s[h]:s[h]=0,f=p+h;u<=f&&f<c&&(s[h]=p+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!ex(t))throw new z(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,n=!1,r,s,o;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),e===null||!Object.is(e.trackById,o)?(e=this._mismatch(e,s,o,a),n=!0):(n&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next}else r=0,w3(t,a=>{o=this._trackByFn(r,a),e===null||!Object.is(e.trackById,o)?(e=this._mismatch(e,a,o,r),n=!0):(n&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new im(e,n),s,r)),t}_verifyReinsertion(t,e,n,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,s=t._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new wd),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,n=t._next;return e===null?this._itHead=n:e._next=n,n===null?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wd),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},im=class{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},rm=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;n!==null;n=n._nextDup)if((e===null||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let e=t._prevDup,n=t._nextDup;return e===null?this._head=n:e._nextDup=n,n===null?this._tail=e:n._prevDup=e,this._head===null}},wd=class{constructor(){this.map=new Map}put(t){let e=t.trackById,n=this.map.get(e);n||(n=new rm,this.map.set(e,n)),n.add(t)}get(t,e){let n=t,r=this.map.get(n);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ob(i,t,e){let n=i.previousIndex;if(n===null)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+t+r}var sm=class{constructor(){}supports(t){return t instanceof Map||Ym(t)}create(){return new om}},om=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Ym(t)))throw new z(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{let s=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,e);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let n=new am(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}},am=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Ab(){return new i0([new tm])}var i0=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,r){if(r!=null){let s=r.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ab()),deps:[[t,new Ed,new Ol]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r!=null)return r;throw new z(901,!1)}};t.\u0275prov=Y({token:t,providedIn:"root",factory:Ab});let i=t;return i})();function kb(){return new r0([new sm])}var r0=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,r){if(r){let s=r.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||kb()),deps:[[t,new Ed,new Ol]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r)return r;throw new z(901,!1)}};t.\u0275prov=Y({token:t,providedIn:"root",factory:kb});let i=t;return i})();var Ix=(()=>{let t=class t{constructor(n){}};t.\u0275fac=function(r){return new(r||t)(ne(Tr))},t.\u0275mod=le({type:t}),t.\u0275inj=ae({});let i=t;return i})();function Sx(i){try{let{rootComponent:t,appProviders:e,platformProviders:n}=i,r=VP(n),s=[OP({}),{provide:fa,useExisting:PP},...e||[]],o=new gd({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return RP({r3Injector:o.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}}var Ex=new ie("");function V(i){return typeof i=="boolean"?i:i!=null&&i!=="false"}function we(i,t=NaN){return!isNaN(parseFloat(i))&&!isNaN(Number(i))?Number(i):t}function Dr(i,t){Yi("NgSignals");let e=c1(i);return t?.equal&&(e[Vi].equal=t.equal),e}function ls(i){let t=ze(null);try{return i()}finally{ze(t)}}var zP=new ie("",{providedIn:"root",factory:()=>j($P)}),$P=(()=>{let t=class t{};t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new lm});let i=t;return i})(),lm=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=j(qi),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),this.taskId===null){let e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(t){let e=t.creationZone;this.queues.has(e)||this.queues.set(e,new Set);let n=this.queues.get(e);n.has(t)||(this.queuedEffectCount++,n.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}},cm=class{constructor(t,e,n,r,s,o){this.scheduler=t,this.effectFn=e,this.creationZone=n,this.injector=s,this.watcher=m1(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(Gi,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function cs(i,t){Yi("NgSignals"),!t?.injector&&aC(cs);let e=t?.injector??j(Pn),n=t?.manualCleanup!==!0?e.get(Nd):null,r=new cm(e.get(zP),i,typeof Zone>"u"?null:Zone.current,n,e,t?.allowSignalWrites??!1),s=e.get(je,null,{optional:!0});return!s||!(s._lView[Ce]&8)?r.watcher.notify():(s._lView[Gu]??=[]).push(r.watcher.notify),r}function Tx(i){let t=Jr(i);if(!t)return null;let e=new ma(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Px=null;function Ji(){return Px}function Fx(i){Px??=i}var th=class{};var Ie=new ie(""),h0=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:()=>j(WP),providedIn:"platform"});let i=t;return i})(),Rx=new ie(""),WP=(()=>{let t=class t extends h0{constructor(){super(),this._doc=j(Ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ji().getBaseHref(this._doc)}onPopState(n){let r=Ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:()=>new t,providedIn:"platform"});let i=t;return i})();function p0(i,t){if(i.length==0)return t;if(t.length==0)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?i+t.substring(1):e==1?i+t:i+"/"+t}function Dx(i){let t=i.match(/#|\?|$/),e=t&&t.index||i.length,n=e-(i[e-1]==="/"?1:0);return i.slice(0,n)+i.slice(e)}function Mr(i){return i&&i[0]!=="?"?"?"+i:i}var Or=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:()=>j(f0),providedIn:"root"});let i=t;return i})(),Lx=new ie(""),f0=(()=>{let t=class t extends Or{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return p0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Mr(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+Mr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+Mr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(r){return new(r||t)(ne(h0),ne(Lx,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),Nx=(()=>{let t=class t extends Or{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=p0(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+Mr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+Mr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(r){return new(r||t)(ne(h0),ne(Lx,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),Sa=(()=>{let t=class t{constructor(n){this._subject=new U,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=KP(Dx(Mx(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Mr(r))}normalize(n){return t.stripTrailingSlash(YP(this._basePath,Mx(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mr(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}};t.normalizeQueryParams=Mr,t.joinWithSlash=p0,t.stripTrailingSlash=Dx,t.\u0275fac=function(r){return new(r||t)(ne(Or))},t.\u0275prov=Y({token:t,factory:()=>qP(),providedIn:"root"});let i=t;return i})();function qP(){return new Sa(ne(Or))}function YP(i,t){if(!i||!t.startsWith(i))return t;let e=t.substring(i.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Mx(i){return i.replace(/\/index.html$/,"")}function KP(i){if(new RegExp("^(https?:)?//").test(i)){let[,e]=i.split(/\/\/[^\/]+/);return e}return i}function nh(i,t){t=encodeURIComponent(t);for(let e of i.split(";")){let n=e.indexOf("="),[r,s]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}var o0=/\s+/,Ox=[],Ke=(()=>{let t=class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Ox,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(o0):Ox}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(o0):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],s=n[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(o0).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};t.\u0275fac=function(r){return new(r||t)(D(pe),D(nt))},t.\u0275dir=st({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let i=t;return i})();var a0=class{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},er=(()=>{let t=class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new a0(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),Ax(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);Ax(o,s)})}static ngTemplateContextGuard(n,r){return!0}};t.\u0275fac=function(r){return new(r||t)(D(Wn),D(wi),D(i0))},t.\u0275dir=st({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let i=t;return i})();function Ax(i,t){i.context.$implicit=t.item}var lt=(()=>{let t=class t{constructor(n,r){this._viewContainer=n,this._context=new l0,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){kx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){kx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};t.\u0275fac=function(r){return new(r||t)(D(Wn),D(wi))},t.\u0275dir=st({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let i=t;return i})(),l0=class{constructor(){this.$implicit=null,this.ngIf=null}};function kx(i,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${i} must be a TemplateRef, but received '${pn(t)}'.`)}var Xe=(()=>{let t=class t{constructor(n,r,s){this._ngEl=n,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[s,o]=n.split("."),a=s.indexOf("-")===-1?void 0:Wi.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};t.\u0275fac=function(r){return new(r||t)(D(pe),D(r0),D(nt))},t.\u0275dir=st({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let i=t;return i})(),vt=(()=>{let t=class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(n,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};t.\u0275fac=function(r){return new(r||t)(D(Wn))},t.\u0275dir=st({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Gt]});let i=t;return i})();var Pe=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=le({type:t}),t.\u0275inj=ae({});let i=t;return i})(),g0="browser",XP="server";function gt(i){return i===g0}function ih(i){return i===XP}var Vx=(()=>{let t=class t{};t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>gt(j(ot))?new c0(j(Ie),window):new u0});let i=t;return i})(),c0=class{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=QP(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}};function QP(i,t){let e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=n.nextNode()}}return null}var u0=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},Ia=class{};var zl=class{},sh=class{},Ar=class i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),s=r.toLowerCase(),o=e.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var v0=class{encodeKey(t){return jx(t)}encodeValue(t){return jx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function ZP(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}var JP=/%(\d[a-f0-9])/gi,eF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jx(i){return encodeURIComponent(i).replace(JP,(t,e)=>eF[e]??t)}function rh(i){return`${i}`}var ds=class i{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new v0,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=ZP(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(rh):[rh(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(s=>{e.push({param:n,value:s,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(rh(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(rh(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var y0=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function tF(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Bx(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Hx(i){return typeof Blob<"u"&&i instanceof Blob}function Ux(i){return typeof FormData<"u"&&i instanceof FormData}function nF(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Ul=class i{constructor(t,e,n,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(tF(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Ar,this.context??=new y0,!this.params)this.params=new ds,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Bx(this.body)||Hx(this.body)||Ux(this.body)||nF(this.body)?this.body:this.body instanceof ds?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ux(this.body)?null:Hx(this.body)?this.body.type||null:Bx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ds?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),u)),new i(e,n,o,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},li=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(li||{}),$l=class{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ar,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},oh=class i extends $l{constructor(t={}){super(t),this.type=li.ResponseHeader}clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Gl=class i extends $l{constructor(t={}){super(t),this.type=li.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},us=class extends $l{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},qx=200,iF=204;function m0(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var C0=(()=>{let t=class t{constructor(n){this.handler=n}request(n,r,s={}){let o;if(n instanceof Ul)o=n;else{let c;s.headers instanceof Ar?c=s.headers:c=new Ar(s.headers);let u;s.params&&(s.params instanceof ds?u=s.params:u=new ds({fromObject:s.params})),o=new Ul(n,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=ge(o).pipe(mr(c=>this.handler.handle(c)));if(n instanceof Ul||s.observe==="events")return a;let l=a.pipe(On(c=>c instanceof Gl));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ke(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ke(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ke(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(ke(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ds().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,m0(s,r))}post(n,r,s={}){return this.request("POST",n,m0(s,r))}put(n,r,s={}){return this.request("PUT",n,m0(s,r))}};t.\u0275fac=function(r){return new(r||t)(ne(zl))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),rF=/^\)\]\}',?\n/,sF="X-Request-URL";function zx(i){if(i.url)return i.url;let t=sF.toLocaleLowerCase();return i.headers.get(t)}var oF=(()=>{let t=class t{constructor(){this.fetchImpl=j(_0,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=j(Oe)}handle(n){return new $e(r=>{let s=new AbortController;return this.doRequest(n,s.signal,r).then(b0,o=>r.error(new us({error:o}))),()=>s.abort()})}doRequest(n,r,s){return rt(this,null,function*(){let o=this.createRequestInit(n),a;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,L({signal:r},o)));aF(f),s.next({type:li.Sent}),a=yield f}catch(f){s.error(new us({error:f,status:f.status??0,statusText:f.statusText,url:n.urlWithParams,headers:f.headers}));return}let l=new Ar(a.headers),c=a.statusText,u=zx(a)??n.urlWithParams,d=a.status,h=null;if(n.reportProgress&&s.next(new oh({headers:l,status:d,statusText:c,url:u})),a.body){let f=a.headers.get("content-length"),y=[],_=a.body.getReader(),b=0,T,R,F=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>rt(this,null,function*(){for(;;){let{done:G,value:Z}=yield _.read();if(G)break;if(y.push(Z),b+=Z.length,n.reportProgress){R=n.responseType==="text"?(R??"")+(T??=new TextDecoder).decode(Z,{stream:!0}):void 0;let q=()=>s.next({type:li.DownloadProgress,total:f?+f:void 0,loaded:b,partialText:R});F?F.run(q):q()}}}));let $=this.concatChunks(y,b);try{let G=a.headers.get("Content-Type")??"";h=this.parseBody(n,$,G)}catch(G){s.error(new us({error:G,headers:new Ar(a.headers),status:a.status,statusText:a.statusText,url:zx(a)??n.urlWithParams}));return}}d===0&&(d=h?qx:0),d>=200&&d<300?(s.next(new Gl({body:h,headers:l,status:d,statusText:c,url:u})),s.complete()):s.error(new us({error:h,headers:l,status:d,statusText:c,url:u}))})}parseBody(n,r,s){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(rF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((o,a)=>r[o]=a.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:s}}concatChunks(n,r){let s=new Uint8Array(r),o=0;for(let a of n)s.set(a,o),o+=a.length;return s}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),_0=class{};function b0(){}function aF(i){i.then(b0,b0)}function Yx(i,t){return t(i)}function lF(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}function cF(i,t,e){return(n,r)=>oi(e,()=>t(n,s=>i(s,r)))}var uF=new ie(""),w0=new ie(""),dF=new ie(""),Kx=new ie("",{providedIn:"root",factory:()=>!0});function hF(){let i=null;return(t,e)=>{i===null&&(i=(j(uF,{optional:!0})??[]).reduceRight(lF,Yx));let n=j(qi);if(j(Kx)){let s=n.add();return i(t,e).pipe(Yr(()=>n.remove(s)))}else return i(t,e)}}var $x=(()=>{let t=class t extends zl{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=j(qi),this.contributeToStability=j(Kx)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(w0),...this.injector.get(dF,[])]));this.chain=r.reduceRight((s,o)=>cF(s,o,this.injector),Yx)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(Yr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}};t.\u0275fac=function(r){return new(r||t)(ne(sh),ne(fn))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})();var pF=/^\)\]\}',?\n/;function fF(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var Gx=(()=>{let t=class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ft(r.\u0275loadImpl()):ge(null)).pipe(An(()=>new $e(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((_,b)=>a.setRequestHeader(_,b.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let _=n.detectContentTypeHeader();_!==null&&a.setRequestHeader("Content-Type",_)}if(n.responseType){let _=n.responseType.toLowerCase();a.responseType=_!=="json"?_:"text"}let l=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let _=a.statusText||"OK",b=new Ar(a.getAllResponseHeaders()),T=fF(a)||n.url;return c=new oh({headers:b,status:a.status,statusText:_,url:T}),c},d=()=>{let{headers:_,status:b,statusText:T,url:R}=u(),F=null;b!==iF&&(F=typeof a.response>"u"?a.responseText:a.response),b===0&&(b=F?qx:0);let $=b>=200&&b<300;if(n.responseType==="json"&&typeof F=="string"){let G=F;F=F.replace(pF,"");try{F=F!==""?JSON.parse(F):null}catch(Z){F=G,$&&($=!1,F={error:Z,text:F})}}$?(o.next(new Gl({body:F,headers:_,status:b,statusText:T,url:R||void 0})),o.complete()):o.error(new us({error:F,headers:_,status:b,statusText:T,url:R||void 0}))},h=_=>{let{url:b}=u(),T=new us({error:_,status:a.status||0,statusText:a.statusText||"Unknown Error",url:b||void 0});o.error(T)},p=!1,f=_=>{p||(o.next(u()),p=!0);let b={type:li.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(b.total=_.total),n.responseType==="text"&&a.responseText&&(b.partialText=a.responseText),o.next(b)},y=_=>{let b={type:li.UploadProgress,loaded:_.loaded};_.lengthComputable&&(b.total=_.total),o.next(b)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",f),l!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(l),o.next({type:li.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",f),l!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(r){return new(r||t)(ne(Ia))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),Xx=new ie(""),gF="XSRF-TOKEN",mF=new ie("",{providedIn:"root",factory:()=>gF}),vF="X-XSRF-TOKEN",yF=new ie("",{providedIn:"root",factory:()=>vF}),ah=class{},_F=(()=>{let t=class t{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=nh(n,this.cookieName),this.lastCookieString=n),this.lastToken}};t.\u0275fac=function(r){return new(r||t)(ne(Ie),ne(ot),ne(mF))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})();function bF(i,t){let e=i.url.toLowerCase();if(!j(Xx)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let n=j(ah).getToken(),r=j(yF);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var Qx=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(Qx||{});function CF(i,t){return{\u0275kind:i,\u0275providers:t}}function wF(...i){let t=[C0,Gx,$x,{provide:zl,useExisting:$x},{provide:sh,useFactory:()=>j(oF,{optional:!0})??j(Gx)},{provide:w0,useValue:bF,multi:!0},{provide:Xx,useValue:!0},{provide:ah,useClass:_F}];for(let e of i)t.push(...e.\u0275providers);return Pl(t)}var Wx=new ie("");function xF(){return CF(Qx.LegacyInterceptors,[{provide:Wx,useFactory:hF},{provide:w0,useExisting:Wx,multi:!0}])}var Zx=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=le({type:t}),t.\u0275inj=ae({providers:[wF(xF())]});let i=t;return i})();var S0=class extends th{constructor(){super(...arguments),this.supportsDOMEvents=!0}},E0=class i extends S0{static makeCurrent(){Fx(new i)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=SF();return e==null?null:EF(e)}resetBaseElement(){Wl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return nh(document.cookie,t)}},Wl=null;function SF(){return Wl=Wl||document.querySelector("base"),Wl?Wl.getAttribute("href"):null}function EF(i){return new URL(i,document.baseURI).pathname}var T0=class{addToWindow(t){si.getAngularTestability=(n,r=!0)=>{let s=t.findTestabilityInTree(n,r);if(s==null)throw new z(5103,!1);return s},si.getAllAngularTestabilities=()=>t.getAllTestabilities(),si.getAllAngularRootElements=()=>t.getAllRootElements();let e=n=>{let r=si.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&n()};r.forEach(a=>{a.whenStable(o)})};si.frameworkStabilizers||(si.frameworkStabilizers=[]),si.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,n){if(e==null)return null;let r=t.getTestability(e);return r??(n?Ji().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},TF=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),lh=new ie(""),tI=(()=>{let t=class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(n,r),r}};t.\u0275fac=function(r){return new(r||t)(ne(lh),ne(Oe))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),ql=class{constructor(t){this._doc=t}},x0="ng-app-id",nI=(()=>{let t=class t{constructor(n,r,s,o={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ih(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${x0}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=r,o.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===n)return s.delete(r),o.removeAttribute(x0),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(x0,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(ne(Ie),ne(Vd),ne(Am,8),ne(ot))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),I0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},M0=/%COMP%/g,iI="%COMP%",DF=`_nghost-${iI}`,MF=`_ngcontent-${iI}`,OF=!0,AF=new ie("",{providedIn:"root",factory:()=>OF});function kF(i){return MF.replace(M0,i)}function PF(i){return DF.replace(M0,i)}function rI(i,t){return t.map(e=>e.replace(M0,i))}var ch=(()=>{let t=class t{constructor(n,r,s,o,a,l,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ih(l),this.defaultRenderer=new Yl(n,a,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ui.ShadowDom&&(r=ve(L({},r),{encapsulation:Ui.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof uh?s.applyToHost(n):s instanceof Kl&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Ui.Emulated:o=new uh(c,u,r,this.appId,d,a,l,h);break;case Ui.ShadowDom:return new D0(c,u,n,r,a,l,this.nonce,h);default:o=new Kl(c,u,r,d,a,l,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(ne(tI),ne(nI),ne(Vd),ne(AF),ne(Ie),ne(ot),ne(Oe),ne(Am))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),Yl=class{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(I0[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Jx(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Jx(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new z(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let s=I0[r];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=I0[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Wi.DashCase|Wi.Important)?t.style.setProperty(e,n,r&Wi.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Wi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n){if(typeof t=="string"&&(t=Ji().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Jx(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var D0=class extends Yl{constructor(t,e,n,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=rI(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kl=class extends Yl{constructor(t,e,n,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?rI(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},uh=class extends Kl{constructor(t,e,n,r,s,o,a,l){let c=r+"-"+n.id;super(t,e,n,s,o,a,l,c),this.contentAttr=kF(c),this.hostAttr=PF(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},FF=(()=>{let t=class t extends ql{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}};t.\u0275fac=function(r){return new(r||t)(ne(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),RF=(()=>{let t=class t extends ql{constructor(n){super(n),this.delegate=j(Ex,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,s){return this.delegate.addEventListener(n,r,s)}removeEventListener(n,r,s){return this.delegate.removeEventListener(n,r,s)}};t.\u0275fac=function(r){return new(r||t)(ne(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),eI=["alt","control","meta","shift"],LF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NF={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},VF=(()=>{let t=class t extends ql{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ji().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),eI.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let s=LF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),eI.forEach(a=>{if(a!==s){let l=NF[a];l(n)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(n,r,s){return o=>{t.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(r){return new(r||t)(ne(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})();function sI(i,t){return Sx(L({rootComponent:i},jF(t)))}function jF(i){return{appProviders:[...oI,...i?.providers??[]],platformProviders:zF}}function BF(){E0.makeCurrent()}function HF(){return new Gi}function UF(){return XC(document),document}var zF=[{provide:ot,useValue:g0},{provide:Mm,useValue:BF,multi:!0},{provide:Ie,useFactory:UF,deps:[]}];var $F=new ie(""),GF=[{provide:Bl,useClass:T0,deps:[]},{provide:e0,useClass:Qd,deps:[Oe,Zd,Bl]},{provide:Qd,useClass:Qd,deps:[Oe,Zd,Bl]}],oI=[{provide:Td,useValue:"root"},{provide:Gi,useFactory:HF,deps:[]},{provide:lh,useClass:FF,multi:!0,deps:[Ie,Oe,ot]},{provide:lh,useClass:VF,multi:!0,deps:[Ie]},{provide:lh,useClass:RF,multi:!0},ch,nI,tI,{provide:is,useExisting:ch},{provide:Ia,useClass:TF,deps:[]},[]],aI=(()=>{let t=class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Vd,useValue:n.appId}]}}};t.\u0275fac=function(r){return new(r||t)(ne($F,12))},t.\u0275mod=le({type:t}),t.\u0275inj=ae({providers:[...oI,...GF],imports:[Pe,Ix]});let i=t;return i})();var lI=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(r){return new(r||t)(ne(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var O0=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:function(r){let s=null;return r?s=new(r||t):s=ne(WF),s},providedIn:"root"});let i=t;return i})(),WF=(()=>{let t=class t extends O0{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case xi.NONE:return r;case xi.HTML:return xr(r,"HTML")?Gn(r):Pm(this._doc,String(r)).toString();case xi.STYLE:return xr(r,"Style")?Gn(r):r;case xi.SCRIPT:if(xr(r,"Script"))return Gn(r);throw new z(5200,!1);case xi.URL:return xr(r,"URL")?Gn(r):Bd(String(r));case xi.RESOURCE_URL:if(xr(r,"ResourceURL"))return Gn(r);throw new z(5201,!1);default:throw new z(5202,!1)}}bypassSecurityTrustHtml(n){return ew(n)}bypassSecurityTrustStyle(n){return tw(n)}bypassSecurityTrustScript(n){return nw(n)}bypassSecurityTrustUrl(n){return iw(n)}bypassSecurityTrustResourceUrl(n){return rw(n)}};t.\u0275fac=function(r){return new(r||t)(ne(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var De=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(De||{}),tr="*";function qn(i,t){return{type:De.Trigger,name:i,definitions:t,options:{}}}function Yt(i,t=null){return{type:De.Animate,styles:t,timings:i}}function uI(i,t=null){return{type:De.Sequence,steps:i,options:t}}function It(i){return{type:De.Style,styles:i,offset:null}}function A0(i,t,e){return{type:De.State,name:i,styles:t,options:e}}function Ht(i,t,e=null){return{type:De.Transition,expr:i,animation:t,options:e}}function k0(i,t=null){return{type:De.Reference,animation:i,options:t}}function P0(i,t=null){return{type:De.AnimateRef,animation:i,options:t}}var hs=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Xl=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},dh="!";function dI(i){return new z(3e3,!1)}function qF(){return new z(3100,!1)}function YF(){return new z(3101,!1)}function KF(i){return new z(3001,!1)}function XF(i){return new z(3003,!1)}function QF(i){return new z(3004,!1)}function ZF(i,t){return new z(3005,!1)}function JF(){return new z(3006,!1)}function e4(){return new z(3007,!1)}function t4(i,t){return new z(3008,!1)}function n4(i){return new z(3002,!1)}function i4(i,t,e,n,r){return new z(3010,!1)}function r4(){return new z(3011,!1)}function s4(){return new z(3012,!1)}function o4(){return new z(3200,!1)}function a4(){return new z(3202,!1)}function l4(){return new z(3013,!1)}function c4(i){return new z(3014,!1)}function u4(i){return new z(3015,!1)}function d4(i){return new z(3016,!1)}function h4(i,t){return new z(3404,!1)}function p4(i){return new z(3502,!1)}function f4(i){return new z(3503,!1)}function g4(){return new z(3300,!1)}function m4(i){return new z(3504,!1)}function v4(i){return new z(3301,!1)}function y4(i,t){return new z(3302,!1)}function _4(i){return new z(3303,!1)}function b4(i,t){return new z(3400,!1)}function C4(i){return new z(3401,!1)}function w4(i){return new z(3402,!1)}function x4(i,t){return new z(3505,!1)}function ps(i){switch(i.length){case 0:return new hs;case 1:return i[0];default:return new Xl(i)}}function SI(i,t,e=new Map,n=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,p)=>{let f=p,y=h;if(p!=="offset")switch(f=i.normalizePropertyName(f,r),y){case dh:y=e.get(p);break;case tr:y=n.get(p);break;default:y=i.normalizeStyleValue(p,f,y,r);break}d.set(f,y)}),u||s.push(d),a=d,o=c}),r.length)throw p4(r);return s}function nv(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&F0(e,"start",i)));break;case"done":i.onDone(()=>n(e&&F0(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&F0(e,"destroy",i)));break}}function F0(i,t,e){let n=e.totalTime,r=!!e.disabled,s=iv(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),o=i._data;return o!=null&&(s._data=o),s}function iv(i,t,e,n,r="",s=0,o){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function Kn(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function hI(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var I4=typeof document>"u"?null:document.documentElement;function rv(i){let t=i.parentNode||i.host||null;return t===I4?null:t}function S4(i){return i.substring(1,6)=="ebkit"}var eo=null,pI=!1;function E4(i){eo||(eo=T4()||{},pI=eo.style?"WebkitAppearance"in eo.style:!1);let t=!0;return eo.style&&!S4(i)&&(t=i in eo.style,!t&&pI&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in eo.style)),t}function T4(){return typeof document<"u"?document.body:null}function EI(i,t){for(;t;){if(t===i)return!0;t=rv(t)}return!1}function TI(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var sv=(()=>{let t=class t{validateStyleProperty(n){return E4(n)}containsElement(n,r){return EI(n,r)}getParentElement(n){return rv(n)}query(n,r,s){return TI(n,r,s)}computeStyle(n,r,s){return s||""}animate(n,r,s,o,a,l=[],c){return new hs(s,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})(),cv=class cv{};cv.NOOP=new sv;var io=cv,ro=class{};var D4=1e3,DI="{{",M4="}}",MI="ng-enter",B0="ng-leave",hh="ng-trigger",vh=".ng-trigger",fI="ng-animating",H0=".ng-animating";function kr(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:U0(parseFloat(t[1]),t[2])}function U0(i,t){switch(t){case"s":return i*D4;default:return i}}function yh(i,t,e){return i.hasOwnProperty("duration")?i:O4(i,t,e)}function O4(i,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof i=="string"){let a=i.match(n);if(a===null)return t.push(dI(i)),{duration:0,delay:0,easing:""};r=U0(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=U0(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=i;if(!e){let a=!1,l=t.length;r<0&&(t.push(qF()),a=!0),s<0&&(t.push(YF()),a=!0),a&&t.splice(l,0,dI(i))}return{duration:r,delay:s,easing:o}}function A4(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function nr(i,t,e){t.forEach((n,r)=>{let s=ov(r);e&&!e.has(r)&&e.set(r,i.style[s]),i.style[s]=n})}function no(i,t){t.forEach((e,n)=>{let r=ov(n);i.style[r]=""})}function Ql(i){return Array.isArray(i)?i.length==1?i[0]:uI(i):i}function k4(i,t,e){let n=t.params||{},r=OI(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||e.push(KF(s))})}var z0=new RegExp(`${DI}\\s*(.+?)\\s*${M4}`,"g");function OI(i){let t=[];if(typeof i=="string"){let e;for(;e=z0.exec(i);)t.push(e[1]);z0.lastIndex=0}return t}function Jl(i,t,e){let n=`${i}`,r=n.replace(z0,(s,o)=>{let a=t[o];return a==null&&(e.push(XF(o)),a=""),a.toString()});return r==n?i:r}var P4=/-+([a-z0-9])/g;function ov(i){return i.replace(P4,(...t)=>t[1].toUpperCase())}function F4(i,t){return i===0||t===0}function R4(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,av(i,a)))}}return t}function Yn(i,t,e){switch(t.type){case De.Trigger:return i.visitTrigger(t,e);case De.State:return i.visitState(t,e);case De.Transition:return i.visitTransition(t,e);case De.Sequence:return i.visitSequence(t,e);case De.Group:return i.visitGroup(t,e);case De.Animate:return i.visitAnimate(t,e);case De.Keyframes:return i.visitKeyframes(t,e);case De.Style:return i.visitStyle(t,e);case De.Reference:return i.visitReference(t,e);case De.AnimateChild:return i.visitAnimateChild(t,e);case De.AnimateRef:return i.visitAnimateRef(t,e);case De.Query:return i.visitQuery(t,e);case De.Stagger:return i.visitStagger(t,e);default:throw QF(t.type)}}function av(i,t){return window.getComputedStyle(i)[t]}var L4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),_h=class extends ro{normalizePropertyName(t,e){return ov(t)}normalizeStyleValue(t,e,n,r){let s="",o=n.toString().trim();if(L4.has(e)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(ZF(t,n))}return o+s}};var bh="*";function N4(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>V4(n,e,t)):e.push(i),e}function V4(i,t,e){if(i[0]==":"){let l=j4(i,e);if(typeof l=="function"){t.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(u4(i)),t;let r=n[1],s=n[2],o=n[3];t.push(gI(r,o));let a=r==bh&&o==bh;s[0]=="<"&&!a&&t.push(gI(o,r))}function j4(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(d4(i)),"* => *"}}var ph=new Set(["true","1"]),fh=new Set(["false","0"]);function gI(i,t){let e=ph.has(i)||fh.has(i),n=ph.has(t)||fh.has(t);return(r,s)=>{let o=i==bh||i==r,a=t==bh||t==s;return!o&&e&&typeof r=="boolean"&&(o=r?ph.has(i):fh.has(i)),!a&&n&&typeof s=="boolean"&&(a=s?ph.has(t):fh.has(t)),o&&a}}var AI=":self",B4=new RegExp(`s*${AI}s*,?`,"g");function kI(i,t,e,n){return new $0(i).build(t,e,n)}var mI="",$0=class{constructor(t){this._driver=t}build(t,e,n){let r=new G0(e);return this._resetContextStyleTimingState(r),Yn(this,Ql(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=mI,t.collectedStyles=new Map,t.collectedStyles.set(mI,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(JF()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==De.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(a.type==De.Transition){let l=this.visitTransition(a,e);n+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(e4())}),{type:De.Trigger,name:t.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let s=new Set,o=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{OI(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(t4(t.name,[...s.values()]))}return{type:De.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=Yn(this,Ql(t.animation),e),r=N4(t.expr,e.errors);return{type:De.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:to(t.options)}}visitSequence(t,e){return{type:De.Sequence,steps:t.steps.map(n=>Yn(this,n,e)),options:to(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,s=t.steps.map(o=>{e.currentTime=n;let a=Yn(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:De.Group,steps:s,options:to(t.options)}}visitAnimate(t,e){let n=$4(t.timings,e.errors);e.currentAnimateTimings=n;let r,s=t.styles?t.styles:It({});if(s.type==De.Keyframes)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};n.easing&&(c.easing=n.easing),o=It(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:De.Animate,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===tr?n.push(a):e.errors.push(n4(a)):n.push(new Map(Object.entries(a)));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(DI)>=0){s=!0;break}}}),{type:De.Style,styles:n,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(i4(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&k4(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:De.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(r4()),n;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(b=>{let T=this._makeStyleAst(b,e),R=T.offset!=null?T.offset:z4(T.styles),F=0;return R!=null&&(s++,F=T.offset=R),l=l||F<0||F>1,a=a||F<c,c=F,o.push(F),T});l&&e.errors.push(s4()),a&&e.errors.push(o4());let d=t.steps.length,h=0;s>0&&s<d?e.errors.push(a4()):s==0&&(h=r/(d-1));let p=d-1,f=e.currentTime,y=e.currentAnimateTimings,_=y.duration;return u.forEach((b,T)=>{let R=h>0?T==p?1:h*T:o[T],F=R*_;e.currentTime=f+y.delay+F,y.duration=F,this._validateStyleAst(b,e),b.offset=R,n.styles.push(b)}),n}visitReference(t,e){return{type:De.Reference,animation:Yn(this,Ql(t.animation),e),options:to(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:De.AnimateChild,options:to(t.options)}}visitAnimateRef(t,e){return{type:De.AnimateRef,animation:this.visitReference(t.animation,e),options:to(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[s,o]=H4(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,Kn(e.collectedStyles,e.currentQuerySelector,new Map);let a=Yn(this,Ql(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:De.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:to(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(l4());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:yh(t.timings,e.errors,!0);return{type:De.Stagger,animation:Yn(this,Ql(t.animation),e),timings:n,options:null}}};function H4(i){let t=!!i.split(/\s*,\s*/).find(e=>e==AI);return t&&(i=i.replace(B4,"")),i=i.replace(/@\*/g,vh).replace(/@\w+/g,e=>vh+"-"+e.slice(1)).replace(/:animating/g,H0),[i,t]}function U4(i){return i?L({},i):null}var G0=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function z4(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function $4(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let s=yh(i,t).duration;return R0(s,0,"")}let e=i;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=R0(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=yh(e,t);return R0(r.duration,r.delay,r.easing)}function to(i){return i?(i=L({},i),i.params&&(i.params=U4(i.params))):i={},i}function R0(i,t,e){return{duration:i,delay:t,easing:e}}function lv(i,t,e,n,r,s,o=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var ec=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},G4=1,W4=":enter",q4=new RegExp(W4,"g"),Y4=":leave",K4=new RegExp(Y4,"g");function PI(i,t,e,n,r,s=new Map,o=new Map,a,l,c=[]){return new W0().buildKeyframes(i,t,e,n,r,s,o,a,l,c)}var W0=class{buildKeyframes(t,e,n,r,s,o,a,l,c,u=[]){c=c||new ec;let d=new q0(t,e,c,r,s,u,[]);d.options=l;let h=l.delay?kr(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Yn(this,n,d);let p=d.timelines.filter(f=>f.containsAnimation());if(p.length&&a.size){let f;for(let y=p.length-1;y>=0;y--){let _=p[y];if(_.element===e){f=_;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return p.length?p.map(f=>f.buildKeyframes()):[lv(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let s=r?.delay;if(s){let o=typeof s=="number"?s:kr(Jl(s,r?.params??{},e.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,e,n){let s=e.currentTimeline.currentTime,o=n.duration!=null?kr(n.duration):null,a=n.delay!=null?kr(n.delay):null;return o!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Yn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==De.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ch);let o=kr(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Yn(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,s=t.options&&t.options.delay?kr(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);s&&a.delayNextStep(s),Yn(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?Jl(n,e.params,e.errors):n;return yh(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let s=t.style;s.type==De.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,s=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?kr(r.delay):0;s&&(e.previousNode.type===De.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ch);let o=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),Yn(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Yn(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-d+(r.startTime-n.currentTimeline.startTime)}},Ch={},q0=class i{constructor(t,e,n,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ch,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new wh(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=kr(n.duration)),n.delay!=null&&(r.delay=kr(n.delay));let s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Jl(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,s=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Ch,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new Y0(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(q4,"."+this._enterClassName),t=t.replace(K4,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&a.length==0&&o.push(c4(e)),a}},wh=class i{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=G4,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||tr),this._currentKeyframe.set(e,tr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},o=X4(t,this._globalTimelineStyles);for(let[a,l]of o){let c=Jl(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??tr),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===dh?t.add(d):u===tr&&e.add(d)}),n||c.set("offset",l/this.duration),r.push(c)});let s=[...t.values()],o=[...e.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return lv(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},Y0=class extends wh{constructor(t,e,n,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],o=n+e,a=e/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",vI(a)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let h=new Map(t[d]),p=h.get("offset"),f=e+p*n;h.set("offset",vI(f/o)),s.push(h)}n=o,e=0,r="",t=s}return lv(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function vI(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function X4(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n??=t.keys();for(let s of n)e.set(s,tr)}else for(let[s,o]of r)e.set(s,o)}),e}function yI(i,t,e,n,r,s,o,a,l,c,u,d,h){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var L0={},xh=class{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return Q4(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||L0,p=a&&a.params||L0,f=this.buildStyles(n,p,d),y=l&&l.params||L0,_=this.buildStyles(r,y,d),b=new Set,T=new Map,R=new Map,F=r==="void",$={params:FI(y,h),delay:this.ast.options?.delay},G=u?[]:PI(t,e,this.ast.animation,s,o,f,_,$,c,d),Z=0;return G.forEach(q=>{Z=Math.max(q.duration+q.delay,Z)}),d.length?yI(e,this._triggerName,n,r,F,f,_,[],[],T,R,Z,d):(G.forEach(q=>{let Ne=q.element,Ye=Kn(T,Ne,new Set);q.preStyleProps.forEach(Ue=>Ye.add(Ue));let He=Kn(R,Ne,new Set);q.postStyleProps.forEach(Ue=>He.add(Ue)),Ne!==e&&b.add(Ne)}),yI(e,this._triggerName,n,r,F,f,_,G,[...b.values()],T,R,Z))}};function Q4(i,t,e,n,r){return i.some(s=>s(t,e,n,r))}function FI(i,t){let e=L({},t);return Object.entries(i).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var K0=class{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=FI(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Jl(o,r,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),n.set(a,o)})}),n}};function Z4(i,t,e){return new X0(i,t,e)}var X0=class{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new K0(r.style,s,n))}),_I(this.states,"true","1"),_I(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new xh(t,r,this.states))}),this.fallbackTransition=J4(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(o=>o.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function J4(i,t,e){let n=[(o,a)=>!0],r={type:De.Sequence,steps:[],options:null},s={type:De.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new xh(i,s,t)}function _I(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var eR=new ec,Q0=class{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let n=[],r=[],s=kI(this._driver,e,n,r);if(n.length)throw f4(n);r.length&&void 0,this._animations.set(t,s)}_buildPlayer(t,e,n){let r=t.element,s=SI(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],s=this._animations.get(t),o,a=new Map;if(s?(o=PI(this._driver,e,s,MI,B0,new Map,new Map,n,eR,r),o.forEach(u=>{let d=Kn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(g4()),o=[]),r.length)throw m4(r);a.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,tr))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=ps(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw v4(t);return e}listen(t,e,n,r){let s=iv(e,"","","");return nv(this._getPlayer(t),n,s,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let o=r[0]||{};this.create(t,e,o);return}let s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},bI="ng-animate-queued",tR=".ng-animate-queued",N0="ng-animate-disabled",nR=".ng-animate-disabled",iR="ng-star-inserted",rR=".ng-star-inserted",sR=[],RI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oR={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Si="__ng_removed",tc=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=lR(r),n){let s=t,{value:o}=s,a=pf(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},Zl="void",V0=new tc(Zl),Z0=class{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ci(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw y4(n,e);if(n==null||n.length==0)throw _4(e);if(!cR(n))throw b4(n,e);let s=Kn(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);let a=Kn(this._engine.statesByElement,t,new Map);return a.has(e)||(ci(t,hh),ci(t,hh+"-"+e),a.set(e,V0)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw C4(t);return e}trigger(t,e,n,r=!0){let s=this._getTrigger(e),o=new nc(this.id,e,t),a=this._engine.statesByElement.get(t);a||(ci(t,hh),ci(t,hh+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new tc(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=V0),!(c.value===Zl)&&l.value===c.value){if(!hR(l.params,c.params)){let y=[],_=s.matchStyles(l.value,l.params,y),b=s.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{no(t,_),nr(t,b)})}return}let h=Kn(this._engine.playersByElement,t,[]);h.forEach(y=>{y.namespaceId==this.id&&y.triggerName==e&&y.queued&&y.destroy()});let p=s.matchTransition(l.value,c.value,t,c.params),f=!1;if(!p){if(!r)return;p=s.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:l,toState:c,player:o,isFallbackTransition:f}),f||(ci(t,bI),o.onStart(()=>{Ea(t,bI)})),o.onDone(()=>{let y=this.players.indexOf(o);y>=0&&this.players.splice(y,1);let _=this._engine.playersByElement.get(t);if(_){let b=_.indexOf(o);b>=0&&_.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,vh,!0);n.forEach(r=>{if(r[Si])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,Zl,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),n&&ps(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=n.get(o)||V0,u=new tc(Zl),d=new nc(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let s=t[Si];(!s||s===RI)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ci(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){let l=iv(s,n.triggerName,n.fromState.value,n.toState.value);l._data=t,nv(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let s=n.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},J0=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new Z0(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(t,e,n,r){if(gh(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!gh(e))return;let s=e[Si];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ci(t,N0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ea(t,N0))}removeNode(t,e,n){if(gh(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,s){this.collectedLeaveElements.push(e),e[Si]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,n,r,s){return gh(e)?this._fetchNamespace(t).listen(e,n,r,s):()=>{}}_buildInstruction(t,e,n,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,vh,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,H0,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ps(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Si];if(e&&e.setForRemoval){if(t[Si]=RI,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(N0)&&this.markElementAsDisabled(t,!1),this.driver.query(t,nR,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];ci(r,iR)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?ps(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw w4(t)}_flushAnimations(t,e){let n=new ec,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(W=>{u.add(W);let te=this.driver.query(W,tR,!0);for(let K=0;K<te.length;K++)u.add(te[K])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=xI(h,this.collectedEnterElements),f=new Map,y=0;p.forEach((W,te)=>{let K=MI+y++;f.set(te,K),W.forEach(Se=>ci(Se,K))});let _=[],b=new Set,T=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){let te=this.collectedLeaveElements[W],K=te[Si];K&&K.setForRemoval&&(_.push(te),b.add(te),K.hasAnimation?this.driver.query(te,rR,!0).forEach(Se=>b.add(Se)):T.add(te))}let R=new Map,F=xI(h,Array.from(b));F.forEach((W,te)=>{let K=B0+y++;R.set(te,K),W.forEach(Se=>ci(Se,K))}),t.push(()=>{p.forEach((W,te)=>{let K=f.get(te);W.forEach(Se=>Ea(Se,K))}),F.forEach((W,te)=>{let K=R.get(te);W.forEach(Se=>Ea(Se,K))}),_.forEach(W=>{this.processLeaveNode(W)})});let $=[],G=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(e).forEach(K=>{let Se=K.player,ht=K.element;if($.push(Se),this.collectedEnterElements.length){let Et=ht[Si];if(Et&&Et.setForMove){if(Et.previousTriggersValues&&Et.previousTriggersValues.has(K.triggerName)){let fr=Et.previousTriggersValues.get(K.triggerName),en=this.statesByElement.get(K.element);if(en&&en.has(K.triggerName)){let Hn=en.get(K.triggerName);Hn.value=fr,en.set(K.triggerName,Hn)}}Se.destroy();return}}let dn=!d||!this.driver.containsElement(d,ht),Qt=R.get(ht),Dn=f.get(ht),Je=this._buildInstruction(K,n,Dn,Qt,dn);if(Je.errors&&Je.errors.length){G.push(Je);return}if(dn){Se.onStart(()=>no(ht,Je.fromStyles)),Se.onDestroy(()=>nr(ht,Je.toStyles)),r.push(Se);return}if(K.isFallbackTransition){Se.onStart(()=>no(ht,Je.fromStyles)),Se.onDestroy(()=>nr(ht,Je.toStyles)),r.push(Se);return}let Ps=[];Je.timelines.forEach(Et=>{Et.stretchStartingKeyframe=!0,this.disabledNodes.has(Et.element)||Ps.push(Et)}),Je.timelines=Ps,n.append(ht,Je.timelines);let pr={instruction:Je,player:Se,element:ht};o.push(pr),Je.queriedElements.forEach(Et=>Kn(a,Et,[]).push(Se)),Je.preStyleProps.forEach((Et,fr)=>{if(Et.size){let en=l.get(fr);en||l.set(fr,en=new Set),Et.forEach((Hn,hf)=>en.add(hf))}}),Je.postStyleProps.forEach((Et,fr)=>{let en=c.get(fr);en||c.set(fr,en=new Set),Et.forEach((Hn,hf)=>en.add(hf))})});if(G.length){let W=[];G.forEach(te=>{W.push(x4(te.triggerName,te.errors))}),$.forEach(te=>te.destroy()),this.reportError(W)}let Z=new Map,q=new Map;o.forEach(W=>{let te=W.element;n.has(te)&&(q.set(te,te),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,Z))}),r.forEach(W=>{let te=W.element;this._getPreviousPlayers(te,!1,W.namespaceId,W.triggerName,null).forEach(Se=>{Kn(Z,te,[]).push(Se),Se.destroy()})});let Ne=_.filter(W=>II(W,l,c)),Ye=new Map;wI(Ye,this.driver,T,c,tr).forEach(W=>{II(W,l,c)&&Ne.push(W)});let Ue=new Map;p.forEach((W,te)=>{wI(Ue,this.driver,new Set(W),l,dh)}),Ne.forEach(W=>{let te=Ye.get(W),K=Ue.get(W);Ye.set(W,new Map([...te?.entries()??[],...K?.entries()??[]]))});let Be=[],Ze=[],Wt={};o.forEach(W=>{let{element:te,player:K,instruction:Se}=W;if(n.has(te)){if(u.has(te)){K.onDestroy(()=>nr(te,Se.toStyles)),K.disabled=!0,K.overrideTotalTime(Se.totalTime),r.push(K);return}let ht=Wt;if(q.size>1){let Qt=te,Dn=[];for(;Qt=Qt.parentNode;){let Je=q.get(Qt);if(Je){ht=Je;break}Dn.push(Qt)}Dn.forEach(Je=>q.set(Je,ht))}let dn=this._buildAnimation(K.namespaceId,Se,Z,s,Ue,Ye);if(K.setRealPlayer(dn),ht===Wt)Be.push(K);else{let Qt=this.playersByElement.get(ht);Qt&&Qt.length&&(K.parentPlayer=ps(Qt)),r.push(K)}}else no(te,Se.fromStyles),K.onDestroy(()=>nr(te,Se.toStyles)),Ze.push(K),u.has(te)&&r.push(K)}),Ze.forEach(W=>{let te=s.get(W.element);if(te&&te.length){let K=ps(te);W.setRealPlayer(K)}}),r.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<_.length;W++){let te=_[W],K=te[Si];if(Ea(te,B0),K&&K.hasAnimation)continue;let Se=[];if(a.size){let dn=a.get(te);dn&&dn.length&&Se.push(...dn);let Qt=this.driver.query(te,H0,!0);for(let Dn=0;Dn<Qt.length;Dn++){let Je=a.get(Qt[Dn]);Je&&Je.length&&Se.push(...Je)}}let ht=Se.filter(dn=>!dn.destroyed);ht.length?uR(this,te,ht):this.processLeaveNode(te)}return _.length=0,Be.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();let te=this.players.indexOf(W);this.players.splice(te,1)}),W.play()}),Be}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,s){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==Zl;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,n){let r=e.triggerName,s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==s,d=Kn(n,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(p=>{let f=p.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),p.destroy(),d.push(p)})}no(s,e.fromStyles)}_buildAnimation(t,e,n,r,s,o){let a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(f=>{let y=f.element;u.add(y);let _=y[Si];if(_&&_.removedBeforeQueried)return new hs(f.duration,f.delay);let b=y!==l,T=dR((n.get(y)||sR).map(Z=>Z.getRealPlayer())).filter(Z=>{let q=Z;return q.element?q.element===y:!1}),R=s.get(y),F=o.get(y),$=SI(this._normalizer,f.keyframes,R,F),G=this._buildPlayer(f,$,T);if(f.subTimeline&&r&&d.add(y),b){let Z=new nc(t,a,y);Z.setRealPlayer(G),c.push(Z)}return G});c.forEach(f=>{Kn(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>aR(this.playersByQueriedElement,f.element,f))}),u.forEach(f=>ci(f,fI));let p=ps(h);return p.onDestroy(()=>{u.forEach(f=>Ea(f,fI)),nr(l,e.toStyles)}),d.forEach(f=>{Kn(r,f,[]).push(p)}),p}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new hs(t.duration,t.delay)}},nc=class{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new hs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>nv(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Kn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function aR(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function lR(i){return i??null}function gh(i){return i&&i.nodeType===1}function cR(i){return i=="start"||i=="done"}function CI(i,t){let e=i.style.display;return i.style.display=t??"none",e}function wI(i,t,e,n,r){let s=[];e.forEach(l=>s.push(CI(l)));let o=[];n.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=t.computeStyle(c,d,r);u.set(d,h),(!h||h.length==0)&&(c[Si]=oR,o.push(c))}),i.set(c,u)});let a=0;return e.forEach(l=>CI(l,s[a++])),o}function xI(i,t){let e=new Map;if(i.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,r=new Set(t),s=new Map;function o(a){if(!a)return n;let l=s.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=n:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==n&&e.get(l).push(a)}),e}function ci(i,t){i.classList?.add(t)}function Ea(i,t){i.classList?.remove(t)}function uR(i,t,e){ps(e).onDone(()=>i.processLeaveNode(t))}function dR(i){let t=[];return LI(i,t),t}function LI(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof Xl?LI(n.players,t):t.push(n)}}function hR(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!t.hasOwnProperty(s)||i[s]!==t[s])return!1}return!0}function II(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(s=>r.add(s)):t.set(i,n),e.delete(i),!0}var Da=class{constructor(t,e,n){this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new J0(t.body,e,n),this._timelineEngine=new Q0(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,n,r,s){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=kI(this._driver,s,l,c);if(l.length)throw h4(r,l);c.length&&void 0,a=Z4(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[s,o]=hI(n),a=r;this._timelineEngine.command(s,e,o,a)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,s){if(n.charAt(0)=="@"){let[o,a]=hI(n);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,n,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function pR(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=j0(t[0]),t.length>1&&(n=j0(t[t.length-1]))):t instanceof Map&&(e=j0(t)),e||n?new ev(i,e,n):null}var Ta=class Ta{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=Ta.initialStylesByElement.get(t);r||Ta.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&nr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nr(this._element,this._initialStyles),this._endStyles&&(nr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ta.initialStylesByElement.delete(this._element),this._startStyles&&(no(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(no(this._element,this._endStyles),this._endStyles=null),nr(this._element,this._initialStyles),this._state=3)}};Ta.initialStylesByElement=new WeakMap;var ev=Ta;function j0(i){let t=null;return i.forEach((e,n)=>{fR(n)&&(t=t||new Map,t.set(n,e))}),t}function fR(i){return i==="display"||i==="position"}var Ih=class{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:av(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Sh=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return EI(t,e)}getParentElement(t){return rv(t)}query(t,e,n){return TI(t,e,n)}computeStyle(t,e,n){return av(t,e)}animate(t,e,n,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(p=>p instanceof Ih);F4(n,r)&&u.forEach(p=>{p.currentSnapshot.forEach((f,y)=>c.set(y,f))});let d=A4(e).map(p=>new Map(p));d=R4(t,d,c);let h=pR(t,d);return new Ih(t,d,l,h)}};var mh="@",NI="@.disabled",Eh=class{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==mh&&e==NI?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},tv=class extends Eh{constructor(t,e,n,r,s){super(e,n,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==mh?e.charAt(1)=="."&&e==NI?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==mh){let r=gR(t),s=e.slice(1),o="";return s.charAt(0)!=mh&&([s,o]=mR(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(t,e,n)}};function gR(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function mR(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var Th=class{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,e){let n="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new Eh(n,r,this.engine,d),c.set(r,u)}return u}let s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return e.data.animation.forEach(a),new tv(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var yR=(()=>{let t=class t extends Da{constructor(n,r,s){super(n,r,s)}ngOnDestroy(){this.flush()}};t.\u0275fac=function(r){return new(r||t)(ne(Ie),ne(io),ne(ro))},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})();function _R(){return new _h}function bR(i,t,e){return new Th(i,t,e)}var jI=[{provide:ro,useFactory:_R},{provide:Da,useClass:yR},{provide:is,useFactory:bR,deps:[ch,Da,Oe]}],VI=[{provide:io,useFactory:()=>new Sh},{provide:Om,useValue:"BrowserAnimations"},...jI],CR=[{provide:io,useClass:sv},{provide:Om,useValue:"NoopAnimations"},...jI],BI=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?CR:VI}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=le({type:t}),t.\u0275inj=ae({providers:VI,imports:[aI]});let i=t;return i})();var wR=["preloader"],Ma=class i{constructor(t){this.renderer=t}isLoaded=!1;preloader;ngAfterViewInit(){setTimeout(()=>{this.isLoaded=!0,this.renderer.setStyle(this.preloader?.nativeElement,"display","none")},1e4)}static \u0275fac=function(e){return new(e||i)(D(nt))};static \u0275cmp=B({type:i,selectors:[["app-preloader"]],viewQuery:function(e,n){if(e&1&&be(wR,5),e&2){let r;X(r=Q())&&(n.preloader=r.first)}},standalone:!0,features:[J],decls:12,vars:0,consts:[["preloader",""],[1,"flex","align-items-center","justify-content-center",2,"height","95vh"],[2,"height","auto"],["width","40","height","115","viewBox","0 0 40 115","fill","none","xmlns","http://www.w3.org/2000/svg","id","classic",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["d","M2 7C2 4.23857 4.23858 2 7 2H33C35.7614 2 38 4.23858 38 7V108C38 110.761 35.7614 113 33 113H7C4.23858 113 2 110.761 2 108V7Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 0H33C36.866 0 40 3.13401 40 7V108C40 111.866 36.866 115 33 115H7C3.13401 115 0 111.866 0 108V7C0 3.134 3.13401 0 7 0ZM7 2C4.23858 2 2 4.23857 2 7V108C2 110.761 4.23858 113 7 113H33C35.7614 113 38 110.761 38 108V7C38 4.23858 35.7614 2 33 2H7Z","fill","black"],["id","red","cx","20","cy","21","r","15","fill","red","opacity","0.2"],["id","yellow","cx","20","cy","58","r","15","fill","yellow","opacity","0.2"],["id","green","cx","20","cy","95","r","15","fill","green","opacity","0.2"],[0,"xlink","href","#red","attributeName","opacity","values","1;1;0.2;0.2;0.2","dur","2s","repeatCount","indefinite","keyTimes","0;0.333;0.334;0.666;1","fill","freeze"],[0,"xlink","href","#yellow","attributeName","opacity","values","0.2;0.2;1;1;0.2","dur","2s","repeatCount","indefinite","keyTimes","0;0.333;0.334;0.666;1","fill","freeze"],[0,"xlink","href","#green","attributeName","opacity","values","0.2;0.2;0.2;0.2;1","dur","2s","repeatCount","indefinite","keyTimes","0;0.333;0.334;0.666;1","fill","freeze"]],template:function(e,n){e&1&&(C(0,"div",1,0)(2,"div",2),_e(),C(3,"svg",3),O(4,"path",4)(5,"path",5)(6,"circle",6)(7,"circle",7)(8,"circle",8)(9,"animate",9)(10,"animate",10)(11,"animate",11),w()()())}})};var Le="primary",vc=Symbol("RouteTitle"),fv=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function La(i){return new fv(i)}function xR(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=i[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function IR(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!ir(i[e],t[e]))return!1;return!0}function ir(i,t){let e=i?gv(i):void 0,n=t?gv(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!QI(i[r],t[r]))return!1;return!0}function gv(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function QI(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,s)=>n[s]===r)}else return i===t}function ZI(i){return i.length>0?i[i.length-1]:null}function ms(i){return Mf(i)?i:Js(i)?ft(Promise.resolve(i)):ge(i)}var SR={exact:eS,subset:tS},JI={exact:ER,subset:TR,ignored:()=>!0};function HI(i,t,e){return SR[e.paths](i.root,t.root,e.matrixParams)&&JI[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function ER(i,t){return ir(i,t)}function eS(i,t,e){if(!oo(i.segments,t.segments)||!Oh(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!eS(i.children[n],t.children[n],e))return!1;return!0}function TR(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>QI(i[e],t[e]))}function tS(i,t,e){return nS(i,t,t.segments,e)}function nS(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!oo(r,e)||t.hasChildren()||!Oh(r,e,n))}else if(i.segments.length===e.length){if(!oo(i.segments,e)||!Oh(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!tS(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!oo(i.segments,r)||!Oh(i.segments,r,n)||!i.children[Le]?!1:nS(i.children[Le],t,s,n)}}function Oh(i,t,e){return t.every((n,r)=>JI[e](i[r].parameters,n.parameters))}var Fr=class{constructor(t=new ct([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=La(this.queryParams),this._queryParamMap}toString(){return OR.serialize(this)}},ct=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ah(this)}},so=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=La(this.parameters),this._parameterMap}toString(){return rS(this)}};function DR(i,t){return oo(i,t)&&i.every((e,n)=>ir(e.parameters,t[n].parameters))}function oo(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function MR(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===Le&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Le&&(e=e.concat(t(r,n)))}),e}var yc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:()=>new Na,providedIn:"root"});let i=t;return i})(),Na=class{parse(t){let e=new vv(t);return new Fr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${ic(t.root,!0)}`,n=PR(t.queryParams),r=typeof t.fragment=="string"?`#${AR(t.fragment)}`:"";return`${e}${n}${r}`}},OR=new Na;function Ah(i){return i.segments.map(t=>rS(t)).join("/")}function ic(i,t){if(!i.hasChildren())return Ah(i);if(t){let e=i.children[Le]?ic(i.children[Le],!1):"",n=[];return Object.entries(i.children).forEach(([r,s])=>{r!==Le&&n.push(`${r}:${ic(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=MR(i,(n,r)=>r===Le?[ic(i.children[Le],!1)]:[`${r}:${ic(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[Le]!=null?`${Ah(i)}/${e[0]}`:`${Ah(i)}/(${e.join("//")})`}}function iS(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dh(i){return iS(i).replace(/%3B/gi,";")}function AR(i){return encodeURI(i)}function mv(i){return iS(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kh(i){return decodeURIComponent(i)}function UI(i){return kh(i.replace(/\+/g,"%20"))}function rS(i){return`${mv(i.path)}${kR(i.parameters)}`}function kR(i){return Object.entries(i).map(([t,e])=>`;${mv(t)}=${mv(e)}`).join("")}function PR(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${Dh(e)}=${Dh(r)}`).join("&"):`${Dh(e)}=${Dh(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var FR=/^[^\/()?;#]+/;function uv(i){let t=i.match(FR);return t?t[0]:""}var RR=/^[^\/()?;=#]+/;function LR(i){let t=i.match(RR);return t?t[0]:""}var NR=/^[^=?&#]+/;function VR(i){let t=i.match(NR);return t?t[0]:""}var jR=/^[^&#]+/;function BR(i){let t=i.match(jR);return t?t[0]:""}var vv=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Le]=new ct(t,e)),n}parseSegment(){let t=uv(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(t),new so(kh(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=LR(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=uv(this.remaining);r&&(n=r,this.capture(n))}t[kh(e)]=kh(n)}parseQueryParam(t){let e=VR(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=BR(this.remaining);o&&(n=o,this.capture(n))}let r=UI(e),s=UI(n);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=uv(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new z(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Le);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[Le]:new ct([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new z(4011,!1)}};function sS(i){return i.segments.length>0?new ct([],{[Le]:i}):i}function oS(i){let t={};for(let[n,r]of Object.entries(i.children)){let s=oS(r);if(n===Le&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}let e=new ct(i.segments,t);return HR(e)}function HR(i){if(i.numberOfChildren===1&&i.children[Le]){let t=i.children[Le];return new ct(i.segments.concat(t.segments),t.children)}return i}function ao(i){return i instanceof Fr}function UR(i,t,e=null,n=null){let r=aS(i);return lS(r,t,e,n)}function aS(i){let t;function e(s){let o={};for(let l of s.children){let c=e(l);o[l.outlet]=c}let a=new ct(s.url,o);return s===i&&(t=a),a}let n=e(i.root),r=sS(n);return t??r}function lS(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return dv(r,r,r,e,n);let s=zR(t);if(s.toRoot())return dv(r,r,new ct([],{}),e,n);let o=$R(s,r,i),a=o.processChildren?oc(o.segmentGroup,o.index,s.commands):uS(o.segmentGroup,o.index,s.commands);return dv(r,o.segmentGroup,a,e,n)}function Ph(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function cc(i){return typeof i=="object"&&i!=null&&i.outlets}function dv(i,t,e,n,r){let s={};n&&Object.entries(n).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;i===t?o=e:o=cS(i,t,e);let a=sS(oS(o));return new Fr(a,s,r)}function cS(i,t,e){let n={};return Object.entries(i.children).forEach(([r,s])=>{s===t?n[r]=e:n[r]=cS(s,t,e)}),new ct(i.segments,n)}var Fh=class{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ph(n[0]))throw new z(4003,!1);let r=n.find(cc);if(r&&r!==ZI(n))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zR(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Fh(!0,0,i);let t=0,e=!1,n=i.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Fh(e,t,n)}var Pa=class{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function $R(i,t,e){if(i.isAbsolute)return new Pa(t,!0,0);if(!e)return new Pa(t,!1,NaN);if(e.parent===null)return new Pa(e,!0,0);let n=Ph(i.commands[0])?0:1,r=e.segments.length-1+n;return GR(e,r,i.numberOfDoubleDots)}function GR(i,t,e){let n=i,r=t,s=e;for(;s>r;){if(s-=r,n=n.parent,!n)throw new z(4005,!1);r=n.segments.length}return new Pa(n,!1,r-s)}function WR(i){return cc(i[0])?i[0].outlets:{[Le]:i}}function uS(i,t,e){if(i??=new ct([],{}),i.segments.length===0&&i.hasChildren())return oc(i,t,e);let n=qR(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let s=new ct(i.segments.slice(0,n.pathIndex),{});return s.children[Le]=new ct(i.segments.slice(n.pathIndex),i.children),oc(s,0,r)}else return n.match&&r.length===0?new ct(i.segments,{}):n.match&&!i.hasChildren()?yv(i,t,e):n.match?oc(i,0,r):yv(i,t,e)}function oc(i,t,e){if(e.length===0)return new ct(i.segments,{});{let n=WR(e),r={};if(Object.keys(n).some(s=>s!==Le)&&i.children[Le]&&i.numberOfChildren===1&&i.children[Le].segments.length===0){let s=oc(i.children[Le],t,e);return new ct(i.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=uS(i.children[s],t,o))}),Object.entries(i.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new ct(i.segments,r)}}function qR(i,t,e){let n=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return s;let o=i.segments[r],a=e[n];if(cc(a))break;let l=`${a}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!$I(l,c,o))return s;n+=2}else{if(!$I(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function yv(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let s=e[r];if(cc(s)){let l=YR(s.outlets);return new ct(n,l)}if(r===0&&Ph(e[0])){let l=i.segments[t];n.push(new so(l.path,zI(e[0]))),r++;continue}let o=cc(s)?s.outlets[Le]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&Ph(a)?(n.push(new so(o,zI(a))),r+=2):(n.push(new so(o,{})),r++)}return new ct(n,{})}function YR(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=yv(new ct([],{}),0,n))}),t}function zI(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function $I(i,t,e){return i==e.path&&ir(t,e.parameters)}var ac="imperative",Kt=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Kt||{}),ui=class{constructor(t,e){this.id=t,this.url=e}},Va=class extends ui{constructor(t,e,n="imperative",r=null){super(t,e),this.type=Kt.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ti=class extends ui{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=Kt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qn=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Qn||{}),Rh=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Rh||{}),Pr=class extends ui{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=Kt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fs=class extends ui{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=Kt.NavigationSkipped}},uc=class extends ui{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=Kt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lh=class extends ui{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Kt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_v=class extends ui{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Kt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bv=class extends ui{constructor(t,e,n,r,s){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=Kt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Cv=class extends ui{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Kt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wv=class extends ui{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Kt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xv=class{constructor(t){this.route=t,this.type=Kt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Iv=class{constructor(t){this.route=t,this.type=Kt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sv=class{constructor(t){this.snapshot=t,this.type=Kt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ev=class{constructor(t){this.snapshot=t,this.type=Kt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tv=class{constructor(t){this.snapshot=t,this.type=Kt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dv=class{constructor(t){this.snapshot=t,this.type=Kt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=Kt.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},dc=class{},ja=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function KR(i,t){return i.providers&&!i._injector&&(i._injector=Yd(i.providers,t,`Route: ${i.path}`)),i._injector??t}function Ei(i){return i.outlet||Le}function XR(i,t){let e=i.filter(n=>Ei(n)===t);return e.push(...i.filter(n=>Ei(n)!==t)),e}function _c(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Mv=class{get injector(){return _c(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new bc(this.rootInjector),this.attachRef=null}},bc=(()=>{let t=class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Mv(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(r){return new(r||t)(ne(fn))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),Vh=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Ov(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=Ov(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Av(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Av(t,this._root).map(e=>e.value)}};function Ov(i,t){if(i===t.value)return t;for(let e of t.children){let n=Ov(i,e);if(n)return n}return null}function Av(i,t){if(i===t.value)return[t];for(let e of t.children){let n=Av(i,e);if(n.length)return n.unshift(t),n}return[]}var Xn=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ka(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var jh=class extends Vh{constructor(t,e){super(t),this.snapshot=e,Bv(this,t)}toString(){return this.snapshot.toString()}};function dS(i){let t=QR(i),e=new Zt([new so("",{})]),n=new Zt({}),r=new Zt({}),s=new Zt({}),o=new Zt(""),a=new gs(e,n,s,o,r,Le,i,t.root);return a.snapshot=t.root,new jh(new Xn(a,[]),t)}function QR(i){let t={},e={},n={},r="",s=new Fa([],t,n,r,e,Le,i,null,{});return new Hh("",new Xn(s,[]))}var gs=class{constructor(t,e,n,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ke(c=>c[vc]))??ge(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ke(t=>La(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ke(t=>La(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bh(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:L(L({},t.params),i.params),data:L(L({},t.data),i.data),resolve:L(L(L(L({},i.data),t.data),r?.data),i._resolvedData)}:n={params:L({},i.params),data:L({},i.data),resolve:L(L({},i.data),i._resolvedData??{})},r&&pS(r)&&(n.resolve[vc]=r.title),n}var Fa=class{get title(){return this.data?.[vc]}constructor(t,e,n,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=La(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=La(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Hh=class extends Vh{constructor(t,e){super(e),this.url=t,Bv(this,e)}toString(){return hS(this._root)}};function Bv(i,t){t.value._routerState=i,t.children.forEach(e=>Bv(i,e))}function hS(i){let t=i.children.length>0?` { ${i.children.map(hS).join(", ")} } `:"";return`${i.value}${t}`}function hv(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,ir(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),ir(t.params,e.params)||i.paramsSubject.next(e.params),IR(t.url,e.url)||i.urlSubject.next(e.url),ir(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function kv(i,t){let e=ir(i.params,t.params)&&DR(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||kv(i.parent,t.parent))}function pS(i){return typeof i.title=="string"||i.title===null}var Hv=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Le,this.activateEvents=new U,this.deactivateEvents=new U,this.attachEvents=new U,this.detachEvents=new U,this.parentContexts=j(bc),this.location=j(Wn),this.changeDetector=j(je),this.inputBinder=j(Wh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Pv(n,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=st({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gt]});let i=t;return i})(),Pv=class i{__ngOutletInjector(t){return new i(this.route,this.childContexts,t)}constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===gs?this.route:t===bc?this.childContexts:this.parent.get(t,e)}},Wh=new ie(""),GI=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,s=yl([r.queryParams,r.params,r.data]).pipe(An(([o,a,l],c)=>(l=L(L(L({},o),a),l),c===0?ge(l):Promise.resolve(l)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=Tx(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(n,s)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})();function ZR(i,t,e){let n=hc(i,t._root,e?e._root:void 0);return new jh(n,t)}function hc(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=JR(i,t,e);return new Xn(n,r)}else{if(i.shouldAttach(t.value)){let s=i.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>hc(i,a)),o}}let n=eL(t.value),r=t.children.map(s=>hc(i,s));return new Xn(n,r)}}function JR(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return hc(i,n,r);return hc(i,n)})}function eL(i){return new gs(new Zt(i.url),new Zt(i.params),new Zt(i.queryParams),new Zt(i.fragment),new Zt(i.data),i.outlet,i.component,i)}var pc=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},fS="ngNavigationCancelingError";function Uh(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=ao(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=gS(!1,Qn.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function gS(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[fS]=!0,e.cancellationCode=t,e}function tL(i){return mS(i)&&ao(i.url)}function mS(i){return!!i&&i[fS]}var nL=(i,t,e,n)=>ke(r=>(new Fv(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),Fv=class{constructor(t,e,n,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),hv(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=ka(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,e,n){let r=t.value,s=e?e.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=ka(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=ka(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=ka(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new Dv(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Ev(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,s=e?e.value:null;if(hv(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hv(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)}},zh=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ra=class{constructor(t,e){this.component=t,this.route=e}};function iL(i,t,e){let n=i._root,r=t?t._root:null;return rc(n,r,e,[n.value])}function rL(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function Ha(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!Lb(i)?i:t.get(i):n}function rc(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=ka(t);return i.children.forEach(o=>{sL(o,s[o.value.outlet],e,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>lc(a,e.getContext(o),r)),r}function sL(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=i.value,o=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=oL(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new zh(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?rc(i,t,a?a.children:null,n,r):rc(i,t,e,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ra(a.outlet.component,o))}else o&&lc(t,a,r),r.canActivateChecks.push(new zh(n)),s.component?rc(i,null,a?a.children:null,n,r):rc(i,null,e,n,r);return r}function oL(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!oo(i.url,t.url);case"pathParamsOrQueryParamsChange":return!oo(i.url,t.url)||!ir(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kv(i,t)||!ir(i.queryParams,t.queryParams);case"paramsChange":default:return!kv(i,t)}}function lc(i,t,e){let n=ka(i),r=i.value;Object.entries(n).forEach(([s,o])=>{r.component?t?lc(o,t.children.getContext(s),e):lc(o,null,e):lc(o,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Ra(t.outlet.component,r)):e.canDeactivateChecks.push(new Ra(null,r)):e.canDeactivateChecks.push(new Ra(null,r))}function Cc(i){return typeof i=="function"}function aL(i){return typeof i=="boolean"}function lL(i){return i&&Cc(i.canLoad)}function cL(i){return i&&Cc(i.canActivate)}function uL(i){return i&&Cc(i.canActivateChild)}function dL(i){return i&&Cc(i.canDeactivate)}function hL(i){return i&&Cc(i.canMatch)}function vS(i){return i instanceof gr||i?.name==="EmptyError"}var Mh=Symbol("INITIAL_VALUE");function Ba(){return An(i=>yl(i.map(t=>t.pipe(vr(1),Rf(Mh)))).pipe(ke(t=>{for(let e of t)if(e!==!0){if(e===Mh)return Mh;if(e===!1||pL(e))return e}return!0}),On(t=>t!==Mh),vr(1)))}function pL(i){return ao(i)||i instanceof pc}function fL(i,t){return Bt(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?ge(ve(L({},e),{guardsResult:!0})):gL(o,n,r,i).pipe(Bt(a=>a&&aL(a)?mL(n,s,i,t):ge(a)),ke(a=>ve(L({},e),{guardsResult:a})))})}function gL(i,t,e,n){return ft(i).pipe(Bt(r=>CL(r.component,r.route,e,t,n)),ji(r=>r!==!0,!0))}function mL(i,t,e,n){return ft(t).pipe(mr(r=>Qo(yL(r.route.parent,n),vL(r.route,n),bL(i,r.path,e),_L(i,r.route,e))),ji(r=>r!==!0,!0))}function vL(i,t){return i!==null&&t&&t(new Tv(i)),ge(!0)}function yL(i,t){return i!==null&&t&&t(new Sv(i)),ge(!0)}function _L(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return ge(!0);let r=n.map(s=>Ru(()=>{let o=_c(t)??e,a=Ha(s,o),l=cL(a)?a.canActivate(t,i):oi(o,()=>a(t,i));return ms(l).pipe(ji())}));return ge(r).pipe(Ba())}function bL(i,t,e){let n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>rL(o)).filter(o=>o!==null).map(o=>Ru(()=>{let a=o.guards.map(l=>{let c=_c(o.node)??e,u=Ha(l,c),d=uL(u)?u.canActivateChild(n,i):oi(c,()=>u(n,i));return ms(d).pipe(ji())});return ge(a).pipe(Ba())}));return ge(s).pipe(Ba())}function CL(i,t,e,n,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return ge(!0);let o=s.map(a=>{let l=_c(t)??r,c=Ha(a,l),u=dL(c)?c.canDeactivate(i,t,e,n):oi(l,()=>c(i,t,e,n));return ms(u).pipe(ji())});return ge(o).pipe(Ba())}function wL(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return ge(!0);let s=r.map(o=>{let a=Ha(o,i),l=lL(a)?a.canLoad(t,e):oi(i,()=>a(t,e));return ms(l)});return ge(s).pipe(Ba(),yS(n))}function yS(i){return If(qt(t=>{if(typeof t!="boolean")throw Uh(i,t)}),ke(t=>t===!0))}function xL(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return ge(!0);let s=r.map(o=>{let a=Ha(o,i),l=hL(a)?a.canMatch(t,e):oi(i,()=>a(t,e));return ms(l)});return ge(s).pipe(Ba(),yS(n))}var fc=class{constructor(t){this.segmentGroup=t||null}},gc=class extends Error{constructor(t){super(),this.urlTree=t}};function Aa(i){return Xo(new fc(i))}function IL(i){return Xo(new z(4e3,!1))}function SL(i){return Xo(gS(!1,Qn.GuardRejected))}var Rv=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return ge(n);if(r.numberOfChildren>1||!r.children[Le])return IL(`${t.redirectTo}`);r=r.children[Le]}}applyRedirectCommands(t,e,n,r,s){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:p,data:f,title:y}=r,_=oi(s,()=>a({params:p,data:f,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:y}));if(_ instanceof Fr)throw new gc(_);e=_}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new gc(o);return o}applyRedirectCreateUrlTree(t,e,n,r){let s=this.createSegmentGroup(t,e.root,n,r);return new Fr(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);n[r]=e[a]}else n[r]=s}),n}createSegmentGroup(t,e,n,r){let s=this.createSegments(t,e.segments,n,r),o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,n,r)}),new ct(s,o)}createSegments(t,e,n,r){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},Lv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EL(i,t,e,n,r){let s=_S(i,t,e);return s.matched?(n=KR(t,n),xL(n,t,e,r).pipe(ke(o=>o===!0?s:L({},Lv)))):ge(s)}function _S(i,t,e){if(t.path==="**")return TL(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?L({},Lv):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||xR)(e,i,t);if(!r)return L({},Lv);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?L(L({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function TL(i){return{matched:!0,parameters:i.length>0?ZI(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function WI(i,t,e,n){return e.length>0&&OL(i,e,n)?{segmentGroup:new ct(t,ML(n,new ct(e,i.children))),slicedSegments:[]}:e.length===0&&AL(i,e,n)?{segmentGroup:new ct(i.segments,DL(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new ct(i.segments,i.children),slicedSegments:e}}function DL(i,t,e,n){let r={};for(let s of e)if(qh(i,t,s)&&!n[Ei(s)]){let o=new ct([],{});r[Ei(s)]=o}return L(L({},n),r)}function ML(i,t){let e={};e[Le]=t;for(let n of i)if(n.path===""&&Ei(n)!==Le){let r=new ct([],{});e[Ei(n)]=r}return e}function OL(i,t,e){return e.some(n=>qh(i,t,n)&&Ei(n)!==Le)}function AL(i,t,e){return e.some(n=>qh(i,t,n))}function qh(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function kL(i,t,e){return t.length===0&&!i.children[e]}var Nv=class{};function PL(i,t,e,n,r,s,o="emptyOnly"){return new Vv(i,t,e,n,r,o,s).recognize()}var FL=31,Vv=class{constructor(t,e,n,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Rv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new z(4002,`'${t.segmentGroup}'`)}recognize(){let t=WI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ke(({children:e,rootSnapshot:n})=>{let r=new Xn(n,e),s=new Hh("",r),o=UR(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new Fa([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Le,e).pipe(ke(n=>({children:n,rootSnapshot:e})),Wr(n=>{if(n instanceof gc)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof fc?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,s):this.processSegment(t,e,n,n.segments,r,!0,s).pipe(ke(o=>o instanceof Xn?[o]:[]))}processChildren(t,e,n,r){let s=[];for(let o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return ft(s).pipe(mr(o=>{let a=n.children[o],l=XR(e,o);return this.processSegmentGroup(t,l,a,o,r)}),Ff((o,a)=>(o.push(...a),o)),qr(null),Pf(),Bt(o=>{if(o===null)return Aa(n);let a=bS(o);return RL(a),ge(a)}))}processSegment(t,e,n,r,s,o,a){return ft(e).pipe(mr(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,r,s,o,a).pipe(Wr(c=>{if(c instanceof fc)return ge(null);throw c}))),ji(l=>!!l),Wr(l=>{if(vS(l))return kL(n,r,s)?ge(new Nv):Aa(n);throw l}))}processSegmentAgainstRoute(t,e,n,r,s,o,a,l){return Ei(n)!==o&&(o===Le||!qh(r,s,n))?Aa(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,s,o,l):Aa(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=_S(e,r,s);if(!l)return Aa(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FL&&(this.allowRedirects=!1));let p=new Fa(s,c,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,qI(r),Ei(r),r.component??r._loadedComponent??null,r,YI(r)),f=Bh(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(f.params),p.data=Object.freeze(f.data);let y=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,p,t);return this.applyRedirects.lineralizeSegments(r,y).pipe(Bt(_=>this.processSegment(t,n,e,_.concat(h),o,!1,a)))}matchSegmentAgainstRoute(t,e,n,r,s,o){let a=EL(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(An(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(An(({routes:c})=>{let u=n._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:p}=l,f=new Fa(h,d,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,qI(n),Ei(n),n.component??n._loadedComponent??null,n,YI(n)),y=Bh(f,o,this.paramsInheritanceStrategy);f.params=Object.freeze(y.params),f.data=Object.freeze(y.data);let{segmentGroup:_,slicedSegments:b}=WI(e,h,p,c);if(b.length===0&&_.hasChildren())return this.processChildren(u,c,_,f).pipe(ke(R=>new Xn(f,R)));if(c.length===0&&b.length===0)return ge(new Xn(f,[]));let T=Ei(n)===s;return this.processSegment(u,c,_,b,T?Le:s,!0,f).pipe(ke(R=>new Xn(f,R instanceof Xn?[R]:[])))}))):Aa(e)))}getChildConfig(t,e,n){return e.children?ge({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?ge({routes:e._loadedRoutes,injector:e._loadedInjector}):wL(t,e,n,this.urlSerializer).pipe(Bt(r=>r?this.configLoader.loadChildren(t,e).pipe(qt(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):SL(e))):ge({routes:[],injector:t})}};function RL(i){i.sort((t,e)=>t.value.outlet===Le?-1:e.value.outlet===Le?1:t.value.outlet.localeCompare(e.value.outlet))}function LL(i){let t=i.value.routeConfig;return t&&t.path===""}function bS(i){let t=[],e=new Set;for(let n of i){if(!LL(n)){t.push(n);continue}let r=t.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=bS(n.children);t.push(new Xn(n.value,r))}return t.filter(n=>!e.has(n))}function qI(i){return i.data||{}}function YI(i){return i.resolve||{}}function NL(i,t,e,n,r,s){return Bt(o=>PL(i,t,e,n,o.extractedUrl,r,s).pipe(ke(({state:a,tree:l})=>ve(L({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function VL(i,t){return Bt(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return ge(e);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of CS(l))o.add(c);let a=0;return ft(o).pipe(mr(l=>s.has(l)?jL(l,n,i,t):(l.data=Bh(l,l.parent,i).resolve,ge(void 0))),qt(()=>a++),Zo(1),Bt(l=>a===o.size?ge(e):zn))})}function CS(i){let t=i.children.map(e=>CS(e)).flat();return[i,...t]}function jL(i,t,e,n){let r=i.routeConfig,s=i._resolve;return r?.title!==void 0&&!pS(r)&&(s[vc]=r.title),BL(s,i,t,n).pipe(ke(o=>(i._resolvedData=o,i.data=Bh(i,i.parent,e).resolve,null)))}function BL(i,t,e,n){let r=gv(i);if(r.length===0)return ge({});let s={};return ft(r).pipe(Bt(o=>HL(i[o],t,e,n).pipe(ji(),qt(a=>{if(a instanceof pc)throw Uh(new Na,a);s[o]=a}))),Zo(1),kf(s),Wr(o=>vS(o)?zn:Xo(o)))}function HL(i,t,e,n){let r=_c(t)??n,s=Ha(i,r),o=s.resolve?s.resolve(t,e):oi(r,()=>s(t,e));return ms(o)}function pv(i){return An(t=>{let e=i(t);return e?ft(e).pipe(ke(()=>t)):ge(t)})}var wS=(()=>{let t=class t{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===Le);return r}getResolvedTitleForRoute(n){return n.data[vc]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:()=>j(UL),providedIn:"root"});let i=t;return i})(),UL=(()=>{let t=class t extends wS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(ne(lI))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),wc=new ie("",{providedIn:"root",factory:()=>({})}),zL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=B({type:t,selectors:[["ng-component"]],standalone:!0,features:[J],decls:1,vars:0,template:function(r,s){r&1&&O(0,"router-outlet")},dependencies:[Hv],encapsulation:2});let i=t;return i})();function Uv(i){let t=i.children&&i.children.map(Uv),e=t?ve(L({},i),{children:t}):L({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Le&&(e.component=zL),e}var mc=new ie(""),zv=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(eh)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ge(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ms(n.loadComponent()).pipe(ke(xS),qt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Yr(()=>{this.componentLoaders.delete(n)})),s=new Yo(r,()=>new Ct).pipe(qo());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ge({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=$L(r,this.compiler,n,this.onLoadEndListener).pipe(Yr(()=>{this.childrenLoaders.delete(r)})),a=new Yo(o,()=>new Ct).pipe(qo());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function $L(i,t,e,n){return ms(i.loadChildren()).pipe(ke(xS),Bt(r=>r instanceof El||Array.isArray(r)?ge(r):ft(t.compileModuleAsync(r))),ke(r=>{n&&n(i);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(e).injector,o=s.get(mc,[],{optional:!0,self:!0}).flat()),{routes:o.map(Uv),injector:s}}))}function GL(i){return i&&typeof i=="object"&&"default"in i}function xS(i){return GL(i)?i.default:i}var $v=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:()=>j(WL),providedIn:"root"});let i=t;return i})(),WL=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),IS=new ie(""),SS=new ie("");function qL(i,t,e){let n=i.get(SS),r=i.get(Ie);return i.get(Oe).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),YL(i))),{onViewTransitionCreated:l}=n;return l&&oi(i,()=>l({transition:a,from:t,to:e})),o})}function YL(i){return new Promise(t=>{Xm({read:()=>setTimeout(t)},{injector:i})})}var KL=new ie(""),Gv=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct,this.transitionAbortSubject=new Ct,this.configLoader=j(zv),this.environmentInjector=j(fn),this.urlSerializer=j(yc),this.rootContexts=j(bc),this.location=j(Sa),this.inputBindingEnabled=j(Wh,{optional:!0})!==null,this.titleStrategy=j(wS),this.options=j(wc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j($v),this.createViewTransition=j(IS,{optional:!0}),this.navigationErrorHandler=j(KL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ge(void 0),this.rootComponentType=null;let n=s=>this.events.next(new xv(s)),r=s=>this.events.next(new Iv(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ve(L(L({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new Zt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ac,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(On(o=>o.id!==0),ke(o=>ve(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),An(o=>{let a=!1,l=!1;return ge(o).pipe(An(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Qn.SupersededByNewNavigation),zn;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ve(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new fs(c.id,this.urlSerializer.serialize(c.rawUrl),h,Rh.IgnoredSameUrlNavigation)),c.resolve(!1),zn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ge(c).pipe(An(h=>{let p=this.transitions?.getValue();return this.events.next(new Va(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?zn:Promise.resolve(h)}),NL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),qt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ve(L({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Lh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:p,source:f,restoredState:y,extras:_}=c,b=new Va(h,this.urlSerializer.serialize(p),f,y);this.events.next(b);let T=dS(this.rootComponentType).snapshot;return this.currentTransition=o=ve(L({},c),{targetSnapshot:T,urlAfterRedirects:p,extras:ve(L({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,ge(o)}else{let h="";return this.events.next(new fs(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Rh.IgnoredByUrlHandlingStrategy)),c.resolve(!1),zn}}),qt(c=>{let u=new _v(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ke(c=>(this.currentTransition=o=ve(L({},c),{guards:iL(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),fL(this.environmentInjector,c=>this.events.next(c)),qt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Uh(this.urlSerializer,c.guardsResult);let u=new bv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),On(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Qn.GuardRejected),!1)),pv(c=>{if(c.guards.canActivateChecks.length)return ge(c).pipe(qt(u=>{let d=new Cv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),An(u=>{let d=!1;return ge(u).pipe(VL(this.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Qn.NoDataFromResolver)}}))}),qt(u=>{let d=new wv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),pv(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(qt(p=>{d.component=p}),ke(()=>{})));for(let p of d.children)h.push(...u(p));return h};return yl(u(c.targetSnapshot.root)).pipe(qr(null),vr(1))}),pv(()=>this.afterPreactivation()),An(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?ft(d).pipe(ke(()=>o)):ge(o)}),ke(c=>{let u=ZR(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ve(L({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),qt(()=>{this.events.next(new dc)}),nL(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),vr(1),qt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ti(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Lf(this.transitionAbortSubject.pipe(qt(c=>{throw c}))),Yr(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Qn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wr(c=>{if(l=!0,mS(c))this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),tL(c)?this.events.next(new ja(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new uc(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=oi(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof pc){let{message:h,cancellationCode:p}=Uh(this.urlSerializer,d);this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),h,p)),this.events.next(new ja(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=n.errorHandler(c);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return zn}))}))}cancelNavigationTransition(n,r,s){let o=new Pr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function XL(i){return i!==ac}var QL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:()=>j(ZL),providedIn:"root"});let i=t;return i})(),jv=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},ZL=(()=>{let t=class t extends jv{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=me(t)))(s||t)}})(),t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),ES=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:()=>j(JL),providedIn:"root"});let i=t;return i})(),JL=(()=>{let t=class t extends ES{constructor(){super(...arguments),this.location=j(Sa),this.urlSerializer=j(yc),this.options=j(wc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j($v),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=dS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Va)this.stateMemento=this.createStateMemento();else if(n instanceof fs)this.rawUrlTree=r.initialUrl;else if(n instanceof Lh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else n instanceof dc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Pr&&(n.code===Qn.GuardRejected||n.code===Qn.NoDataFromResolver)?this.restoreHistory(r):n instanceof uc?this.restoreHistory(r,!0):n instanceof Ti&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=n instanceof Fr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=me(t)))(s||t)}})(),t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),sc=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(sc||{});function TS(i,t){i.events.pipe(On(e=>e instanceof Ti||e instanceof Pr||e instanceof uc||e instanceof fs),ke(e=>e instanceof Ti||e instanceof fs?sc.COMPLETE:(e instanceof Pr?e.code===Qn.Redirect||e.code===Qn.SupersededByNewNavigation:!1)?sc.REDIRECTING:sc.FAILED),On(e=>e!==sc.REDIRECTING),vr(1)).subscribe(()=>{t()})}function eN(i){throw i}var tN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rr=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(Xd),this.stateManager=j(ES),this.options=j(wc,{optional:!0})||{},this.pendingTasks=j(qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(Gv),this.urlSerializer=j(yc),this.location=j(Sa),this.urlHandlingStrategy=j($v),this._events=new Ct,this.errorHandler=this.options.errorHandler||eN,this.navigated=!1,this.routeReuseStrategy=j(QL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(mc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(Wh,{optional:!0}),this.eventsSubscription=new Tt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Pr&&r.code!==Qn.Redirect&&r.code!==Qn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ti)this.navigated=!0;else if(r instanceof ja){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c=L({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XL(s.source)},a);this.scheduleNavigation(l,ac,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}rN(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ac,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=L({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Uv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,d=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":d=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=aS(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return lS(h,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=ao(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ac,null,r)}navigate(n,r={skipLocationChange:!1}){return iN(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=L({},tN):r===!1?s=L({},nN):s=r,ao(n))return HI(this.currentUrlTree,n,s);let o=this.parseUrl(n);return HI(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,p)=>{l=h,c=p});let d=this.pendingTasks.add();return TS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function iN(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new z(4008,!1)}function rN(i){return!(i instanceof dc)&&!(i instanceof ja)}var $h=(()=>{let t=class t{constructor(n,r,s,o,a,l){this.router=n,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new Ct,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ao(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:uw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,n,r):s.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ao(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(r){return new(r||t)(D(rr),D(gs),Em("tabindex"),D(nt),D(pe),D(Or))},t.\u0275dir=st({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&N("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&I("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",V],skipLocationChange:[2,"skipLocationChange","skipLocationChange",V],replaceUrl:[2,"replaceUrl","replaceUrl",V],routerLink:"routerLink"},standalone:!0,features:[Re,Gt]});let i=t;return i})(),DS=(()=>{let t=class t{get isActive(){return this._isActive}constructor(n,r,s,o,a){this.router=n,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new U,this.routerEventsSubscription=n.events.subscribe(l=>{l instanceof Ti&&this.update()})}ngAfterContentInit(){ge(this.links.changes,ge(null)).pipe(Gr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ft(n).pipe(Gr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=sN(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};t.\u0275fac=function(r){return new(r||t)(D(rr),D(pe),D(nt),D(je),D($h,8))},t.\u0275dir=st({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&at(o,$h,5),r&2){let a;X(a=Q())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Gt]});let i=t;return i})();function sN(i){return!!i.paths}var Gh=class{};var oN=(()=>{let t=class t{constructor(n,r,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(On(n=>n instanceof Ti),mr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Yd(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return ft(s).pipe(Gr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(n,r):s=ge(null);let o=s.pipe(Bt(a=>a===null?ge(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ft([o,a]).pipe(Gr())}else return o})}};t.\u0275fac=function(r){return new(r||t)(ne(rr),ne(eh),ne(fn),ne(Gh),ne(zv))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),MS=new ie(""),aN=(()=>{let t=class t{constructor(n,r,s,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Va?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ti?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof fs&&n.code===Rh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Nh&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Nh(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){Iw()},t.\u0275prov=Y({token:t,factory:t.\u0275fac});let i=t;return i})();function OS(i,...t){return Pl([{provide:mc,multi:!0,useValue:i},[],{provide:gs,useFactory:AS,deps:[rr]},{provide:Hl,multi:!0,useFactory:kS},t.map(e=>e.\u0275providers)])}function AS(i){return i.routerState.root}function xc(i,t){return{\u0275kind:i,\u0275providers:t}}function kS(){let i=j(Pn);return t=>{let e=i.get(Tr);if(t!==e.components[0])return;let n=i.get(rr),r=i.get(PS);i.get(Wv)===1&&n.initialNavigation(),i.get(FS,null,Ve.Optional)?.setUpPreloading(),i.get(MS,null,Ve.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var PS=new ie("",{factory:()=>new Ct}),Wv=new ie("",{providedIn:"root",factory:()=>1});function lN(){return xc(2,[{provide:Wv,useValue:0},{provide:Jd,multi:!0,deps:[Pn],useFactory:t=>{let e=t.get(Rx,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let r=t.get(rr),s=t.get(PS);TS(r,()=>{n(!0)}),t.get(Gv).afterPreactivation=()=>(n(!0),s.closed?ge(void 0):s),r.initialNavigation()}))}}])}function cN(){return xc(3,[{provide:Jd,multi:!0,useFactory:()=>{let t=j(rr);return()=>{t.setUpLocationChangeListener()}}},{provide:Wv,useValue:2}])}var FS=new ie("");function uN(i){return xc(0,[{provide:FS,useExisting:oN},{provide:Gh,useExisting:i}])}function dN(){return xc(8,[GI,{provide:Wh,useExisting:GI}])}function hN(i){let t=[{provide:IS,useValue:qL},{provide:SS,useValue:L({skipNextTransition:!!i?.skipInitialTransition},i)}];return xc(9,t)}var KI=new ie("ROUTER_FORROOT_GUARD"),pN=[Sa,{provide:yc,useClass:Na},rr,bc,{provide:gs,useFactory:AS,deps:[rr]},zv,[]],Ua=(()=>{let t=class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[pN,[],{provide:mc,multi:!0,useValue:n},{provide:KI,useFactory:vN,deps:[[rr,new Ol,new Ed]]},{provide:wc,useValue:r||{}},r?.useHash?gN():mN(),fN(),r?.preloadingStrategy?uN(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?yN(r):[],r?.bindToComponentInputs?dN().\u0275providers:[],r?.enableViewTransitions?hN().\u0275providers:[],_N()]}}static forChild(n){return{ngModule:t,providers:[{provide:mc,multi:!0,useValue:n}]}}};t.\u0275fac=function(r){return new(r||t)(ne(KI,8))},t.\u0275mod=le({type:t}),t.\u0275inj=ae({});let i=t;return i})();function fN(){return{provide:MS,useFactory:()=>{let i=j(Vx),t=j(Oe),e=j(wc),n=j(Gv),r=j(yc);return e.scrollOffset&&i.setOffset(e.scrollOffset),new aN(r,n,i,t,e)}}}function gN(){return{provide:Or,useClass:Nx}}function mN(){return{provide:Or,useClass:f0}}function vN(i){return"guarded"}function yN(i){return[i.initialNavigation==="disabled"?cN().\u0275providers:[],i.initialNavigation==="enabledBlocking"?lN().\u0275providers:[]]}var XI=new ie("");function _N(){return[{provide:XI,useFactory:kS},{provide:Hl,multi:!0,useExisting:XI}]}function CN(i,t){i&1&&(C(0,"div"),O(1,"router-outlet"),w())}function wN(i,t){i&1&&O(0,"app-preloader")}var Yh=class i{isLoading;constructor(){this.isLoading=!0,window.onload=()=>{console.log("\u0412\u0441\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044B \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B"),this.isLoading=!1}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=B({type:i,selectors:[["app-root"]],standalone:!0,features:[J],decls:2,vars:1,template:function(e,n){e&1&&E(0,CN,2,0,"div")(1,wN,1,0,"app-preloader"),e&2&&Zs(n.isLoading?1:0)},dependencies:[Pe,Ma,Hv]})};var US=(()=>{let t=class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(r){return new(r||t)(D(nt),D(pe))},t.\u0275dir=st({type:t});let i=t;return i})(),xN=(()=>{let t=class t extends US{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=me(t)))(s||t)}})(),t.\u0275dir=st({type:t,features:[fe]});let i=t;return i})(),Nn=new ie("");var IN={provide:Nn,useExisting:Ft(()=>zS),multi:!0};function SN(){let i=Ji()?Ji().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var EN=new ie(""),zS=(()=>{let t=class t extends US{constructor(n,r,s){super(n,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!SN())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(r){return new(r||t)(D(nt),D(pe),D(EN,8))},t.\u0275dir=st({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&N("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[vn([IN]),fe]});let i=t;return i})();var TN=new ie(""),DN=new ie("");function $S(i){return i!=null}function GS(i){return Js(i)?ft(i):i}function WS(i){let t={};return i.forEach(e=>{t=e!=null?L(L({},t),e):t}),Object.keys(t).length===0?null:t}function qS(i,t){return t.map(e=>e(i))}function MN(i){return!i.validate}function YS(i){return i.map(t=>MN(t)?t:e=>t.validate(e))}function ON(i){if(!i)return null;let t=i.filter($S);return t.length==0?null:function(e){return WS(qS(e,t))}}function KS(i){return i!=null?ON(YS(i)):null}function AN(i){if(!i)return null;let t=i.filter($S);return t.length==0?null:function(e){let n=qS(e,t).map(GS);return Of(n).pipe(ke(WS))}}function XS(i){return i!=null?AN(YS(i)):null}function RS(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function kN(i){return i._rawValidators}function PN(i){return i._rawAsyncValidators}function qv(i){return i?Array.isArray(i)?i:[i]:[]}function Xh(i,t){return Array.isArray(i)?i.includes(t):i===t}function LS(i,t){let e=qv(t);return qv(i).forEach(r=>{Xh(e,r)||e.push(r)}),e}function NS(i,t){return qv(t).filter(e=>!Xh(i,e))}var Qh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=KS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=XS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Yv=class extends Qh{get formDirective(){return null}get path(){return null}},lo=class extends Qh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kv=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},FN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rQ=ve(L({},FN),{"[class.ng-submitted]":"isSubmitted"}),QS=(()=>{let t=class t extends Kv{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(D(lo,2))},t.\u0275dir=st({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&sn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[fe]});let i=t;return i})();var Ic="VALID",Kh="INVALID",za="PENDING",Sc="DISABLED",Ga=class{},Zh=class extends Ga{constructor(t,e){super(),this.value=t,this.source=e}},Ec=class extends Ga{constructor(t,e){super(),this.pristine=t,this.source=e}},Tc=class extends Ga{constructor(t,e){super(),this.touched=t,this.source=e}},$a=class extends Ga{constructor(t,e){super(),this.status=t,this.source=e}};function RN(i){return(Jh(i)?i.validators:i)||null}function LN(i){return Array.isArray(i)?KS(i):i||null}function NN(i,t){return(Jh(t)?t.asyncValidators:i)||null}function VN(i){return Array.isArray(i)?XS(i):i||null}function Jh(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var Xv=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Dr(()=>this.statusReactive()),this.statusReactive=mt(void 0),this._pristine=Dr(()=>this.pristineReactive()),this.pristineReactive=mt(!0),this._touched=Dr(()=>this.touchedReactive()),this.touchedReactive=mt(!1),this._events=new Ct,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ls(this.statusReactive)}set status(t){ls(()=>this.statusReactive.set(t))}get valid(){return this.status===Ic}get invalid(){return this.status===Kh}get pending(){return this.status==za}get disabled(){return this.status===Sc}get enabled(){return this.status!==Sc}get pristine(){return ls(this.pristineReactive)}set pristine(t){ls(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return ls(this.touchedReactive)}set touched(t){ls(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(LS(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(LS(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(NS(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(NS(t,this._rawAsyncValidators))}hasValidator(t){return Xh(this._rawValidators,t)}hasAsyncValidator(t){return Xh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ve(L({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Tc(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Tc(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ve(L({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Ec(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Ec(!0,n))}markAsPending(t={}){this.status=za;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new $a(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ve(L({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Sc,this.errors=null,this._forEachChild(r=>{r.disable(ve(L({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zh(this.value,n)),this._events.next(new $a(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(L({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ic,this._forEachChild(n=>{n.enable(ve(L({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ve(L({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ic||this.status===za)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zh(this.value,e)),this._events.next(new $a(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ve(L({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sc:Ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=za,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=GS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new $a(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new U,this.statusChanges=new U}_calculateStatus(){return this._allControlsDisabled()?Sc:this.errors?Kh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(za)?za:this._anyControlsHaveStatus(Kh)?Kh:Ic}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Ec(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Tc(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jh(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=LN(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=VN(this._rawAsyncValidators)}};var ZS=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>Qv}),Qv="always";function jN(i,t){return[...t.path,i]}function BN(i,t,e=Qv){UN(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),zN(i,t),GN(i,t),$N(i,t),HN(i,t)}function VS(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function HN(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function UN(i,t){let e=kN(i);t.validator!==null?i.setValidators(RS(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=PN(i);t.asyncValidator!==null?i.setAsyncValidators(RS(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();VS(t._rawValidators,r),VS(t._rawAsyncValidators,r)}function zN(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&JS(i,t)})}function $N(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&JS(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function JS(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function GN(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function WN(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function qN(i){return Object.getPrototypeOf(i.constructor)===xN}function YN(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(s=>{s.constructor===zS?e=s:qN(s)?n=s:r=s}),r||n||e||null}function jS(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function BS(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var KN=class extends Xv{constructor(t=null,e,n){super(RN(e),NN(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jh(e)&&(e.nonNullable||e.initialValueIsDefault)&&(BS(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){jS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){jS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){BS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var XN={provide:lo,useExisting:Ft(()=>Dc)},HS=Promise.resolve(),Dc=(()=>{let t=class t extends lo{constructor(n,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new KN,this._registered=!1,this.name="",this.update=new U,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=YN(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),WN(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){BN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){HS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,s=r!==0&&V(r);HS.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?jN(n,this._parent):[n]}};t.\u0275fac=function(r){return new(r||t)(D(Yv,9),D(TN,10),D(DN,10),D(Nn,10),D(je,8),D(ZS,8))},t.\u0275dir=st({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vn([XN]),fe,Gt]});let i=t;return i})();var QN=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=le({type:t}),t.\u0275inj=ae({});let i=t;return i})();var co=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:ZS,useValue:n.callSetDisabledState??Qv}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=le({type:t}),t.\u0275inj=ae({imports:[QN]});let i=t;return i})();var ue=class i{static isArray(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}static isObject(t,e=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(e||Object.keys(t).length!==0)}static equals(t,e,n){return n?this.resolveFieldData(t,n)===this.resolveFieldData(e,n):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),s,o,a;if(n&&r){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(n!=r)return!1;var l=this.isDate(t),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if(o=h.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;s--!==0;)if(a=h[s],!this.equalsByValue(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(e.indexOf(".")==-1)return t[e];{let n=e.split("."),r=t;for(let s=0,o=n.length;s<o;++s){if(r==null)return null;r=r[n[s]]}return r}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,n){let r;t&&e!==n&&(n>=t.length&&(n%=t.length,e%=t.length),t.splice(n,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,n,r){if(n.length>0){let s=!1;for(let o=0;o<n.length;o++)if(this.findIndexInList(n[o],r)>e){n.splice(o,0,t),s=!0;break}s||n.push(t)}else n.push(t)}static findIndexInList(t,e){let n=-1;if(e){for(let r=0;r<e.length;r++)if(e[r]==t){n=r;break}}return n}static contains(t,e){if(t!=null&&e&&e.length){for(let n of e)if(this.equals(t,n))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,n,r=1){let s=-1,o=this.isEmpty(t),a=this.isEmpty(e);return o&&a?s=0:o?s=r:a?s=-r:typeof t=="string"&&typeof e=="string"?s=t.localeCompare(e,n,{numeric:!0}):s=t<e?-1:t>e?1:0,s}static sort(t,e,n=1,r,s=1){let o=i.compare(t,e,r,n),a=n;return(i.isEmpty(t)||i.isEmpty(e))&&(a=s===1?n:s),a*o}static merge(t,e){if(!(t==null&&e==null)){{if((t==null||typeof t=="object")&&(e==null||typeof e=="object"))return L(L({},t||{}),e||{});if((t==null||typeof t=="string")&&(e==null||typeof e=="string"))return[t||"",e||""].join(" ")}return e||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let n=-1;if(this.isNotEmpty(t))try{n=t.findLastIndex(e)}catch{n=t.lastIndexOf([...t].reverse().find(e))}return n}static findLast(t,e){let n;if(this.isNotEmpty(t))try{n=t.findLast(e)}catch{n=[...t].reverse().find(e)}return n}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),s,o,a;if(n&&r){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(t[s],e[s]))return!1;return!0}if(n!=r)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if(o=h.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;s--!==0;)if(a=h[s],!this.deepEquals(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}},tE=0;function ut(i="pn_id_"){return tE++,`${i}${tE}`}function ZN(){let i=[],t=(s,o)=>{let a=i.length>0?i[i.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return i.push({key:s,value:l}),l},e=s=>{i=i.filter(o=>o.value!==s)},n=()=>i.length>0?i[i.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(t(s,a)))},clear:s=>{s&&(e(r(s)),s.style.zIndex="")},getCurrent:()=>n()}}var Xt=ZN();var JN=["*"];var ln=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return i})();var nE=(()=>{class i{filter(e,n,r,s,o){let a=[];if(e)for(let l of e)for(let c of n){let u=ue.resolveFieldData(l,c);if(this.filters[s](u,r,o)){a.push(l);break}}return a}filters={startsWith:(e,n,r)=>{if(n==null||n.trim()==="")return!0;if(e==null)return!1;let s=ue.removeAccents(n.toString()).toLocaleLowerCase(r);return ue.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(e,n,r)=>{if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(e==null)return!1;let s=ue.removeAccents(n.toString()).toLocaleLowerCase(r);return ue.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)!==-1},notContains:(e,n,r)=>{if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(e==null)return!1;let s=ue.removeAccents(n.toString()).toLocaleLowerCase(r);return ue.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)===-1},endsWith:(e,n,r)=>{if(n==null||n.trim()==="")return!0;if(e==null)return!1;let s=ue.removeAccents(n.toString()).toLocaleLowerCase(r),o=ue.removeAccents(e.toString()).toLocaleLowerCase(r);return o.indexOf(s,o.length-s.length)!==-1},equals:(e,n,r)=>n==null||typeof n=="string"&&n.trim()===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():e==n?!0:ue.removeAccents(e.toString()).toLocaleLowerCase(r)==ue.removeAccents(n.toString()).toLocaleLowerCase(r),notEquals:(e,n,r)=>n==null||typeof n=="string"&&n.trim()===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():e==n?!1:ue.removeAccents(e.toString()).toLocaleLowerCase(r)!=ue.removeAccents(n.toString()).toLocaleLowerCase(r),in:(e,n)=>{if(n==null||n.length===0)return!0;for(let r=0;r<n.length;r++)if(ue.equals(e,n[r]))return!0;return!1},between:(e,n)=>n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1],lt:(e,n,r)=>n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n,lte:(e,n,r)=>n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n,gt:(e,n,r)=>n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n,gte:(e,n,r)=>n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n,is:(e,n,r)=>this.filters.equals(e,n,r),isNot:(e,n,r)=>this.filters.notEquals(e,n,r),before:(e,n,r)=>this.filters.lt(e,n,r),after:(e,n,r)=>this.filters.gt(e,n,r),dateIs:(e,n)=>n==null?!0:e==null?!1:e.toDateString()===n.toDateString(),dateIsNot:(e,n)=>n==null?!0:e==null?!1:e.toDateString()!==n.toDateString(),dateBefore:(e,n)=>n==null?!0:e==null?!1:e.getTime()<n.getTime(),dateAfter:(e,n)=>{if(n==null)return!0;if(e==null)return!1;let r=new Date(e);return r.setHours(0,0,0,0),r.getTime()>n.getTime()}};register(e,n){this.filters[e]=n}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),iE=(()=>{class i{messageSource=new Ct;clearSource=new Ct;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})(),Wa=(()=>{class i{clickSource=new Ct;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ot=(()=>{class i{ripple=!1;inputStyle=mt("outlined");overlayOptions={};csp=mt({nonce:void 0});filterMatchModeOptions={text:[ln.STARTS_WITH,ln.CONTAINS,ln.NOT_CONTAINS,ln.ENDS_WITH,ln.EQUALS,ln.NOT_EQUALS],numeric:[ln.EQUALS,ln.NOT_EQUALS,ln.LESS_THAN,ln.LESS_THAN_OR_EQUAL_TO,ln.GREATER_THAN,ln.GREATER_THAN_OR_EQUAL_TO],date:[ln.DATE_IS,ln.DATE_IS_NOT,ln.DATE_BEFORE,ln.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Ct;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=L(L({},this.translation),e),this.translationSource.next(this.translation)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),rE=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=B({type:i,selectors:[["p-header"]],standalone:!0,features:[J],ngContentSelectors:JN,decls:1,vars:0,template:function(n,r){n&1&&(mn(),on(0))},encapsulation:2})}return i})();var tt=(()=>{class i{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(n){return new(n||i)(D(wi))};static \u0275dir=st({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return i})(),Qe=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({})}return i})(),Vn=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return i})();var M=(()=>{class i{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,n){e&&n&&(e.classList?e.classList.add(n):e.className+=" "+n)}static addMultipleClasses(e,n){if(e&&n)if(e.classList){let r=n.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=n.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,n){e&&n&&[n].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,n){return e&&n?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(n){return n!==e})}static find(e,n){return Array.from(e.querySelectorAll(n))}static findSingle(e,n){return this.isElement(e)?e.querySelector(n):null}static index(e){let n=e.parentNode.childNodes,r=0;for(var s=0;s<n.length;s++){if(n[s]==e)return r;n[s].nodeType==1&&r++}return-1}static indexWithinGroup(e,n){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==e)return s;r[o].attributes&&r[o].attributes[n]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(e,n,r="self"){r!=="self"&&e&&n&&this.appendChild(e,n)}static alignOverlay(e,n,r="self",s=!0){e&&n&&(s&&(e.style.minWidth=`${i.getOuterWidth(n)}px`),r==="self"?this.relativePosition(e,n):this.absolutePosition(e,n))}static relativePosition(e,n,r=!0){let s=T=>{if(T)return getComputedStyle(T).getPropertyValue("position")==="relative"?T:s(T.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=n.offsetHeight??n.getBoundingClientRect().height,l=n.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),p=s(e)?.getBoundingClientRect()||{top:-1*c,left:-1*u},f,y;l.top+a+o.height>d.height?(f=l.top-p.top-o.height,e.style.transformOrigin="bottom",l.top+f<0&&(f=-1*l.top)):(f=a+l.top-p.top,e.style.transformOrigin="top");let _=l.left+o.width-d.width,b=l.left-p.left;o.width>d.width?y=(l.left-p.left)*-1:_>0?y=b-_:y=l.left-p.left,e.style.top=f+"px",e.style.left=y+"px",r&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,n,r=!0){let s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,a=s.width,l=n.offsetHeight??n.getBoundingClientRect().height,c=n.offsetWidth??n.getBoundingClientRect().width,u=n.getBoundingClientRect(),d=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),p=this.getViewport(),f,y;u.top+l+o>p.height?(f=u.top+d-o,e.style.transformOrigin="bottom",f<0&&(f=d)):(f=l+u.top+d,e.style.transformOrigin="top"),u.left+a>p.width?y=Math.max(0,u.left+h+c-a):y=u.left+h,e.style.top=f+"px",e.style.left=y+"px",r&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,n=[]){return e.parentNode===null?n:this.getParents(e.parentNode,n.concat([e.parentNode]))}static getScrollableParents(e){let n=[];if(e){let r=this.getParents(e),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let d=this.findSingle(a,u);d&&o(d)&&n.push(d)}}a.nodeType!==9&&o(a)&&n.push(a)}}return n}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}static getHiddenElementDimensions(e){let n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}static scrollInView(e,n){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=e.getBoundingClientRect(),u=n.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,d=e.scrollTop,h=e.clientHeight,p=this.getOuterHeight(n);u<0?e.scrollTop=d+u:u+p>h&&(e.scrollTop=d+u-h+p)}static fadeIn(e,n){e.style.opacity=0;let r=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+(new Date().getTime()-r)/n,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,n){var r=1,s=50,o=n,a=s/o;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),e.style.opacity=r},s)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,n){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(e,n)}static getOuterWidth(e,n){let r=e.offsetWidth;if(n){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let n=getComputedStyle(e);return parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}static getHorizontalMargin(e){let n=getComputedStyle(e);return parseFloat(n.marginLeft)+parseFloat(n.marginRight)}static innerWidth(e){let n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}static width(e){let n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}static getInnerHeight(e){let n=e.offsetHeight,r=getComputedStyle(e);return n+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),n}static getOuterHeight(e,n){let r=e.offsetHeight;if(n){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}static getWidth(e){let n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}static getViewport(){let e=window,n=document,r=n.documentElement,s=n.getElementsByTagName("body")[0],o=e.innerWidth||r.clientWidth||s.clientWidth,a=e.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,n){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(n,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return!0;var r=e.indexOf("Trident/");if(r>0){var s=e.indexOf("rv:");return!0}var o=e.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,n){if(this.isElement(n))n.appendChild(e);else if(n&&n.el&&n.el.nativeElement)n.el.nativeElement.appendChild(e);else throw"Cannot append "+n+" to "+e}static removeChild(e,n){if(this.isElement(n))n.removeChild(e);else if(n.el&&n.el.nativeElement)n.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+n}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let n=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);let r=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n}static invokeElementMethod(e,n,r){e[n].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,n){e&&document.activeElement!==e&&e.focus(n)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,n=""){let r=this.find(e,this.getFocusableSelectorString(n)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(e,n=""){let r=this.findSingle(e,this.getFocusableSelectorString(n));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(e,n=""){let r=this.getFocusableElements(e,n);return r.length>0?r[0]:null}static getLastFocusableElement(e,n){let r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,n=!1){let r=i.getFocusableElements(e),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);n?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,n){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return n?.nextElementSibling;case"@prev":return n?.previousElementSibling;case"@parent":return n?.parentElement;case"@grandparent":return n?.parentElement.parentElement;default:let r=typeof e;if(r==="string")return document.querySelector(e);if(r==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(e)?e():e;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,n){if(e){let r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,n={},...r){if(e){let s=document.createElement(e);return this.setAttributes(s,n),s.append(...r),s}}static setAttribute(e,n="",r){this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)}static setAttributes(e,n={}){if(this.isElement(e)){let r=(s,o)=>{let a=e?.$attrs?.[s]?[e?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){let u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){let d=Array.isArray(c)?r(s,c):Object.entries(c).map(([h,p])=>s==="style"&&(p||p===0)?`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${p}`:p?h:void 0);l=d.length?l.concat(d.filter(h=>!!h)):l}}return l},a)};Object.entries(n).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(e,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(e.$attrs=e.$attrs||{})&&(e.$attrs[s]=o),e.setAttribute(s,o))}})}}static isFocusableElement(e,n=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n}`):!1}}return i})(),vs=class{element;listener;scrollableParents;constructor(t,e=()=>{}){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=M.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var e5=["*"],xe=(()=>{class i{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let e=ue.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=B({type:i,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",V],styleClass:"styleClass"},standalone:!0,features:[Re,J],ngContentSelectors:e5,decls:1,vars:0,template:function(n,r){n&1&&(mn(),on(0))},encapsulation:2,changeDetection:0})}return i})();var uo=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["AngleRightIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var sr=(()=>{class i{document;platformId;renderer;el;zone;config;constructor(e,n,r,s,o,a){this.document=e,this.platformId=n,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){gt(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let n=this.getInk();if(!n||this.document.defaultView?.getComputedStyle(n,null).display==="none")return;if(M.removeClass(n,"p-ink-active"),!M.getHeight(n)&&!M.getWidth(n)){let a=Math.max(M.getOuterWidth(this.el.nativeElement),M.getOuterHeight(this.el.nativeElement));n.style.height=a+"px",n.style.width=a+"px"}let r=M.getOffset(this.el.nativeElement),s=e.pageX-r.left+this.document.body.scrollTop-M.getWidth(n)/2,o=e.pageY-r.top+this.document.body.scrollLeft-M.getHeight(n)/2;this.renderer.setStyle(n,"top",o+"px"),this.renderer.setStyle(n,"left",s+"px"),M.addClass(n,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&M.removeClass(a,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let n=0;n<e.length;n++)if(typeof e[n].className=="string"&&e[n].className.indexOf("p-ink")!==-1)return e[n];return null}resetInk(){let e=this.getInk();e&&M.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),M.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,M.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(n){return new(n||i)(D(Ie),D(ot),D(nt),D(pe),D(Oe),D(Ot,8))};static \u0275dir=st({type:i,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return i})(),or=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({})}return i})();var qa=(()=>{class i{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:ut()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(e,n,r,s,o,a){this.platformId=e,this.el=n,this.zone=r,this.config=s,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){gt(this.platformId)&&this.zone.runOutsideAngular(()=>{let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),e==="focus"||e==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let n=this.el.nativeElement.querySelector(".p-component");n||(n=this.getTarget(this.el.nativeElement)),n.addEventListener("focus",this.focusListener),n.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions=L(L({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.isAutoHide()?this.deactivate():!(M.hasClass(e.relatedTarget,"p-tooltip")||M.hasClass(e.relatedTarget,"p-tooltip-text")||M.hasClass(e.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?M.appendChild(this.container,this.el.nativeElement):M.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let e=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(e,"mouseleave",n=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),M.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?Xt.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&Xt.clear(this.container),this.remove()}updateText(){let e=this.getOption("tooltipLabel");if(e instanceof wi){let n=this.viewContainer.createEmbeddedView(e);n.detectChanges(),n.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let e=this.el.nativeElement.getBoundingClientRect(),n=e.left+M.getWindowScrollLeft(),r=e.top+M.getWindowScrollTop();return{left:n,top:r}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.activeElement,n=this.getHostOffset(),r=n.left+M.getOuterWidth(e),s=n.top+(M.getOuterHeight(e)-M.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?M.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),n=e.left-M.getOuterWidth(this.container),r=e.top+(M.getOuterHeight(this.el.nativeElement)-M.getOuterHeight(this.container))/2;this.container.style.left=n+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),n=e.left+(M.getOuterWidth(this.el.nativeElement)-M.getOuterWidth(this.container))/2,r=e.top-M.getOuterHeight(this.container);this.container.style.left=n+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),n=e.left+(M.getOuterWidth(this.el.nativeElement)-M.getOuterWidth(this.container))/2,r=e.top+M.getOuterHeight(this.el.nativeElement);this.container.style.left=n+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=L(L({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return M.hasClass(e,"p-inputwrapper")?M.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let n="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?n+" "+this.getOption("tooltipStyleClass"):n}isOutOfBounds(){let e=this.container.getBoundingClientRect(),n=e.top,r=e.left,s=M.getOuterWidth(this.container),o=M.getOuterHeight(this.container),a=M.getViewport();return r+s>a.width||r<0||n<0||n+o>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new vs(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),e==="focus"||e==="both"){let n=this.el.nativeElement.querySelector(".p-component");n||(n=this.getTarget(this.el.nativeElement))}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):M.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Xt.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(n){return new(n||i)(D(ot),D(pe),D(Oe),D(Ot),D(nt),D(Wn))};static \u0275dir=st({type:i,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(n,r){n&1&&N("keydown.escape",function(o){return r.onPressEscape(o)},!1,Hd)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",V],showDelay:[2,"showDelay","showDelay",we],hideDelay:[2,"hideDelay","hideDelay",we],life:[2,"life","life",we],positionTop:[2,"positionTop","positionTop",we],positionLeft:[2,"positionLeft","positionLeft",we],autoHide:[2,"autoHide","autoHide",V],fitContent:[2,"fitContent","fitContent",V],hideOnEscape:[2,"hideOnEscape","hideOnEscape",V],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Re,Gt]})}return i})(),di=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe]})}return i})();var t5=["sublist"],n5=(i,t)=>({"p-submenu-list":i,"p-contextmenu-root-list":t}),i5=()=>({"p-menuitem-link":!0}),r5=()=>({exact:!1}),s5=i=>({"p-menuitem-link":!0,"p-disabled":i}),o5=i=>({$implicit:i});function a5(i,t){if(i&1&&O(0,"li",8),i&2){let e=v().$implicit,n=v(2);g("ngStyle",n.getItemProp(e,"style"))("ngClass",n.getSeparatorItemClass(e)),I("id",n.getItemId(e))("data-pc-section","separator")}}function l5(i,t){if(i&1&&O(0,"span",19),i&2){let e=v(4).$implicit,n=v(2);g("ngClass",n.getItemProp(e,"icon"))("ngStyle",n.getItemProp(e,"iconStyle")),I("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function c5(i,t){if(i&1&&(C(0,"span",20),et(1),w()),i&2){let e=v(4).$implicit,n=v(2);I("data-pc-section","label"),m(),Ii(" ",n.getItemLabel(e)," ")}}function u5(i,t){if(i&1&&O(0,"span",21),i&2){let e=v(4).$implicit,n=v(2);g("innerHTML",n.getItemLabel(e),Qs),I("data-pc-section","label")}}function d5(i,t){if(i&1&&(C(0,"span",22),et(1),w()),i&2){let e=v(4).$implicit,n=v(2);g("ngClass",n.getItemProp(e,"badgeStyleClass")),m(),Mt(n.getItemProp(e,"badge"))}}function h5(i,t){i&1&&O(0,"AngleRightIcon",25),i&2&&(g("styleClass","p-submenu-icon"),I("data-pc-section","submenuicon")("aria-hidden",!0))}function p5(i,t){}function f5(i,t){i&1&&E(0,p5,0,0,"ng-template",26),i&2&&g("data-pc-section","submenuicon")("aria-hidden",!0)}function g5(i,t){if(i&1&&(se(0),E(1,h5,1,3,"AngleRightIcon",23)(2,f5,1,2,null,24),oe()),i&2){let e=v(6);m(),g("ngIf",!e.contextMenu.submenuIconTemplate),m(),g("ngTemplateOutlet",e.contextMenu.submenuIconTemplate)}}function m5(i,t){if(i&1&&(C(0,"a",15),E(1,l5,1,5,"span",16)(2,c5,2,2,"span",17)(3,u5,1,2,"ng-template",null,2,Rt)(5,d5,2,2,"span",18)(6,g5,3,2,"ng-container",11),w()),i&2){let e=xt(4),n=v(3).$implicit,r=v(2);g("target",r.getItemProp(n,"target"))("ngClass",yn(12,i5)),I("href",r.getItemProp(n,"url"),Sr)("aria-hidden",!0)("data-automationid",r.getItemProp(n,"automationId"))("data-pc-section","action")("tabindex",-1),m(),g("ngIf",r.getItemProp(n,"icon")),m(),g("ngIf",r.getItemProp(n,"escape"))("ngIfElse",e),m(3),g("ngIf",r.getItemProp(n,"badge")),m(),g("ngIf",r.isItemGroup(n))}}function v5(i,t){if(i&1&&O(0,"span",19),i&2){let e=v(4).$implicit,n=v(2);g("ngClass",n.getItemProp(e,"icon"))("ngStyle",n.getItemProp(e,"iconStyle")),I("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function y5(i,t){if(i&1&&(C(0,"span",20),et(1),w()),i&2){let e=v(4).$implicit,n=v(2);I("data-pc-section","label"),m(),Ii(" ",n.getItemLabel(e)," ")}}function _5(i,t){if(i&1&&O(0,"span",21),i&2){let e=v(4).$implicit,n=v(2);g("innerHTML",n.getItemLabel(e),Qs),I("data-pc-section","label")}}function b5(i,t){if(i&1&&(C(0,"span",22),et(1),w()),i&2){let e=v(4).$implicit,n=v(2);g("ngClass",n.getItemProp(e,"badgeStyleClass")),m(),Mt(n.getItemProp(e,"badge"))}}function C5(i,t){i&1&&O(0,"AngleRightIcon",25),i&2&&(g("styleClass","p-submenu-icon"),I("data-pc-section","submenuicon")("aria-hidden",!0))}function w5(i,t){}function x5(i,t){i&1&&E(0,w5,0,0,"ng-template",26),i&2&&g("data-pc-section","submenuicon")("aria-hidden",!0)}function I5(i,t){if(i&1&&(se(0),E(1,C5,1,3,"AngleRightIcon",23)(2,x5,1,2,null,24),oe()),i&2){let e=v(6);m(),g("ngIf",!e.contextMenu.submenuIconTemplate),m(),g("ngTemplateOutlet",e.contextMenu.submenuIconTemplate)}}function S5(i,t){if(i&1&&(C(0,"a",27),E(1,v5,1,5,"span",16)(2,y5,2,2,"span",17)(3,_5,1,2,"ng-template",null,2,Rt)(5,b5,2,2,"span",18)(6,I5,3,2,"ng-container",11),w()),i&2){let e=xt(4),n=v(3).$implicit,r=v(2);g("routerLink",r.getItemProp(n,"routerLink"))("queryParams",r.getItemProp(n,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.getItemProp(n,"routerLinkActiveOptions")||yn(21,r5))("target",r.getItemProp(n,"target"))("ngClass",he(22,s5,r.getItemProp(n,"disabled")))("fragment",r.getItemProp(n,"fragment"))("queryParamsHandling",r.getItemProp(n,"queryParamsHandling"))("preserveFragment",r.getItemProp(n,"preserveFragment"))("skipLocationChange",r.getItemProp(n,"skipLocationChange"))("replaceUrl",r.getItemProp(n,"replaceUrl"))("state",r.getItemProp(n,"state")),I("data-automationid",r.getItemProp(n,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),m(),g("ngIf",r.getItemProp(n,"icon")),m(),g("ngIf",r.getItemProp(n,"escape"))("ngIfElse",e),m(3),g("ngIf",r.getItemProp(n,"badge")),m(),g("ngIf",r.isItemGroup(n))}}function E5(i,t){if(i&1&&(se(0),E(1,m5,7,13,"a",13)(2,S5,7,24,"a",14),oe()),i&2){let e=v(2).$implicit,n=v(2);m(),g("ngIf",!n.getItemProp(e,"routerLink")),m(),g("ngIf",n.getItemProp(e,"routerLink"))}}function T5(i,t){}function D5(i,t){i&1&&E(0,T5,0,0,"ng-template")}function M5(i,t){if(i&1&&(se(0),E(1,D5,1,0,null,28),oe()),i&2){let e=v(2).$implicit,n=v(2);m(),g("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",he(2,o5,e.item))}}function O5(i,t){if(i&1){let e=ce();C(0,"p-contextMenuSub",29),N("itemClick",function(r){A(e);let s=v(4);return k(s.itemClick.emit(r))})("itemMouseEnter",function(r){A(e);let s=v(4);return k(s.onItemMouseEnter(r))}),w()}if(i&2){let e=v(2).$implicit,n=v(2);g("items",e.items)("itemTemplate",n.itemTemplate)("menuId",n.menuId)("visible",n.isItemActive(e)&&n.isItemGroup(e))("activeItemPath",n.activeItemPath)("focusedItemId",n.focusedItemId)("level",n.level+1)}}function A5(i,t){if(i&1){let e=ce();C(0,"li",9,1)(2,"div",10),N("click",function(r){A(e);let s=v().$implicit,o=v(2);return k(o.onItemClick(r,s))})("mouseenter",function(r){A(e);let s=v().$implicit,o=v(2);return k(o.onItemMouseEnter({$event:r,processedItem:s}))}),E(3,E5,3,2,"ng-container",11)(4,M5,2,4,"ng-container",11),w(),E(5,O5,1,7,"p-contextMenuSub",12),w()}if(i&2){let e=v(),n=e.$implicit,r=e.index,s=v(2);H(s.getItemProp(n,"styleClass")),g("ngStyle",s.getItemProp(n,"style"))("ngClass",s.getItemClass(n))("tooltipOptions",s.getItemProp(n,"tooltipOptions")),I("id",s.getItemId(n))("data-pc-section","menuitem")("data-p-highlight",s.isItemActive(n))("data-p-focused",s.isItemFocused(n))("data-p-disabled",s.isItemDisabled(n))("aria-label",s.getItemLabel(n))("aria-disabled",s.isItemDisabled(n)||void 0)("aria-haspopup",s.isItemGroup(n)&&!s.getItemProp(n,"to")?"menu":void 0)("aria-expanded",s.isItemGroup(n)?s.isItemActive(n):void 0)("aria-level",s.level+1)("aria-setsize",s.getAriaSetSize())("aria-posinset",s.getAriaPosInset(r)),m(2),I("data-pc-section","content"),m(),g("ngIf",!s.itemTemplate),m(),g("ngIf",s.itemTemplate),m(),g("ngIf",s.isItemVisible(n)&&s.isItemGroup(n))}}function k5(i,t){if(i&1&&E(0,a5,1,4,"li",6)(1,A5,6,21,"li",7),i&2){let e=t.$implicit,n=v(2);g("ngIf",n.isItemVisible(e)&&n.getItemProp(e,"separator")),m(),g("ngIf",n.isItemVisible(e)&&!n.getItemProp(e,"separator"))}}function P5(i,t){if(i&1){let e=ce();C(0,"ul",4,0),N("@overlayAnimation.start",function(r){A(e);let s=xt(1),o=v();return k(o.onEnter(r,s))})("keydown",function(r){A(e);let s=v();return k(s.menuKeydown.emit(r))})("focus",function(r){A(e);let s=v();return k(s.menuFocus.emit(r))})("blur",function(r){A(e);let s=v();return k(s.menuBlur.emit(r))}),E(2,k5,2,2,"ng-template",5),w()}if(i&2){let e=v();g("ngClass",it(10,n5,!e.root,e.root))("@overlayAnimation",e.visible)("tabindex",e.tabindex),I("id",e.menuId+"_list")("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy)("aria-activedescendant",e.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),m(2),g("ngForOf",e.items)}}var F5=["rootmenu"],R5=["container"],L5=()=>({"p-contextmenu p-component":!0,"p-contextmenu-overlay":!0}),N5=()=>({value:"visible"});function V5(i,t){if(i&1){let e=ce();C(0,"div",3,0),N("@overlayAnimation.start",function(r){A(e);let s=v();return k(s.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){A(e);let s=v();return k(s.onOverlayAnimationEnd(r))}),C(2,"p-contextMenuSub",4,1),N("itemClick",function(r){A(e);let s=v();return k(s.onItemClick(r))})("menuFocus",function(r){A(e);let s=v();return k(s.onMenuFocus(r))})("menuBlur",function(r){A(e);let s=v();return k(s.onMenuBlur(r))})("menuKeydown",function(r){A(e);let s=v();return k(s.onKeyDown(r))})("itemMouseEnter",function(r){A(e);let s=v();return k(s.onItemMouseEnter(r))}),w()()}if(i&2){let e=v();H(e.styleClass),g("ngClass",yn(20,L5))("ngStyle",e.style)("@overlayAnimation",yn(21,N5)),I("data-pc-section","root")("data-pc-name","contextmenu")("id",e.id),m(2),g("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("visible",e.submenuVisible())("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var j5=(()=>{class i{document;el;renderer;cd;contextMenu;ref;visible=!1;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;tabindex=0;itemClick=new U;itemMouseEnter=new U;menuFocus=new U;menuBlur=new U;menuKeydown=new U;sublistViewChild;constructor(e,n,r,s,o,a){this.document=e,this.el=n,this.renderer=r,this.cd=s,this.contextMenu=o,this.ref=a}getItemProp(e,n,r=null){return e&&e.item?ue.getItemValue(e.item[n],r):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return ve(L({},this.getItemProp(e,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return ve(L({},this.getItemProp(e,"class")),{"p-menuitem-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(n=>this.isItemVisible(n)&&this.getItemProp(n,"separator")).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(n=>n.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return ue.isNotEmpty(e.items)}onItemMouseEnter(e){let{event:n,processedItem:r}=e;this.itemMouseEnter.emit({originalEvent:n,processedItem:r})}onItemClick(e,n){this.getItemProp(n,"command",{originalEvent:e,item:n.item}),this.itemClick.emit({originalEvent:e,processedItem:n,isFocus:!0})}onEnter(e,n){if(e.fromState==="void"&&e.toState){let r=e.element;this.position(r)}}position(e){let n=e.parentElement.parentElement,r=M.getOffset(e.parentElement.parentElement),s=M.getViewport(),o=e.offsetParent?e.offsetWidth:M.getHiddenElementOuterWidth(e),a=M.getOuterWidth(n.children[0]);e.style.top="0px",parseInt(r.left,10)+a+o>s.width-M.calculateScrollbarWidth()?e.style.left=-1*o+"px":e.style.left=a+"px"}static \u0275fac=function(n){return new(n||i)(D(Ie),D(pe),D(nt),D(je),D(Ft(()=>Jv)),D(Wn))};static \u0275cmp=B({type:i,selectors:[["p-contextMenuSub"]],viewQuery:function(n,r){if(n&1&&be(t5,5),n&2){let s;X(s=Q())&&(r.sublistViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{visible:[2,"visible","visible",V],items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",V],autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",we],popup:[2,"popup","popup",V],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",we],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",tabindex:[2,"tabindex","tabindex",we]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[Re],decls:1,vars:1,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"ngClass","tabindex","keydown","focus","blur",4,"ngIf"],["role","menu",3,"keydown","focus","blur","ngClass","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level"]],template:function(n,r){n&1&&E(0,P5,3,13,"ul",3),n&2&&g("ngIf",r.root?!0:r.visible)},dependencies:()=>[Ke,er,lt,vt,Xe,$h,DS,sr,qa,uo,i],encapsulation:2,data:{animation:[qn("overlayAnimation",[Ht(":enter",[It({opacity:0})]),Ht(":leave",[It({opacity:0})])])]}})}return i})(),Jv=(()=>{class i{document;platformId;el;renderer;cd;config;overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}triggerEvent="contextmenu";target;global;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;id;ariaLabel;ariaLabelledBy;pressDelay=500;onShow=new U;onHide=new U;templates;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;container;outsideClickListener;resizeListener;triggerEventListener;documentClickListener;documentTriggerListener;touchEndListener;pageX;pageY;visible=mt(!1);relativeAlign;window;focused=!1;activeItemPath=mt([]);focusedItemInfo=mt({index:-1,level:0,parentKey:"",item:null});submenuVisible=mt(!1);searchValue="";searchTimeout;_processedItems;_model;pressTimer;get visibleItems(){let e=this.activeItemPath().find(n=>n.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item&&e.item?.id?e.item.id:e.index!==-1?`${this.id}${ue.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,n,r,s,o,a,l){this.document=e,this.platformId=n,this.el=r,this.renderer=s,this.cd=o,this.config=a,this.overlayService=l,this.window=this.document.defaultView,cs(()=>{let c=this.activeItemPath();ue.isNotEmpty(c)?this.bindGlobalListeners():this.visible()||this.unbindGlobalListeners()})}ngOnInit(){this.id=this.id||ut(),this.bindTriggerEventListener()}isMobile(){return M.isIOS()||M.isAndroid()}bindTriggerEventListener(){gt(this.platformId)&&(this.triggerEventListener||(this.isMobile()?this.global?(this.triggerEventListener=this.renderer.listen(this.document,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.document,"touchend",this.onTouchEnd.bind(this))):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.target,"touchend",this.onTouchEnd.bind(this))):this.global?this.triggerEventListener=this.renderer.listen(this.document,this.triggerEvent,e=>{this.show(e)}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,e=>{this.show(e)}))))}bindGlobalListeners(){if(gt(this.platformId)){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",n=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(n)&&!n.ctrlKey&&n.button!==2&&this.triggerEvent!=="click"&&this.hide()}),this.documentTriggerListener=this.renderer.listen(e,this.triggerEvent,n=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(n)&&this.hide()})}this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()}))}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this.submenuIconTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}createProcessedItems(e,n=0,r={},s=""){let o=[];return e&&e.forEach((a,l)=>{let c=(s!==""?s+"_":"")+l,u={item:a,index:l,level:n,key:c,parent:r,parentKey:s};u.items=this.createProcessedItems(a.items,n+1,u,c),o.push(u)}),o}getItemProp(e,n){return e?ue.getItemValue(e[n]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&ue.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(n=>n.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&ue.isNotEmpty(e.items)}onItemClick(e){let{processedItem:n}=e,r=this.isProcessedItemGroup(n);if(this.isSelected(n)){let{index:o,key:a,level:l,parentKey:c,item:u}=n;this.activeItemPath.set(this.activeItemPath().filter(d=>a!==d.key&&a.startsWith(d.key))),this.focusedItemInfo.set({index:o,level:l,parentKey:c,item:u}),M.focus(this.rootmenu.sublistViewChild.nativeElement)}else r?this.onItemChange(e):this.hide()}onItemMouseEnter(e){this.onItemChange(e)}onKeyDown(e){let n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!n&&ue.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let n=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,n),e.preventDefault()}onArrowRightKey(e){let n=this.visibleItems[this.focusedItemInfo().index];this.isProccessedItemGroup(n)&&(this.onItemChange({originalEvent:e,processedItem:n}),this.focusedItemInfo.set({index:-1,parentKey:n.key,item:n.item}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let n=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(n)&&this.onItemChange({originalEvent:e,processedItem:n})}this.hide(),e.preventDefault()}else{let n=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,n),e.preventDefault()}}onArrowLeftKey(e){let n=this.visibleItems[this.focusedItemInfo().index],r=this.activeItemPath().find(a=>a.key===n.parentKey);ue.isEmpty(n.parent)||(this.focusedItemInfo.set({index:-1,parentKey:r?r.parentKey:"",item:n.item}),this.searchValue="",this.onArrowDownKey(e));let o=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(o),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide();let n=this.findVisibleItem(this.findFirstFocusedItemIndex()),r=this.focusedItemInfo();this.focusedItemInfo.set(ve(L({},r),{index:this.findFirstFocusedItemIndex(),item:n.item})),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let n=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(n)&&this.onItemChange({originalEvent:e,processedItem:n})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let n=M.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),r=n&&M.findSingle(n,'a[data-pc-section="action"]');r?r.click():n&&n.click();let s=this.visibleItems[this.focusedItemInfo().index];if(!this.isProccessedItemGroup(s)){let a=this.focusedItemInfo();this.focusedItemInfo.set(ve(L({},a),{index:this.findFirstFocusedItemIndex()}))}}e.preventDefault()}onItemChange(e){let{processedItem:n,isFocus:r}=e;if(ue.isEmpty(n))return;let{index:s,key:o,level:a,parentKey:l,items:c}=n,u=ue.isNotEmpty(c),d=this.activeItemPath().filter(h=>h.parentKey!==l&&h.parentKey!==o);u&&(d.push(n),this.submenuVisible.set(!0)),this.focusedItemInfo.set({index:s,level:a,parentKey:l,item:n.item}),this.activeItemPath.set(d),r&&M.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(e){this.focused=!0;let n=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:-1,level:0,parentKey:"",item:null};this.focusedItemInfo.set(n)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue=""}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.position(),this.moveOnTop(),this.appendOverlay(),this.bindGlobalListeners(),M.focus(this.rootmenu.sublistViewChild.nativeElement);break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.containerViewChild.nativeElement):M.appendChild(this.containerViewChild.nativeElement,this.appendTo))}moveOnTop(){this.autoZIndex&&this.containerViewChild&&Xt.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}onOverlayHide(){this.unbindGlobalListeners(),this.cd.destroyed||(this.target=null),this.container&&this.autoZIndex&&Xt.clear(this.container),this.container=null}onTouchStart(e){this.pressTimer=setTimeout(()=>{this.show(e)},this.pressDelay)}onTouchEnd(){clearTimeout(this.pressTimer)}hide(){this.visible.set(!1),this.onHide.emit(),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null})}toggle(e){this.visible()?this.hide():this.show(e)}show(e){this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.pageX=e.pageX,this.pageY=e.pageY,this.onShow.emit(),this.visible()?this.position():this.visible.set(!0),e.stopPropagation(),e.preventDefault()}position(){let e=this.pageX+1,n=this.pageY+1,r=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:M.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),s=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:M.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),o=M.getViewport();e+r-this.document.scrollingElement.scrollLeft>o.width&&(e-=r),n+s-this.document.scrollingElement.scrollTop>o.height&&(n-=s),e<this.document.scrollingElement.scrollLeft&&(e=this.document.scrollingElement.scrollLeft),n<this.document.scrollingElement.scrollTop&&(n=this.document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=e+"px",this.containerViewChild.nativeElement.style.top=n+"px"}searchItems(e,n){this.searchValue=(this.searchValue||"")+n;let r=-1,s=!1;return this.focusedItemInfo().index!==-1?(r=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)),r=r===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)):r+this.focusedItemInfo().index):r=this.visibleItems.findIndex(o=>this.isItemMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedItemInfo().index===-1&&(r=this.findFirstFocusedItemIndex()),r!==-1&&this.changeFocusedItemIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}findVisibleItem(e){return ue.isNotEmpty(this.visibleItems)?this.visibleItems[e]:null}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return ue.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let n=e>0?ue.findLastIndex(this.visibleItems.slice(0,e),r=>this.isValidItem(r)):-1;return n>-1?n:e}findNextItemIndex(e){let n=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(r=>this.isValidItem(r)):-1;return n>-1?n+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,n){let r=this.findVisibleItem(n),s=this.focusedItemInfo();s.index!==n&&(this.focusedItemInfo.set(ve(L({},s),{index:n,item:r.item})),this.scrollInView())}scrollInView(e=-1){let n=e!==-1?`${this.id}_${e}`:this.focusedItemId,r=M.findSingle(this.rootmenu.el.nativeElement,`li[id="${n}"]`);r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})}bindResizeListener(){gt(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()})))}isOutsideClicked(e){return!(this.containerViewChild.nativeElement.isSameNode(e.target)||this.containerViewChild.nativeElement.contains(e.target))}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.resizeListener&&(this.resizeListener(),this.resizeListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}unbindTriggerEventListener(){this.triggerEventListener&&(this.triggerEventListener(),this.triggerEventListener=null)}removeAppendedElements(){this.appendTo&&this.containerViewChild&&(this.appendTo==="body"?this.renderer.removeChild(this.document.body,this.containerViewChild.nativeElement):M.removeChild(this.containerViewChild.nativeElement,this.appendTo))}ngOnDestroy(){this.unbindGlobalListeners(),this.unbindTriggerEventListener(),this.removeAppendedElements()}static \u0275fac=function(n){return new(n||i)(D(Ie),D(ot),D(pe),D(nt),D(je),D(Ot),D(Wa))};static \u0275cmp=B({type:i,selectors:[["p-contextMenu"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},viewQuery:function(n,r){if(n&1&&(be(F5,5),be(R5,5)),n&2){let s;X(s=Q())&&(r.rootmenu=s.first),X(s=Q())&&(r.containerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",triggerEvent:"triggerEvent",target:"target",global:[2,"global","global",V],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",we],id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",pressDelay:[2,"pressDelay","pressDelay",we]},outputs:{onShow:"onShow",onHide:"onHide"},features:[Re],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","visible","focusedItemId","activeItemPath"]],template:function(n,r){n&1&&E(0,V5,4,22,"div",2),n&2&&g("ngIf",r.visible())},dependencies:[Ke,lt,Xe,j5],styles:[`@layer primeng{.p-contextmenu{position:absolute}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-contextmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}}
`],encapsulation:2,data:{animation:[qn("overlayAnimation",[Ht(":enter",[It({opacity:0}),Yt("250ms")]),Ht(":leave",[Yt(".1s linear",It({opacity:0}))])])]},changeDetection:0})}return i})(),sE=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,Ua,or,di,uo,Qe,Ua,di,Qe]})}return i})();function oE(i,t,e,n,r,s,o,a,l){let c=[],u=i?.data?.id,d=i?.evented;return u&&["traffic-light-pedestrian"].includes(u)&&c.push({label:"\u0421\u0432\u0435\u0442\u043E\u0444\u043E\u0440",icon:"pi pi-circle-fill",items:[{label:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439",icon:"pi pi-circle-fill pi-color-red",command:()=>o("red")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green")}]}),u&&["traffic-light-classic"].includes(u)&&c.push({label:"\u0421\u0432\u0435\u0442\u043E\u0444\u043E\u0440",icon:"pi pi-circle-fill",items:[{label:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439",icon:"pi pi-circle-fill pi-color-red",command:()=>o("red")},{label:"\u0416\u0435\u043B\u0442\u044B\u0439",icon:"pi pi-circle-fill pi-color-yellow",command:()=>o("yellow")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green")}]}),u&&["traffic-light-classic-turn","traffic-light-classic-turn-back","traffic-light-classic-arrow"].includes(u)&&c.push({label:"\u0421\u0432\u0435\u0442\u043E\u0444\u043E\u0440",icon:"pi pi-circle-fill",items:[{label:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439",icon:"pi pi-circle-fill pi-color-red",command:()=>o("red")},{label:"\u0416\u0435\u043B\u0442\u044B\u0439",icon:"pi pi-circle-fill pi-color-yellow",command:()=>o("yellow")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439 (\u043F\u043E\u0432\u043E\u0440\u043E\u0442)",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green-arrow")},{label:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439 + (\u043F\u043E\u0432\u043E\u0440\u043E\u0442)",icon:"pi pi-circle-fill pi-color-red",command:()=>o("red-arrow-turn+")},{label:"\u0416\u0435\u043B\u0442\u044B\u0439 + (\u043F\u043E\u0432\u043E\u0440\u043E\u0442)",icon:"pi pi-circle-fill pi-color-yellow",command:()=>o("yellow-arrow-turn+")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439 + (\u043F\u043E\u0432\u043E\u0440\u043E\u0442)",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green-arrow-turn+")}]}),u&&["traffic-light-classic-left-right"].includes(u)&&c.push({label:"\u0421\u0432\u0435\u0442\u043E\u0444\u043E\u0440",icon:"pi pi-circle-fill",items:[{label:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439",icon:"pi pi-circle-fill pi-color-red",command:()=>o("red")},{label:"\u0416\u0435\u043B\u0442\u044B\u0439",icon:"pi pi-circle-fill pi-color-yellow",command:()=>o("yellow")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439 (\u043F\u043E\u0432\u043E\u0440\u043E\u0442 >)",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green-arrow-right")},{label:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439 + (\u043F\u043E\u0432\u043E\u0440\u043E\u0442 >)",icon:"pi pi-circle-fill pi-color-red",command:()=>o("red-arrow-turn-right")},{label:"\u0416\u0435\u043B\u0442\u044B\u0439 + (\u043F\u043E\u0432\u043E\u0440\u043E\u0442 >)",icon:"pi pi-circle-fill pi-color-yellow",command:()=>o("yellow-arrow-turn-right")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439 + (\u043F\u043E\u0432\u043E\u0440\u043E\u0442 >)",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green-arrow-turn-right")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439 (\u043F\u043E\u0432\u043E\u0440\u043E\u0442 <)",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green-arrow-left")},{label:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439 + (\u043F\u043E\u0432\u043E\u0440\u043E\u0442 <)",icon:"pi pi-circle-fill pi-color-red",command:()=>o("red-arrow-turn-left")},{label:"\u0416\u0435\u043B\u0442\u044B\u0439 + (\u043F\u043E\u0432\u043E\u0440\u043E\u0442 <)",icon:"pi pi-circle-fill pi-color-yellow",command:()=>o("yellow-arrow-turn-left")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439 + (\u043F\u043E\u0432\u043E\u0440\u043E\u0442 <)",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green-arrow-turn-left")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439 \u0432\u0441\u0435",icon:"pi pi-circle-fill pi-color-green",command:()=>o("green-all")}]}),(u?.startsWith("c-")||i?.data?.isText)&&c.push({label:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0446\u0432\u0435\u0442",icon:"pi pi-palette",items:[{label:"\u0411\u0435\u043B\u044B\u0439",icon:"pi pi-circle-fill pi-color-white",command:()=>s("#f1f5f9")},{label:"\u0411\u0435\u0436\u0435\u0432\u044B\u0439",icon:"pi pi-circle-fill pi-color-beige",command:()=>s("#faedc4")},{label:"\u0413\u043E\u043B\u0443\u0431\u043E\u0439",icon:"pi pi-circle-fill pi-color-light-blue",command:()=>s("#d0e1fd")},{label:"\u0421\u0435\u0440\u044B\u0439",icon:"pi pi-circle-fill pi-color-grey",command:()=>s("#94a3b8")},{label:"\u0416\u0435\u043B\u0442\u044B\u0439",icon:"pi pi-circle-fill pi-color-yellow",command:()=>s("#eab308")},{label:"\u0421\u0438\u043D\u0438\u0439",icon:"pi pi-circle-fill pi-color-blue",command:()=>s("#295bac")},{label:"\u0424\u0438\u043E\u043B\u0435\u0442\u043E\u0432\u044B\u0439",icon:"pi pi-circle-fill pi-color-violet",command:()=>s("#8f48d2")},{label:"\u041A\u043E\u0440\u0438\u0447\u043D\u0435\u0432\u044B\u0439",icon:"pi pi-circle-fill pi-color-brown",command:()=>s("#893f0c")},{label:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439",icon:"pi pi-circle-fill pi-color-red",command:()=>s("#d9342b")},{label:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439",icon:"pi pi-circle-fill pi-color-green",command:()=>s("#119c8d")}]}),c.push({label:"\u0417\u0435\u0440\u043A\u0430\u043B\u043E",icon:"pi pi-arrows-alt",items:[{label:"\u0413\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",icon:"pi pi-arrows-h",command:n},{label:"\u0412\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",icon:"pi pi-arrows-v",command:r}]}),i&&c.push({label:"\u041A\u043B\u043E\u043D",icon:"pi pi-clone",command:a}),c.push({label:d?"\u0411\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C":"\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C",icon:d?"pi pi-lock":"pi pi-lock-open",command:l}),i?.data?.id||i?.data?.isDrawing?c.push({label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u043B\u0435\u043C\u0435\u043D\u0442",icon:"pi pi-trash",command:t}):c.push({label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0433\u0440\u0443\u043F\u043F\u0443",icon:"pi pi-trash",command:e}),c}function aE(i,t){let e=[];return e.push({label:"\u0421\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435",icon:"pi pi-pencil",command:()=>i()},{label:"\u0421\u0442\u0440\u0435\u043B\u043A\u0438",icon:"pi pi-arrow-right",command:()=>i("arrow")},{label:"\u041B\u0438\u043D\u0438\u0438",icon:"pi pi-minus",command:()=>i("line")},{label:"\u041F\u0443\u043D\u043A\u0442\u0438\u0440",icon:"pi pi-ellipsis-h",command:()=>i("dashed-line")},{label:"\u0424\u0438\u0433\u0443\u0440\u044B",icon:"pi pi-th-large",items:[{label:"\u041A\u0440\u0435\u0441\u0442\u0438\u043A",icon:"",command:()=>t("Cross")},{label:"\u041A\u0440\u0443\u0433",icon:"",command:()=>t("Circle")},{label:"\u041A\u0432\u0430\u0434\u0440\u0430\u0442",icon:"",command:()=>t("Square")}]}),e}var hi=(()=>{class i{autofocus=!1;focused=!1;platformId=j(ot);document=j(Ie);host=j(pe);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){gt(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=M.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=st({type:i,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",V]},standalone:!0,features:[Re]})}return i})(),ar=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({})}return i})();var Oc=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["SpinnerIcon"]],standalone:!0,features:[fe,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1),w(),C(3,"defs")(4,"clipPath",2),O(5,"rect",3),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var H5=["*"],lE=i=>({class:i});function U5(i,t){i&1&&Te(0)}function z5(i,t){if(i&1&&O(0,"span",8),i&2){let e=v(3);g("ngClass",e.iconClass()),I("aria-hidden",!0)("data-pc-section","loadingicon")}}function $5(i,t){if(i&1&&O(0,"SpinnerIcon",9),i&2){let e=v(3);g("styleClass",e.spinnerIconClass())("spin",!0),I("aria-hidden",!0)("data-pc-section","loadingicon")}}function G5(i,t){if(i&1&&(se(0),E(1,z5,1,3,"span",6)(2,$5,1,4,"SpinnerIcon",7),oe()),i&2){let e=v(2);m(),g("ngIf",e.loadingIcon),m(),g("ngIf",!e.loadingIcon)}}function W5(i,t){}function q5(i,t){if(i&1&&E(0,W5,0,0,"ng-template",10),i&2){let e=v(2);g("ngIf",e.loadingIconTemplate)}}function Y5(i,t){if(i&1&&(se(0),E(1,G5,3,2,"ng-container",2)(2,q5,1,1,null,5),oe()),i&2){let e=v();m(),g("ngIf",!e.loadingIconTemplate),m(),g("ngTemplateOutlet",e.loadingIconTemplate)("ngTemplateOutletContext",he(3,lE,e.iconClass()))}}function K5(i,t){if(i&1&&O(0,"span",8),i&2){let e=v(2);g("ngClass",e.iconClass()),I("data-pc-section","icon")}}function X5(i,t){}function Q5(i,t){if(i&1&&E(0,X5,0,0,"ng-template",10),i&2){let e=v(2);g("ngIf",!e.icon&&e.iconTemplate)}}function Z5(i,t){if(i&1&&(se(0),E(1,K5,1,2,"span",6)(2,Q5,1,1,null,5),oe()),i&2){let e=v();m(),g("ngIf",e.icon&&!e.iconTemplate),m(),g("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",he(3,lE,e.iconClass()))}}function J5(i,t){if(i&1&&(C(0,"span",11),et(1),w()),i&2){let e=v();I("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),m(),Mt(e.label)}}function e8(i,t){if(i&1&&(C(0,"span",8),et(1),w()),i&2){let e=v();H(e.badgeClass),g("ngClass",e.badgeStyleClass()),I("data-pc-section","badge"),m(),Mt(e.badge)}}var ys={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},tp=(()=>{class i{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(ys);constructor(e,n){this.el=e,this.document=n}ngAfterViewInit(){M.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let e=[ys.button,ys.component];return this.icon&&!this.label&&ue.isEmpty(this.htmlElement.textContent)&&e.push(ys.iconOnly),this.loading&&(e.push(ys.disabled,ys.loading),!this.icon&&this.label&&e.push(ys.labelOnly),this.icon&&!this.label&&!ue.isEmpty(this.htmlElement.textContent)&&e.push(ys.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),e}setStyleClass(){let e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!M.findSingle(this.htmlElement,".p-button-label")&&this.label){let n=this.document.createElement("span");this.icon&&!this.label&&n.setAttribute("aria-hidden","true"),n.className="p-button-label",n.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(n)}}createIcon(){if(!M.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let n=this.document.createElement("span");n.className="p-button-icon",n.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&M.addClass(n,r);let s=this.getIconClass();s&&M.addMultipleClasses(n,s),this.htmlElement.insertBefore(n,this.htmlElement.firstChild)}}updateLabel(){let e=M.findSingle(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=M.findSingle(this.htmlElement,".p-button-icon"),n=M.findSingle(this.htmlElement,".p-button-label");e?this.iconPos?e.className="p-button-icon "+(n?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(n){return new(n||i)(D(pe),D(Ie))};static \u0275dir=st({type:i,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",V],rounded:[2,"rounded","rounded",V],text:[2,"text","text",V],outlined:[2,"outlined","outlined",V],size:"size",plain:[2,"plain","plain",V]},standalone:!0,features:[Re]})}return i})(),Ac=(()=>{class i{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new U;onFocus=new U;onBlur=new U;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[n])=>e+` ${n}`,"p-button-loading-icon")}iconClass(){let e={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?e[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(e[this.icon]=!0),e}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(n){return new(n||i)(D(pe))};static \u0275cmp=B({type:i,selectors:[["p-button"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(n,r){n&2&&sn("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",V],loading:[2,"loading","loading",V],loadingIcon:"loadingIcon",raised:[2,"raised","raised",V],rounded:[2,"rounded","rounded",V],text:[2,"text","text",V],plain:[2,"plain","plain",V],severity:"severity",outlined:[2,"outlined","outlined",V],link:[2,"link","link",V],tabindex:[2,"tabindex","tabindex",we],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",V]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Re,J],ngContentSelectors:H5,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(n,r){n&1&&(mn(),C(0,"button",0),N("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),on(1),E(2,U5,1,0,"ng-container",1)(3,Y5,3,5,"ng-container",2)(4,Z5,3,5,"ng-container",2)(5,J5,2,3,"span",3)(6,e8,2,5,"span",4),w()),n&2&&(g("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),I("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),m(2),g("ngTemplateOutlet",r.contentTemplate),m(),g("ngIf",r.loading),m(),g("ngIf",!r.loading),m(),g("ngIf",!r.contentTemplate&&r.label),m(),g("ngIf",!r.contentTemplate&&r.badge))},dependencies:[lt,vt,Xe,Ke,sr,hi,Oc],encapsulation:2,changeDetection:0})}return i})(),ho=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Ac,Qe]})}return i})();var t8=["input"],n8=(i,t,e)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":i,"p-disabled":t,"p-focus":e}),i8={provide:Nn,useExisting:Ft(()=>ty),multi:!0},ty=(()=>{class i{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;autofocus;onChange=new U;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}onClick(e){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(e){this.modelValue=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(n){return new(n||i)(D(je))};static \u0275cmp=B({type:i,selectors:[["p-inputSwitch"]],viewQuery:function(n,r){if(n&1&&be(t8,5),n&2){let s;X(s=Q())&&(r.input=s.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",we],inputId:"inputId",name:"name",disabled:[2,"disabled","disabled",V],readonly:[2,"readonly","readonly",V],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",V]},outputs:{onChange:"onChange"},features:[vn([i8]),Re],decls:5,vars:23,consts:[["input",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","checkbox","role","switch","pAutoFocus","",3,"focus","blur","checked","disabled","autofocus"],[1,"p-inputswitch-slider"]],template:function(n,r){if(n&1){let s=ce();C(0,"div",1),N("click",function(a){return A(s),k(r.onClick(a))}),C(1,"div",2)(2,"input",3,0),N("focus",function(){return A(s),k(r.onFocus())})("blur",function(){return A(s),k(r.onBlur())}),w()(),O(4,"span",4),w()}n&2&&(H(r.styleClass),g("ngClass",Zi(19,n8,r.checked(),r.disabled,r.focused))("ngStyle",r.style),I("data-pc-name","inputswitch")("data-pc-section","root"),m(),I("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),m(),g("checked",r.checked())("disabled",r.disabled)("autofocus",r.autofocus),I("id",r.inputId)("aria-checked",r.checked())("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("name",r.name)("tabindex",r.tabindex)("data-pc-section","hiddenInput"),m(2),I("data-pc-section","slider"))},dependencies:[Ke,Xe,hi],styles:[`@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0;border:1px solid transparent}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}
`],encapsulation:2,changeDetection:0})}return i})(),cE=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,ar]})}return i})();var s8=["*"];function o8(i,t){i&1&&Te(0)}function a8(i,t){if(i&1&&(C(0,"div",4),E(1,o8,1,0,"ng-container",5),w()),i&2){let e=v();I("data-pc-section","start"),m(),g("ngTemplateOutlet",e.startTemplate)}}function l8(i,t){i&1&&Te(0)}function c8(i,t){if(i&1&&(C(0,"div",6),E(1,l8,1,0,"ng-container",5),w()),i&2){let e=v();I("data-pc-section","center"),m(),g("ngTemplateOutlet",e.centerTemplate)}}function u8(i,t){i&1&&Te(0)}function d8(i,t){if(i&1&&(C(0,"div",7),E(1,u8,1,0,"ng-container",5),w()),i&2){let e=v();I("data-pc-section","end"),m(),g("ngTemplateOutlet",e.endTemplate)}}var np=(()=>{class i{el;style;styleClass;ariaLabelledBy;templates;startTemplate;endTemplate;centerTemplate;constructor(e){this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":case"left":this.startTemplate=e.template;break;case"end":case"right":this.endTemplate=e.template;break;case"center":this.centerTemplate=e.template;break}})}static \u0275fac=function(n){return new(n||i)(D(pe))};static \u0275cmp=B({type:i,selectors:[["p-toolbar"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:s8,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(n,r){n&1&&(mn(),C(0,"div",0),on(1),E(2,a8,2,2,"div",1)(3,c8,2,2,"div",2)(4,d8,2,2,"div",3),w()),n&2&&(H(r.styleClass),g("ngClass","p-toolbar p-component")("ngStyle",r.style),I("aria-labelledby",r.ariaLabelledBy)("data-pc-name","toolbar"),m(2),g("ngIf",r.startTemplate),m(),g("ngIf",r.centerTemplate),m(),g("ngIf",r.endTemplate))},dependencies:[Ke,lt,vt,Xe],styles:[`@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}
`],encapsulation:2,changeDetection:0})}return i})(),ip=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,Qe,Qe]})}return i})();var h8=["container"],p8=["input"],f8=["colorSelector"],g8=["colorHandle"],m8=["hue"],v8=["hueHandle"],y8=(i,t)=>({"p-colorpicker p-component":!0,"p-colorpicker-overlay":i,"p-colorpicker-dragging":t}),_8=i=>({"p-disabled":i}),b8=(i,t)=>({"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":i,"p-disabled":t}),C8=(i,t)=>({showTransitionParams:i,hideTransitionParams:t}),w8=i=>({value:"visible",params:i});function x8(i,t){if(i&1){let e=ce();C(0,"input",9,1),N("click",function(){A(e);let r=v();return k(r.onInputClick())})("keydown",function(r){A(e);let s=v();return k(s.onInputKeydown(r))})("focus",function(){A(e);let r=v();return k(r.onInputFocus())}),w()}if(i&2){let e=v();Ki("background-color",e.inputBgColor),g("ngClass",he(9,_8,e.disabled))("disabled",e.disabled)("autofocus",e.autofocus),I("tabindex",e.tabindex)("id",e.inputId)("data-pc-section","input")("aria-label",e.ariaLabel)}}function I8(i,t){if(i&1){let e=ce();C(0,"div",10),N("click",function(r){A(e);let s=v();return k(s.onOverlayClick(r))})("@overlayAnimation.start",function(r){A(e);let s=v();return k(s.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){A(e);let s=v();return k(s.onOverlayAnimationEnd(r))}),C(1,"div",11)(2,"div",12,2),N("touchstart",function(r){A(e);let s=v();return k(s.onColorDragStart(r))})("touchmove",function(r){A(e);let s=v();return k(s.onDrag(r))})("touchend",function(){A(e);let r=v();return k(r.onDragEnd())})("mousedown",function(r){A(e);let s=v();return k(s.onColorMousedown(r))}),C(4,"div",13),O(5,"div",14,3),w()(),C(7,"div",15,4),N("mousedown",function(r){A(e);let s=v();return k(s.onHueMousedown(r))})("touchstart",function(r){A(e);let s=v();return k(s.onHueDragStart(r))})("touchmove",function(r){A(e);let s=v();return k(s.onDrag(r))})("touchend",function(){A(e);let r=v();return k(r.onDragEnd())}),O(9,"div",16,5),w()()()}if(i&2){let e=v();g("ngClass",it(10,b8,!e.inline,e.disabled))("@overlayAnimation",he(16,w8,it(13,C8,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),I("data-pc-section","panel"),m(),I("data-pc-section","content"),m(),I("data-pc-section","selector"),m(2),I("data-pc-section","color"),m(),I("data-pc-section","colorHandle"),m(2),I("data-pc-section","hue"),m(2),I("data-pc-section","hueHandle")}}var S8={provide:Nn,useExisting:Ft(()=>ny),multi:!0},ny=(()=>{class i{document;platformId;el;renderer;cd;config;overlayService;style;styleClass;inline;format="hex";appendTo;disabled;tabindex;inputId;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;onChange=new U;onShow=new U;onHide=new U;containerViewChild;inputViewChild;value={h:0,s:100,b:100};inputBgColor;shown;overlayVisible;defaultColor="ff0000";onModelChange=()=>{};onModelTouched=()=>{};documentClickListener;documentResizeListener;documentMousemoveListener;documentMouseupListener;documentHueMoveListener;scrollHandler;selfClick;colorDragging;hueDragging;overlay;colorSelectorViewChild;colorHandleViewChild;hueViewChild;hueHandleViewChild;window;constructor(e,n,r,s,o,a,l){this.document=e,this.platformId=n,this.el=r,this.renderer=s,this.cd=o,this.config=a,this.overlayService=l,this.window=this.document.defaultView}set colorSelector(e){this.colorSelectorViewChild=e}set colorHandle(e){this.colorHandleViewChild=e}set hue(e){this.hueViewChild=e}set hueHandle(e){this.hueHandleViewChild=e}get ariaLabel(){return this.config?.getTranslation(Vn.ARIA)[Vn.SELECT_COLOR]}onHueMousedown(e){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(e))}onHueDragStart(e){this.disabled||(this.hueDragging=!0,this.pickHue(e,e.changedTouches[0]))}onColorDragStart(e){this.disabled||(this.colorDragging=!0,this.pickColor(e,e.changedTouches[0]))}pickHue(e,n){let r=n?n.pageY:e.pageY,s=this.hueViewChild?.nativeElement.getBoundingClientRect().top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,r-s)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}onColorMousedown(e){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(e))}onDrag(e){this.colorDragging&&(this.pickColor(e,e.changedTouches[0]),e.preventDefault()),this.hueDragging&&(this.pickHue(e,e.changedTouches[0]),e.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(e,n){let r=n?n.pageX:e.pageX,s=n?n.pageY:e.pageY,o=this.colorSelectorViewChild?.nativeElement.getBoundingClientRect(),a=o.top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0),l=o.left+this.document.body.scrollLeft,c=Math.floor(100*Math.max(0,Math.min(150,r-l))/150),u=Math.floor(100*(150-Math.max(0,Math.min(150,s-a)))/150);this.value=this.validateHSB({h:this.value.h,s:c,b:u}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}getValueToUpdate(){let e;switch(this.format){case"hex":e="#"+this.HSBtoHEX(this.value);break;case"rgb":e=this.HSBtoRGB(this.value);break;case"hsb":e=this.value;break}return e}updateModel(){this.onModelChange(this.getValueToUpdate()),this.cd.markForCheck()}writeValue(e){if(e)switch(this.format){case"hex":this.value=this.HEXtoHSB(e);break;case"rgb":this.value=this.RGBtoHSB(e);break;case"hsb":this.value=e;break}else this.value=this.HEXtoHSB(this.defaultColor);setTimeout(()=>{this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()})}updateColorSelector(){if(this.colorSelectorViewChild){let e={};e.s=100,e.b=100,e.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(e)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild?.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&Xt.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide();break}}onOverlayAnimationEnd(e){switch(e.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&Xt.clear(e.element),this.onHide.emit({});break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):M.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.overlay)}alignOverlay(){this.appendTo?M.absolutePosition(this.overlay,this.inputViewChild?.nativeElement):M.relativePosition(this.overlay,this.inputViewChild?.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(e){switch(e.code){case"Space":this.togglePanel(),e.preventDefault();break;case"Escape":case"Tab":this.hide();break;default:break}}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}bindDocumentClickListener(){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){if(!this.documentMousemoveListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMousemoveListener=this.renderer.listen(e,"mousemove",n=>{this.colorDragging&&this.pickColor(n),this.hueDragging&&this.pickHue(n)})}}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){if(!this.documentMouseupListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMouseupListener=this.renderer.listen(e,"mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()})}}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){gt(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!M.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new vs(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}}validateRGB(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}}validateHEX(e){var n=6-e.length;if(n>0){for(var r=[],s=0;s<n;s++)r.push("0");r.push(e),e=r.join("")}return e}HEXtoRGB(e){let n=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:n>>16,g:(n&65280)>>8,b:n&255}}HEXtoHSB(e){return this.RGBtoHSB(this.HEXtoRGB(e))}RGBtoHSB(e){var n={h:0,s:0,b:0},r=Math.min(e.r,e.g,e.b),s=Math.max(e.r,e.g,e.b),o=s-r;return n.b=s,n.s=s!=0?255*o/s:0,n.s!=0?e.r==s?n.h=(e.g-e.b)/o:e.g==s?n.h=2+(e.b-e.r)/o:n.h=4+(e.r-e.g)/o:n.h=-1,n.h*=60,n.h<0&&(n.h+=360),n.s*=100/255,n.b*=100/255,n}HSBtoRGB(e){var n={r:0,g:0,b:0};let r=e.h,s=e.s*255/100,o=e.b*255/100;if(s==0)n={r:o,g:o,b:o};else{let a=o,l=(255-s)*o/255,c=(a-l)*(r%60)/60;r==360&&(r=0),r<60?(n.r=a,n.b=l,n.g=l+c):r<120?(n.g=a,n.b=l,n.r=a-c):r<180?(n.g=a,n.r=l,n.b=l+c):r<240?(n.b=a,n.r=l,n.g=a-c):r<300?(n.b=a,n.g=l,n.r=l+c):r<360?(n.r=a,n.g=l,n.b=a-c):(n.r=0,n.g=0,n.b=0)}return{r:Math.round(n.r),g:Math.round(n.g),b:Math.round(n.b)}}RGBtoHEX(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var r in n)n[r].length==1&&(n[r]="0"+n[r]);return n.join("")}HSBtoHEX(e){return this.RGBtoHEX(this.HSBtoRGB(e))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&Xt.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(n){return new(n||i)(D(Ie),D(ot),D(pe),D(nt),D(je),D(Ot),D(Wa))};static \u0275cmp=B({type:i,selectors:[["p-colorPicker"]],viewQuery:function(n,r){if(n&1&&(be(h8,5),be(p8,5),be(f8,5),be(g8,5),be(m8,5),be(v8,5)),n&2){let s;X(s=Q())&&(r.containerViewChild=s.first),X(s=Q())&&(r.inputViewChild=s.first),X(s=Q())&&(r.colorSelector=s.first),X(s=Q())&&(r.colorHandle=s.first),X(s=Q())&&(r.hue=s.first),X(s=Q())&&(r.hueHandle=s.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:[2,"inline","inline",V],format:"format",appendTo:"appendTo",disabled:[2,"disabled","disabled",V],tabindex:"tabindex",inputId:"inputId",autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",we],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",V]},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[vn([S8]),Re],decls:4,vars:11,consts:[["container",""],["input",""],["colorSelector",""],["colorHandle",""],["hue",""],["hueHandle",""],[3,"ngStyle","ngClass"],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly","pAutoFocus","",3,"ngClass","disabled","backgroundColor","autofocus","click","keydown","focus",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly","pAutoFocus","",1,"p-colorpicker-preview","p-inputtext",3,"click","keydown","focus","ngClass","disabled","autofocus"],[3,"click","ngClass"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],[1,"p-colorpicker-hue-handle"]],template:function(n,r){n&1&&(C(0,"div",6,0),E(2,x8,2,11,"input",7)(3,I8,11,18,"div",8),w()),n&2&&(H(r.styleClass),g("ngStyle",r.style)("ngClass",it(8,y8,!r.inline,r.colorDragging||r.hueDragging)),I("data-pc-name","colorpicker")("data-pc-section","root"),m(2),g("ngIf",!r.inline),m(),g("ngIf",r.inline||r.overlayVisible))},dependencies:[Ke,lt,Xe,hi],styles:[`@layer primeng{.p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}}
`],encapsulation:2,data:{animation:[qn("overlayAnimation",[Ht(":enter",[It({opacity:0,transform:"scaleY(0.8)"}),Yt("{{showTransitionParams}}")]),Ht(":leave",[Yt("{{hideTransitionParams}}",It({opacity:0}))])])]},changeDetection:0})}return i})(),dE=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,ar]})}return i})();var T8=["sliderHandle"],D8=["sliderHandleStart"],M8=["sliderHandleEnd"],O8=(i,t,e,n)=>({"p-slider p-component":!0,"p-disabled":i,"p-slider-horizontal":t,"p-slider-vertical":e,"p-slider-animate":n}),A8=(i,t)=>({left:i,width:t}),k8=(i,t)=>({bottom:i,height:t}),P8=i=>({height:i}),F8=i=>({width:i}),iy=(i,t)=>({left:i,bottom:t}),hE=i=>({"p-slider-handle-active":i});function R8(i,t){if(i&1&&O(0,"span",8),i&2){let e=v();g("ngStyle",it(2,A8,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),I("data-pc-section","range")}}function L8(i,t){if(i&1&&O(0,"span",8),i&2){let e=v();g("ngStyle",it(2,k8,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),I("data-pc-section","range")}}function N8(i,t){if(i&1&&O(0,"span",8),i&2){let e=v();g("ngStyle",he(2,P8,e.handleValue+"%")),I("data-pc-section","range")}}function V8(i,t){if(i&1&&O(0,"span",8),i&2){let e=v();g("ngStyle",he(2,F8,e.handleValue+"%")),I("data-pc-section","range")}}function j8(i,t){if(i&1){let e=ce();C(0,"span",9,0),N("touchstart",function(r){A(e);let s=v();return k(s.onDragStart(r))})("touchmove",function(r){A(e);let s=v();return k(s.onDrag(r))})("touchend",function(r){A(e);let s=v();return k(s.onDragEnd(r))})("mousedown",function(r){A(e);let s=v();return k(s.onMouseDown(r))})("keydown",function(r){A(e);let s=v();return k(s.onKeyDown(r))}),w()}if(i&2){let e=v();Ki("transition",e.dragging?"none":null),g("ngStyle",it(12,iy,e.orientation=="horizontal"?e.handleValue+"%":null,e.orientation=="vertical"?e.handleValue+"%":null))("autofocus",e.autofocus),I("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","handle")}}function B8(i,t){if(i&1){let e=ce();C(0,"span",10,1),N("keydown",function(r){A(e);let s=v();return k(s.onKeyDown(r,0))})("mousedown",function(r){A(e);let s=v();return k(s.onMouseDown(r,0))})("touchstart",function(r){A(e);let s=v();return k(s.onDragStart(r,0))})("touchmove",function(r){A(e);let s=v();return k(s.onDrag(r,0))})("touchend",function(r){A(e);let s=v();return k(s.onDragEnd(r))}),w()}if(i&2){let e=v();Ki("transition",e.dragging?"none":null),g("ngStyle",it(13,iy,e.rangeStartLeft,e.rangeStartBottom))("ngClass",he(16,hE,e.handleIndex==0))("autofocus",e.autofocus),I("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","startHandler")}}function H8(i,t){if(i&1){let e=ce();C(0,"span",11,2),N("keydown",function(r){A(e);let s=v();return k(s.onKeyDown(r,1))})("mousedown",function(r){A(e);let s=v();return k(s.onMouseDown(r,1))})("touchstart",function(r){A(e);let s=v();return k(s.onDragStart(r,1))})("touchmove",function(r){A(e);let s=v();return k(s.onDrag(r,1))})("touchend",function(r){A(e);let s=v();return k(s.onDragEnd(r))}),w()}if(i&2){let e=v();Ki("transition",e.dragging?"none":null),g("ngStyle",it(12,iy,e.rangeEndLeft,e.rangeEndBottom))("ngClass",he(15,hE,e.handleIndex==1)),I("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","endHandler")}}var U8={provide:Nn,useExisting:Ft(()=>ry),multi:!0},ry=(()=>{class i{document;platformId;el;renderer;ngZone;cd;animate;disabled;min=0;max=100;orientation="horizontal";step;range;style;styleClass;ariaLabel;ariaLabelledBy;tabindex=0;autofocus;onChange=new U;onSlideEnd=new U;sliderHandle;sliderHandleStart;sliderHandleEnd;value;values;handleValue;handleValues=[];diff;offset;bottom;onModelChange=()=>{};onModelTouched=()=>{};dragging;dragListener;mouseupListener;initX;initY;barWidth;barHeight;sliderHandleClick;handleIndex=0;startHandleValue;startx;starty;constructor(e,n,r,s,o,a){this.document=e,this.platformId=n,this.el=r,this.renderer=s,this.ngZone=o,this.cd=a}onMouseDown(e,n){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=n,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&M.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onDragStart(e,n){if(!this.disabled){var r=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[n]:this.handleValue,this.dragging=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=n,this.orientation==="horizontal"?(this.startx=parseInt(r.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(r.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&M.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}}onDrag(e){if(!this.disabled){var n=e.changedTouches[0],r=0;this.orientation==="horizontal"?r=Math.floor((parseInt(n.clientX,10)-this.startx)*100/this.barWidth)+this.startHandleValue:r=Math.floor((this.starty-parseInt(n.clientY,10))*100/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,r),e.preventDefault()}}onDragEnd(e){this.disabled||(this.dragging=!1,this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value}),this.animate&&M.addClass(this.el.nativeElement.children[0],"p-slider-animate"))}onBarClick(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e),this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value})),this.sliderHandleClick=!1)}onKeyDown(e,n){switch(this.handleIndex=n,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,n),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,n),e.preventDefault();break;case"PageDown":this.decrementValue(e,n,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,n,!0),e.preventDefault();break;case"Home":this.updateValue(this.min,e),e.preventDefault();break;case"End":this.updateValue(this.max,e),e.preventDefault();break;case"Tab":this.onDragEnd(e);break;default:break}}decrementValue(e,n,r=!1){let s;this.range?this.step?s=this.values[n]-this.step:s=this.values[n]-1:this.step?s=this.value-this.step:!this.step&&r?s=this.value-10:s=this.value-1,this.updateValue(s,e),e.preventDefault()}incrementValue(e,n,r=!1){let s;this.range?this.step?s=this.values[n]+this.step:s=this.values[n]+1:this.step?s=this.value+this.step:!this.step&&r?s=this.value+10:s=this.value+1,this.updateValue(s,e),e.preventDefault()}handleChange(e){let n=this.calculateHandleValue(e);this.setValueFromHandle(e,n)}bindDragListeners(){gt(this.platformId)&&this.ngZone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",n=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(n)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",n=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.range?this.onSlideEnd.emit({originalEvent:n,values:this.values}):this.onSlideEnd.emit({originalEvent:n,value:this.value}),this.animate&&M.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&(this.dragListener(),this.dragListener=null),this.mouseupListener&&(this.mouseupListener(),this.mouseupListener=null)}setValueFromHandle(e,n){let r=this.getValueFromHandle(n);this.range?this.step?this.handleStepChange(r,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=n,this.updateValue(r,e)):this.step?this.handleStepChange(r,this.value):(this.handleValue=n,this.updateValue(r,e)),this.cd.markForCheck()}handleStepChange(e,n){let r=e-n,s=n,o=this.step;r<0?s=n+Math.ceil(e/o-n/o)*o:r>0&&(s=n+Math.floor(e/o-n/o)*o),this.updateValue(s),this.updateHandleValue()}writeValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return this.orientation==="vertical"}updateDomData(){let e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+M.getWindowScrollLeft(),this.initY=e.top+M.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(e){return this.orientation==="horizontal"?(e.pageX-this.initX)*100/this.barWidth:(this.initY+this.barHeight-e.pageY)*100/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=(this.values[0]<this.min?0:this.values[0]-this.min)*100/(this.max-this.min),this.handleValues[1]=(this.values[1]>this.max?100:this.values[1]-this.min)*100/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=(this.value-this.min)*100/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,n){if(this.range){let r=e;this.handleIndex==0?(r<this.min?(r=this.min,this.handleValues[0]=0):r>this.values[1]&&r>this.max&&(r=this.max,this.handleValues[0]=100),this.sliderHandleStart?.nativeElement.focus()):(r>this.max?(r=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):r<this.min?(r=this.min,this.handleValues[1]=0):r<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd?.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(r);let s=[this.minVal,this.maxVal];this.onModelChange(s),this.onChange.emit({event:n,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:n,value:this.value}),this.sliderHandle?.nativeElement.focus();this.updateHandleValue()}getValueFromHandle(e){return(this.max-this.min)*(e/100)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let n=this.getDecimalsCount(this.step);return n>0?+parseFloat(e.toString()).toFixed(n):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}static \u0275fac=function(n){return new(n||i)(D(Ie),D(ot),D(pe),D(nt),D(Oe),D(je))};static \u0275cmp=B({type:i,selectors:[["p-slider"]],viewQuery:function(n,r){if(n&1&&(be(T8,5),be(D8,5),be(M8,5)),n&2){let s;X(s=Q())&&(r.sliderHandle=s.first),X(s=Q())&&(r.sliderHandleStart=s.first),X(s=Q())&&(r.sliderHandleEnd=s.first)}},hostAttrs:[1,"p-element"],inputs:{animate:[2,"animate","animate",V],disabled:[2,"disabled","disabled",V],min:[2,"min","min",we],max:[2,"max","max",we],orientation:"orientation",step:[2,"step","step",we],range:[2,"range","range",V],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",we],autofocus:[2,"autofocus","autofocus",V]},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[vn([U8]),Re],decls:8,vars:18,consts:[["sliderHandle",""],["sliderHandleStart",""],["sliderHandleEnd",""],[3,"click","ngStyle","ngClass"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","autofocus","touchstart","touchmove","touchend","mousedown","keydown",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","ngClass","autofocus","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle","role","slider",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"touchstart","touchmove","touchend","mousedown","keydown","ngStyle","autofocus"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass","autofocus"],["role","slider",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass"]],template:function(n,r){n&1&&(C(0,"div",3),N("click",function(o){return r.onBarClick(o)}),E(1,R8,1,5,"span",4)(2,L8,1,5,"span",4)(3,N8,1,4,"span",4)(4,V8,1,4,"span",4)(5,j8,2,15,"span",5)(6,B8,2,18,"span",6)(7,H8,2,17,"span",7),w()),n&2&&(H(r.styleClass),g("ngStyle",r.style)("ngClass",Kd(13,O8,r.disabled,r.orientation=="horizontal",r.orientation=="vertical",r.animate)),I("data-pc-name","slider")("data-pc-section","root"),m(),g("ngIf",r.range&&r.orientation=="horizontal"),m(),g("ngIf",r.range&&r.orientation=="vertical"),m(),g("ngIf",!r.range&&r.orientation=="vertical"),m(),g("ngIf",!r.range&&r.orientation=="horizontal"),m(),g("ngIf",!r.range),m(),g("ngIf",r.range),m(),g("ngIf",r.range))},dependencies:[Ke,lt,Xe,hi],styles:[`@layer primeng{.p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}}
`],encapsulation:2,changeDetection:0})}return i})(),pE=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,ar]})}return i})();var fE=(()=>{class i{el;ngModel;cd;config;variant="outlined";filled;constructor(e,n,r,s){this.el=e,this.ngModel=n,this.cd=r,this.config=s}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(n){return new(n||i)(D(pe),D(Dc,8),D(je),D(Ot))};static \u0275dir=st({type:i,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(n,r){n&1&&N("input",function(o){return r.onInput(o)}),n&2&&sn("p-filled",r.filled)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return i})(),rp=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe]})}return i})();var G8=["overlay"],W8=["content"],q8=["*"],Y8=(i,t,e,n,r,s,o,a,l,c,u,d,h,p)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":i,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":n,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":u,"p-overlay-right":d,"p-overlay-right-start":h,"p-overlay-right-end":p}),K8=(i,t,e)=>({showTransitionParams:i,hideTransitionParams:t,transform:e}),X8=i=>({value:"visible",params:i}),Q8=i=>({mode:i}),Z8=i=>({$implicit:i});function J8(i,t){i&1&&Te(0)}function e6(i,t){if(i&1){let e=ce();C(0,"div",3,1),N("click",function(r){A(e);let s=v(2);return k(s.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){A(e);let s=v(2);return k(s.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){A(e);let s=v(2);return k(s.onOverlayContentAnimationDone(r))}),on(2),E(3,J8,1,0,"ng-container",4),w()}if(i&2){let e=v(2);H(e.contentStyleClass),g("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",he(11,X8,Zi(7,K8,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),m(3),g("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",he(15,Z8,he(13,Q8,e.overlayMode)))}}function t6(i,t){if(i&1){let e=ce();C(0,"div",3,0),N("click",function(){A(e);let r=v();return k(r.onOverlayClick())}),E(2,e6,4,17,"div",2),w()}if(i&2){let e=v();H(e.styleClass),g("ngStyle",e.style)("ngClass",bx(5,Y8,[e.modal,e.modal&&e.overlayResponsiveDirection==="center",e.modal&&e.overlayResponsiveDirection==="top",e.modal&&e.overlayResponsiveDirection==="top-start",e.modal&&e.overlayResponsiveDirection==="top-end",e.modal&&e.overlayResponsiveDirection==="bottom",e.modal&&e.overlayResponsiveDirection==="bottom-start",e.modal&&e.overlayResponsiveDirection==="bottom-end",e.modal&&e.overlayResponsiveDirection==="left",e.modal&&e.overlayResponsiveDirection==="left-start",e.modal&&e.overlayResponsiveDirection==="left-end",e.modal&&e.overlayResponsiveDirection==="right",e.modal&&e.overlayResponsiveDirection==="right-start",e.modal&&e.overlayResponsiveDirection==="right-end"])),m(2),g("ngIf",e.visible)}}var n6={provide:Nn,useExisting:Ft(()=>sy),multi:!0},i6=k0([It({transform:"{{transform}}",opacity:0}),Yt("{{showTransitionParams}}")]),r6=k0([Yt("{{hideTransitionParams}}",It({transform:"{{transform}}",opacity:0}))]),sy=(()=>{class i{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return ue.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return ue.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return ue.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return ue.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new U;onBeforeShow=new U;onShow=new U;onBeforeHide=new U;onHide=new U;onAnimationStart=new U;onAnimationDone=new U;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(gt(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return L(L({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return L(L({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return M.getTargetElement(this.target,this.el?.nativeElement)}constructor(e,n,r,s,o,a,l,c){this.document=e,this.platformId=n,this.el=r,this.renderer=s,this.config=o,this.overlayService=a,this.cd=l,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}show(e,n=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),n&&M.focus(this.targetEl),this.modal&&M.addClass(this.document?.body,"p-overflow-hidden")}hide(e,n=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),n&&M.focus(this.targetEl),this.modal&&M.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&M.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Xt.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),M.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&M.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let n=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&this.show(n,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(n,!0),this.modalVisible=!1,this.unbindListeners(),M.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Xt.clear(n),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,n){this[e].emit(n),this.options&&this.options[e]&&this.options[e](n),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](n)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new vs(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!M.isTouchDevice()}):!M.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!M.isTouchDevice()}):!M.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(M.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Xt.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(n){return new(n||i)(D(Ie),D(ot),D(pe),D(nt),D(Ot),D(Wa),D(je),D(Oe))};static \u0275cmp=B({type:i,selectors:[["p-overlay"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},viewQuery:function(n,r){if(n&1&&(be(G8,5),be(W8,5)),n&2){let s;X(s=Q())&&(r.overlayViewChild=s.first),X(s=Q())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[vn([n6])],ngContentSelectors:q8,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&(mn(),E(0,t6,3,20,"div",2)),n&2&&g("ngIf",r.modalVisible)},dependencies:[Ke,lt,vt,Xe],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[qn("overlayContentAnimation",[Ht(":enter",[P0(i6)]),Ht(":leave",[P0(r6)])])]},changeDetection:0})}return i})(),oy=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,Qe,Qe]})}return i})();var o6=["element"],a6=["content"],l6=["*"],c6=(i,t,e)=>({"p-scroller":!0,"p-scroller-inline":i,"p-both-scroll":t,"p-horizontal-scroll":e}),ay=(i,t)=>({$implicit:i,options:t}),u6=i=>({"p-scroller-loading":i}),d6=i=>({"p-component-overlay":i}),h6=i=>({numCols:i}),gE=i=>({options:i}),p6=()=>({styleClass:"p-scroller-loading-icon"}),f6=(i,t)=>({rows:i,columns:t});function g6(i,t){i&1&&Te(0)}function m6(i,t){if(i&1&&(se(0),E(1,g6,1,0,"ng-container",10),oe()),i&2){let e=v(2);m(),g("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",it(2,ay,e.loadedItems,e.getContentOptions()))}}function v6(i,t){i&1&&Te(0)}function y6(i,t){if(i&1&&(se(0),E(1,v6,1,0,"ng-container",10),oe()),i&2){let e=t.$implicit,n=t.index,r=v(3);m(),g("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",it(2,ay,e,r.getOptions(n)))}}function _6(i,t){if(i&1&&(C(0,"div",11,3),E(2,y6,2,5,"ng-container",12),w()),i&2){let e=v(2);g("ngClass",he(5,u6,e.d_loading))("ngStyle",e.contentStyle),I("data-pc-section","content"),m(2),g("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function b6(i,t){if(i&1&&O(0,"div",13),i&2){let e=v(2);g("ngStyle",e.spacerStyle),I("data-pc-section","spacer")}}function C6(i,t){i&1&&Te(0)}function w6(i,t){if(i&1&&(se(0),E(1,C6,1,0,"ng-container",10),oe()),i&2){let e=t.index,n=v(4);m(),g("ngTemplateOutlet",n.loaderTemplate)("ngTemplateOutletContext",he(4,gE,n.getLoaderOptions(e,n.both&&he(2,h6,n._numItemsInViewport.cols))))}}function x6(i,t){if(i&1&&(se(0),E(1,w6,2,6,"ng-container",15),oe()),i&2){let e=v(3);m(),g("ngForOf",e.loaderArr)}}function I6(i,t){i&1&&Te(0)}function S6(i,t){if(i&1&&(se(0),E(1,I6,1,0,"ng-container",10),oe()),i&2){let e=v(4);m(),g("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",he(3,gE,yn(2,p6)))}}function E6(i,t){i&1&&O(0,"SpinnerIcon",16),i&2&&(g("styleClass","p-scroller-loading-icon pi-spin"),I("data-pc-section","loadingIcon"))}function T6(i,t){if(i&1&&E(0,S6,2,5,"ng-container",6)(1,E6,1,2,"ng-template",null,5,Rt),i&2){let e=xt(2),n=v(3);g("ngIf",n.loaderIconTemplate)("ngIfElse",e)}}function D6(i,t){if(i&1&&(C(0,"div",14),E(1,x6,2,1,"ng-container",6)(2,T6,3,2,"ng-template",null,4,Rt),w()),i&2){let e=xt(3),n=v(2);g("ngClass",he(4,d6,!n.loaderTemplate)),I("data-pc-section","loader"),m(),g("ngIf",n.loaderTemplate)("ngIfElse",e)}}function M6(i,t){if(i&1){let e=ce();se(0),C(1,"div",7,1),N("scroll",function(r){A(e);let s=v();return k(s.onContainerScroll(r))}),E(3,m6,2,5,"ng-container",6)(4,_6,3,7,"ng-template",null,2,Rt)(6,b6,1,2,"div",8)(7,D6,4,6,"div",9),w(),oe()}if(i&2){let e=xt(5),n=v();m(),H(n._styleClass),g("ngStyle",n._style)("ngClass",Zi(12,c6,n.inline,n.both,n.horizontal)),I("id",n._id)("tabindex",n.tabindex)("data-pc-name","scroller")("data-pc-section","root"),m(2),g("ngIf",n.contentTemplate)("ngIfElse",e),m(3),g("ngIf",n._showSpacer),m(),g("ngIf",!n.loaderDisabled&&n._showLoader&&n.d_loading)}}function O6(i,t){i&1&&Te(0)}function A6(i,t){if(i&1&&(se(0),E(1,O6,1,0,"ng-container",10),oe()),i&2){let e=v(2);m(),g("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",it(5,ay,e.items,it(2,f6,e._items,e.loadedColumns)))}}function k6(i,t){if(i&1&&(on(0),E(1,A6,2,8,"ng-container",17)),i&2){let e=v();m(),g("ngIf",e.contentTemplate)}}var mE=(()=>{class i{document;platformId;renderer;cd;zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([n,r])=>this[`_${n}`]!==r&&(this[`_${n}`]=r))}onLazyLoad=new U;onScroll=new U;onScrollIndexChange=new U;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(e,n,r,s,o){this.document=e,this.platformId=n,this.renderer=r,this.cd=s,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(e){let n=!1;if(e.loading){let{previousValue:r,currentValue:s}=e.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,n=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:r,currentValue:s}=e.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(e.options){let{previousValue:r,currentValue:s}=e.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,n=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!n&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){gt(this.platformId)&&!this.initialized&&M.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=M.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=M.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=M.getWidth(this.contentEl),this.defaultContentHeight=M.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||M.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,n="auto"){if(this.both?e.every(s=>s>-1):e>-1){let s=this.first,{scrollTop:o=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),u=this.itemSize,d=(b=0,T)=>b<=T?0:b,h=(b,T,R)=>b*T+R,p=(b=0,T=0)=>this.scrollTo({left:b,top:T,behavior:n}),f=this.both?{rows:0,cols:0}:0,y=!1,_=!1;this.both?(f={rows:d(e[0],l[0]),cols:d(e[1],l[1])},p(h(f.cols,u[1],c.left),h(f.rows,u[0],c.top)),_=this.lastScrollPos.top!==o||this.lastScrollPos.left!==a,y=f.rows!==s.rows||f.cols!==s.cols):(f=d(e,l),this.horizontal?p(h(f,u,c.left),o):p(a,h(f,u,c.top)),_=this.lastScrollPos!==(this.horizontal?a:o),y=f!==s),this.isRangeChanged=y,_&&(this.first=f)}}scrollInView(e,n,r="auto"){if(n){let{first:s,viewport:o}=this.getRenderedRange(),a=(u=0,d=0)=>this.scrollTo({left:u,top:d,behavior:r}),l=n==="to-start",c=n==="to-end";if(l){if(this.both)o.first.rows-s.rows>e[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-s.cols>e[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-s>e){let u=(o.first-1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}else if(c){if(this.both)o.last.rows-s.rows<=e[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-s.cols<=e[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-s<=e+1){let u=(o.first+1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}}else this.scrollToIndex(e,r)}getRenderedRange(){let e=(s,o)=>o||s?Math.floor(s/(o||s)):0,n=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:s,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)n={rows:e(s,this._itemSize[0]),cols:e(o,this._itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?o:s;n=e(a,this._itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}}calculateNumItems(){let e=this.getContentPosition(),n=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,s=(c,u)=>u||c?Math.ceil(c/(u||c)):0,o=c=>Math.ceil(c/2),a=this.both?{rows:s(r,this._itemSize[0]),cols:s(n,this._itemSize[1])}:s(this.horizontal?n:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:n}=this.calculateNumItems(),r=(a,l,c,u=!1)=>this.getLast(a+l+(a<c?2:3)*c,u),s=this.first,o=this.both?{rows:r(this.first.rows,e.rows,n[0]),cols:r(this.first.cols,e.cols,n[1],!0)}:r(this.first,e,n);this.last=o,this.numItemsInViewport=e,this.d_numToleratedItems=n,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,n]=[M.getWidth(this.contentEl),M.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),n!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,s]=[M.getWidth(this.elementViewChild.nativeElement),M.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=s<this.defaultHeight?s+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,n=!1){return this._items?Math.min(n?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),s=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),o=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:s,bottom:o,x:n+r,y:s+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,n=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,s=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(s("height",r),s("width",n)):s("height",r)}}setSpacerSize(){if(this._scrollHeight!=="100%"&&this._items){let e=this.getContentPosition(),n=(r,s,o,a=0)=>this.spacerStyle=ve(L({},this.spacerStyle),{[`${r}`]:(s||[]).length*o+a+"px"});this.both?(n("height",this._items,this._itemSize[0],e.y),n("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?n("width",this._columns||this._items,this._itemSize,e.x):n("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let n=e?e.first:this.first,r=(o,a)=>o*a,s=(o=0,a=0)=>this.contentStyle=ve(L({},this.contentStyle),{transform:`translate3d(${o}px, ${a}px, 0)`});if(this.both)s(r(n.cols,this._itemSize[1]),r(n.rows,this._itemSize[0]));else{let o=r(n,this._itemSize);this.horizontal?s(o,0):s(0,o)}}}onScrollPositionChange(e){let n=e.target,r=this.getContentPosition(),s=(_,b)=>_?_>b?_-b:_:0,o=(_,b)=>b||_?Math.floor(_/(b||_)):0,a=(_,b,T,R,F,$)=>_<=F?F:$?T-R-F:b+F-1,l=(_,b,T,R,F,$,G)=>_<=$?0:Math.max(0,G?_<b?T:_-$:_>b?T:_-2*$),c=(_,b,T,R,F,$=!1)=>{let G=b+R+2*F;return _>=F&&(G+=F+1),this.getLast(G,$)},u=s(n.scrollTop,r.top),d=s(n.scrollLeft,r.left),h=this.both?{rows:0,cols:0}:0,p=this.last,f=!1,y=this.lastScrollPos;if(this.both){let _=this.lastScrollPos.top<=u,b=this.lastScrollPos.left<=d;if(!this._appendOnly||this._appendOnly&&(_||b)){let T={rows:o(u,this._itemSize[0]),cols:o(d,this._itemSize[1])},R={rows:a(T.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],_),cols:a(T.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],b)};h={rows:l(T.rows,R.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],_),cols:l(T.cols,R.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],b)},p={rows:c(T.rows,h.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(T.cols,h.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},f=h.rows!==this.first.rows||p.rows!==this.last.rows||h.cols!==this.first.cols||p.cols!==this.last.cols||this.isRangeChanged,y={top:u,left:d}}}else{let _=this.horizontal?d:u,b=this.lastScrollPos<=_;if(!this._appendOnly||this._appendOnly&&b){let T=o(_,this._itemSize),R=a(T,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,b);h=l(T,R,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,b),p=c(T,h,this.last,this.numItemsInViewport,this.d_numToleratedItems),f=h!==this.first||p!==this.last||this.isRangeChanged,y=_}}return{first:h,last:p,isRangeChanged:f,scrollPos:y}}onScrollChange(e){let{first:n,last:r,isRangeChanged:s,scrollPos:o}=this.onScrollPositionChange(e);if(s){let a={first:n,last:r};if(this.setContentPosition(a),this.first=n,this.last=r,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(n)){let l={first:this._step?Math.min(this.getPageByFirst(n)*this._step,this.items.length-this._step):n,last:Math.min(this._step?(this.getPageByFirst(n)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:n}=this.onScrollPositionChange(e);(n||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){gt(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let e=this.document.defaultView,n=M.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(e,n,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(M.isVisible(this.elementViewChild?.nativeElement)){let[e,n]=[M.getWidth(this.elementViewChild?.nativeElement),M.getHeight(this.elementViewChild?.nativeElement)],[r,s]=[e!==this.defaultWidth,n!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical?s:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=n,this.defaultContentWidth=M.getWidth(this.contentEl),this.defaultContentHeight=M.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(e,n){return this.options&&this.options[e]?this.options[e](n):this[e].emit(n)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,n)=>this.getLoaderOptions(e,n),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let n=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(e,n){let r=this.loaderArr.length;return L({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)}static \u0275fac=function(n){return new(n||i)(D(Ie),D(ot),D(nt),D(je),D(Oe))};static \u0275cmp=B({type:i,selectors:[["p-scroller"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},viewQuery:function(n,r){if(n&1&&(be(o6,5),be(a6,5)),n&2){let s;X(s=Q())&&(r.elementViewChild=s.first),X(s=Q())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Gt],ngContentSelectors:l6,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(n,r){if(n&1&&(mn(),E(0,M6,8,16,"ng-container",6)(1,k6,2,1,"ng-template",null,0,Rt)),n&2){let s=xt(2);g("ngIf",!r._disabled)("ngIfElse",s)}},dependencies:()=>[Ke,er,lt,vt,Xe,Oc],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return i})(),ly=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,Qe,Oc,Qe]})}return i})();var _n=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["TimesIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var Ya=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["CheckIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var cy=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["BlankIcon"]],standalone:!0,features:[fe,J],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"rect",1),w())},encapsulation:2})}return i})();var _s=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["ChevronDownIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var uy=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["SearchIcon"]],standalone:!0,features:[fe,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1),w(),C(3,"defs")(4,"clipPath",2),O(5,"rect",3),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var kc=i=>({height:i}),F6=(i,t,e)=>({"p-dropdown-item":!0,"p-highlight":i,"p-disabled":t,"p-focus":e}),dy=i=>({$implicit:i});function R6(i,t){i&1&&O(0,"CheckIcon",4),i&2&&g("styleClass","p-dropdown-check-icon")}function L6(i,t){i&1&&O(0,"BlankIcon",4),i&2&&g("styleClass","p-dropdown-blank-icon")}function N6(i,t){if(i&1&&(se(0),E(1,R6,1,1,"CheckIcon",3)(2,L6,1,1,"BlankIcon",3),oe()),i&2){let e=v();m(),g("ngIf",e.selected),m(),g("ngIf",!e.selected)}}function V6(i,t){if(i&1&&(C(0,"span"),et(1),w()),i&2){let e,n=v();m(),Mt((e=n.label)!==null&&e!==void 0?e:"empty")}}function j6(i,t){i&1&&Te(0)}var B6=["container"],H6=["filter"],U6=["focusInput"],z6=["editableInput"],$6=["items"],G6=["scroller"],W6=["overlay"],q6=["firstHiddenFocusableEl"],Y6=["lastHiddenFocusableEl"],K6=i=>({"max-height":i}),vE=i=>({options:i}),X6=i=>({"p-variant-filled":i}),yE=(i,t)=>({$implicit:i,options:t}),Q6=()=>({});function Z6(i,t){if(i&1&&(se(0),et(1),oe()),i&2){let e=v(2);m(),Mt(e.label()==="p-emptylabel"?"\xA0":e.label())}}function J6(i,t){if(i&1&&Te(0,25),i&2){let e=v(2);g("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",he(2,dy,e.selectedOption))}}function eV(i,t){if(i&1&&(C(0,"span"),et(1),w()),i&2){let e=v(3);m(),Mt(e.label()==="p-emptylabel"?"\xA0":e.label())}}function tV(i,t){if(i&1&&E(0,eV,2,1,"span",18),i&2){let e=v(2);g("ngIf",e.isSelectedOptionEmpty())}}function nV(i,t){if(i&1){let e=ce();C(0,"span",23,3),N("focus",function(r){A(e);let s=v();return k(s.onInputFocus(r))})("blur",function(r){A(e);let s=v();return k(s.onInputBlur(r))})("keydown",function(r){A(e);let s=v();return k(s.onKeyDown(r))}),E(2,Z6,2,1,"ng-container",20)(3,J6,1,4,"ng-container",24)(4,tV,1,1,"ng-template",null,4,Rt),w()}if(i&2){let e,n=xt(5),r=v();g("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),I("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(e=r.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),m(2),g("ngIf",!r.selectedItemTemplate)("ngIfElse",n),m(),g("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function iV(i,t){if(i&1){let e=ce();C(0,"input",26,5),N("input",function(r){A(e);let s=v();return k(s.onEditableInput(r))})("keydown",function(r){A(e);let s=v();return k(s.onKeyDown(r))})("focus",function(r){A(e);let s=v();return k(s.onInputFocus(r))})("blur",function(r){A(e);let s=v();return k(s.onInputBlur(r))}),w()}if(i&2){let e=v();g("ngClass",e.inputClass)("disabled",e.disabled)("autofocus",e.autofocus),I("id",e.inputId)("maxlength",e.maxlength)("placeholder",e.modelValue()===void 0||e.modelValue()===null?e.placeholder():void 0)("aria-label",e.ariaLabel||(e.label()==="p-emptylabel"?void 0:e.label()))("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function rV(i,t){if(i&1){let e=ce();C(0,"TimesIcon",29),N("click",function(r){A(e);let s=v(2);return k(s.clear(r))}),w()}i&2&&(g("styleClass","p-dropdown-clear-icon"),I("data-pc-section","clearicon"))}function sV(i,t){}function oV(i,t){i&1&&E(0,sV,0,0,"ng-template")}function aV(i,t){if(i&1){let e=ce();C(0,"span",30),N("click",function(r){A(e);let s=v(2);return k(s.clear(r))}),E(1,oV,1,0,null,31),w()}if(i&2){let e=v(2);I("data-pc-section","clearicon"),m(),g("ngTemplateOutlet",e.clearIconTemplate)}}function lV(i,t){if(i&1&&(se(0),E(1,rV,1,2,"TimesIcon",27)(2,aV,2,2,"span",28),oe()),i&2){let e=v();m(),g("ngIf",!e.clearIconTemplate),m(),g("ngIf",e.clearIconTemplate)}}function cV(i,t){i&1&&Te(0)}function uV(i,t){if(i&1&&(se(0),E(1,cV,1,0,"ng-container",31),oe()),i&2){let e=v(2);m(),g("ngTemplateOutlet",e.loadingIconTemplate)}}function dV(i,t){if(i&1&&O(0,"span",34),i&2){let e=v(3);g("ngClass","p-dropdown-trigger-icon pi-spin "+e.loadingIcon)}}function hV(i,t){i&1&&O(0,"span",35),i&2&&H("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function pV(i,t){if(i&1&&(se(0),E(1,dV,1,1,"span",32)(2,hV,1,2,"span",33),oe()),i&2){let e=v(2);m(),g("ngIf",e.loadingIcon),m(),g("ngIf",!e.loadingIcon)}}function fV(i,t){if(i&1&&(se(0),E(1,uV,2,1,"ng-container",18)(2,pV,3,2,"ng-container",18),oe()),i&2){let e=v();m(),g("ngIf",e.loadingIconTemplate),m(),g("ngIf",!e.loadingIconTemplate)}}function gV(i,t){if(i&1&&O(0,"span",39),i&2){let e=v(3);g("ngClass",e.dropdownIcon)}}function mV(i,t){i&1&&O(0,"ChevronDownIcon",40),i&2&&g("styleClass","p-dropdown-trigger-icon")}function vV(i,t){if(i&1&&(se(0),E(1,gV,1,1,"span",37)(2,mV,1,1,"ChevronDownIcon",38),oe()),i&2){let e=v(2);m(),g("ngIf",e.dropdownIcon),m(),g("ngIf",!e.dropdownIcon)}}function yV(i,t){}function _V(i,t){i&1&&E(0,yV,0,0,"ng-template")}function bV(i,t){if(i&1&&(C(0,"span",41),E(1,_V,1,0,null,31),w()),i&2){let e=v(2);m(),g("ngTemplateOutlet",e.dropdownIconTemplate)}}function CV(i,t){if(i&1&&E(0,vV,3,2,"ng-container",18)(1,bV,2,1,"span",36),i&2){let e=v();g("ngIf",!e.dropdownIconTemplate),m(),g("ngIf",e.dropdownIconTemplate)}}function wV(i,t){i&1&&Te(0)}function xV(i,t){i&1&&Te(0)}function IV(i,t){if(i&1&&(se(0),E(1,xV,1,0,"ng-container",48),oe()),i&2){let e=v(3);m(),g("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",he(2,vE,e.filterOptions))}}function SV(i,t){i&1&&O(0,"SearchIcon",40),i&2&&g("styleClass","p-dropdown-filter-icon")}function EV(i,t){}function TV(i,t){i&1&&E(0,EV,0,0,"ng-template")}function DV(i,t){if(i&1&&(C(0,"span",52),E(1,TV,1,0,null,31),w()),i&2){let e=v(4);m(),g("ngTemplateOutlet",e.filterIconTemplate)}}function MV(i,t){if(i&1){let e=ce();C(0,"div",49)(1,"input",50,10),N("input",function(r){A(e);let s=v(3);return k(s.onFilterInputChange(r))})("keydown",function(r){A(e);let s=v(3);return k(s.onFilterKeyDown(r))})("blur",function(r){A(e);let s=v(3);return k(s.onFilterBlur(r))}),w(),E(3,SV,1,1,"SearchIcon",38)(4,DV,2,1,"span",51),w()}if(i&2){let e=v(3);m(),g("value",e._filterValue()||"")("ngClass",he(8,X6,e.variant==="filled"||e.config.inputStyle()==="filled")),I("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),m(2),g("ngIf",!e.filterIconTemplate),m(),g("ngIf",e.filterIconTemplate)}}function OV(i,t){if(i&1){let e=ce();C(0,"div",47),N("click",function(r){return A(e),k(r.stopPropagation())}),E(1,IV,2,4,"ng-container",20)(2,MV,5,10,"ng-template",null,9,Rt),w()}if(i&2){let e=xt(3),n=v(2);m(),g("ngIf",n.filterTemplate)("ngIfElse",e)}}function AV(i,t){i&1&&Te(0)}function kV(i,t){if(i&1&&E(0,AV,1,0,"ng-container",48),i&2){let e=t.$implicit,n=t.options;v(2);let r=xt(9);g("ngTemplateOutlet",r)("ngTemplateOutletContext",it(2,yE,e,n))}}function PV(i,t){i&1&&Te(0)}function FV(i,t){if(i&1&&E(0,PV,1,0,"ng-container",48),i&2){let e=t.options,n=v(4);g("ngTemplateOutlet",n.loaderTemplate)("ngTemplateOutletContext",he(2,vE,e))}}function RV(i,t){i&1&&(se(0),E(1,FV,1,4,"ng-template",54),oe())}function LV(i,t){if(i&1){let e=ce();C(0,"p-scroller",53,11),N("onLazyLoad",function(r){A(e);let s=v(2);return k(s.onLazyLoad.emit(r))}),E(2,kV,1,5,"ng-template",22)(3,RV,2,0,"ng-container",18),w()}if(i&2){let e=v(2);ox(he(8,kc,e.scrollHeight)),g("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),m(3),g("ngIf",e.loaderTemplate)}}function NV(i,t){i&1&&Te(0)}function VV(i,t){if(i&1&&(se(0),E(1,NV,1,0,"ng-container",48),oe()),i&2){v();let e=xt(9),n=v();m(),g("ngTemplateOutlet",e)("ngTemplateOutletContext",it(3,yE,n.visibleOptions(),yn(2,Q6)))}}function jV(i,t){if(i&1&&(C(0,"span"),et(1),w()),i&2){let e=v(2).$implicit,n=v(3);m(),Mt(n.getOptionGroupLabel(e.optionGroup))}}function BV(i,t){i&1&&Te(0)}function HV(i,t){if(i&1&&(se(0),C(1,"li",58),E(2,jV,2,1,"span",18)(3,BV,1,0,"ng-container",48),w(),oe()),i&2){let e=v(),n=e.$implicit,r=e.index,s=v().options,o=v(2);m(),g("ngStyle",he(5,kc,s.itemSize+"px")),I("id",o.id+"_"+o.getOptionIndex(r,s)),m(),g("ngIf",!o.groupTemplate),m(),g("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",he(7,dy,n.optionGroup))}}function UV(i,t){if(i&1){let e=ce();se(0),C(1,"p-dropdownItem",59),N("onClick",function(r){A(e);let s=v().$implicit,o=v(3);return k(o.onOptionSelect(r,s))})("onMouseEnter",function(r){A(e);let s=v().index,o=v().options,a=v(2);return k(a.onOptionMouseEnter(r,a.getOptionIndex(s,o)))}),w(),oe()}if(i&2){let e=v(),n=e.$implicit,r=e.index,s=v().options,o=v(2);m(),g("id",o.id+"_"+o.getOptionIndex(r,s))("option",n)("checkmark",o.checkmark)("selected",o.isSelected(n))("label",o.getOptionLabel(n))("disabled",o.isOptionDisabled(n))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(r,s))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(r,s)))("ariaSetSize",o.ariaSetSize)}}function zV(i,t){if(i&1&&E(0,HV,4,9,"ng-container",18)(1,UV,2,10,"ng-container",18),i&2){let e=t.$implicit,n=v(3);g("ngIf",n.isOptionGroup(e)),m(),g("ngIf",!n.isOptionGroup(e))}}function $V(i,t){if(i&1&&(se(0),et(1),oe()),i&2){let e=v(4);m(),Ii(" ",e.emptyFilterMessageLabel," ")}}function GV(i,t){i&1&&Te(0,null,13)}function WV(i,t){if(i&1&&(C(0,"li",60),E(1,$V,2,1,"ng-container",20)(2,GV,2,0,"ng-container",31),w()),i&2){let e=v().options,n=v(2);g("ngStyle",he(4,kc,e.itemSize+"px")),m(),g("ngIf",!n.emptyFilterTemplate&&!n.emptyTemplate)("ngIfElse",n.emptyFilter),m(),g("ngTemplateOutlet",n.emptyFilterTemplate||n.emptyTemplate)}}function qV(i,t){if(i&1&&(se(0),et(1),oe()),i&2){let e=v(4);m(),Ii(" ",e.emptyMessageLabel," ")}}function YV(i,t){i&1&&Te(0,null,14)}function KV(i,t){if(i&1&&(C(0,"li",60),E(1,qV,2,1,"ng-container",20)(2,YV,2,0,"ng-container",31),w()),i&2){let e=v().options,n=v(2);g("ngStyle",he(4,kc,e.itemSize+"px")),m(),g("ngIf",!n.emptyTemplate)("ngIfElse",n.empty),m(),g("ngTemplateOutlet",n.emptyTemplate)}}function XV(i,t){if(i&1&&(C(0,"ul",55,12),E(2,zV,2,2,"ng-template",56)(3,WV,3,6,"li",57)(4,KV,3,6,"li",57),w()),i&2){let e=t.$implicit,n=t.options,r=v(2);g("ngClass",n.contentStyleClass)("ngStyle",n.contentStyle),I("id",r.id+"_list")("aria-label",r.listLabel),m(2),g("ngForOf",e),m(),g("ngIf",r.filterValue&&r.isEmpty()),m(),g("ngIf",!r.filterValue&&r.isEmpty())}}function QV(i,t){i&1&&Te(0)}function ZV(i,t){if(i&1){let e=ce();C(0,"div",42)(1,"span",43,6),N("focus",function(r){A(e);let s=v();return k(s.onFirstHiddenFocus(r))}),w(),E(3,wV,1,0,"ng-container",31)(4,OV,4,2,"div",44),C(5,"div",45),E(6,LV,4,10,"p-scroller",46)(7,VV,2,6,"ng-container",18)(8,XV,5,7,"ng-template",null,7,Rt),w(),E(10,QV,1,0,"ng-container",31),C(11,"span",43,8),N("focus",function(r){A(e);let s=v();return k(s.onLastHiddenFocus(r))}),w()()}if(i&2){let e=v();H(e.panelStyleClass),g("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),m(),I("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),m(2),g("ngTemplateOutlet",e.headerTemplate),m(),g("ngIf",e.filter),m(),g("ngStyle",he(16,K6,e.virtualScroll?"auto":e.scrollHeight||"auto")),m(),g("ngIf",e.virtualScroll),m(),g("ngIf",!e.virtualScroll),m(3),g("ngTemplateOutlet",e.footerTemplate),m(),I("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var JV={provide:Nn,useExisting:Ft(()=>t9),multi:!0},e9=(()=>{class i{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new U;onMouseEnter=new U;ngOnInit(){}onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=B({type:i,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",V],focused:[2,"focused","focused",V],label:"label",disabled:[2,"disabled","disabled",V],visible:[2,"visible","visible",V],itemSize:[2,"itemSize","itemSize",we],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",V]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Re],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(n,r){n&1&&(C(0,"li",0),N("click",function(o){return r.onOptionClick(o)})("mouseenter",function(o){return r.onOptionMouseEnter(o)}),E(1,N6,3,2,"ng-container",1)(2,V6,2,1,"span",1)(3,j6,1,0,"ng-container",2),w()),n&2&&(g("id",r.id)("ngStyle",he(14,kc,r.itemSize+"px"))("ngClass",Zi(16,F6,r.selected,r.disabled,r.focused)),I("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),m(),g("ngIf",r.checkmark),m(),g("ngIf",!r.template),m(),g("ngTemplateOutlet",r.template)("ngTemplateOutletContext",he(20,dy,r.option)))},dependencies:()=>[Ke,lt,vt,Xe,sr,cy,Ya],encapsulation:2})}return i})(),t9=(()=>{class i{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){ue.deepEquals(e,this._options())||this._options.set(e)}onChange=new U;onFilter=new U;onFocus=new U;onBlur=new U;onClick=new U;onShow=new U;onHide=new U;onClear=new U;onLazyLoad=new U;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=mt(null);_placeholder=mt(void 0);modelValue=mt(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=mt(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=mt(-1);labelId;listId;clicked=mt(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Vn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Vn.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(Vn.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let e=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=Dr(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(s=>s.label?s.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:s.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let s=this.options||[],o=[];return s.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(u=>r.includes(u));c.length>0&&o.push(ve(L({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(o)}return r}return e});label=Dr(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),n=e.findIndex(r=>this.isOptionValueEqualsModelValue(r));return n!==-1?this.getOptionLabel(e[n]):this.placeholder()||"p-emptylabel"});filled=Dr(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=Dr(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(e,n,r,s,o,a){this.el=e,this.renderer=n,this.cd=r,this.zone=s,this.filterService=o,this.config=a,cs(()=>{let l=this.modelValue(),c=this.visibleOptions();if(c&&ue.isNotEmpty(c)){let u=this.findSelectedOptionIndex();(u!==-1||l===void 0||typeof l=="string"&&l.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=c[u])}ue.isEmpty(c)&&(l===void 0||this.isModelValueNotSet())&&ue.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),l!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||ut(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&M.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((n,r,s)=>{n.push({optionGroup:r,group:!0,index:s});let o=this.getOptionGroupChildren(r);return o&&o.forEach(a=>n.push(a)),n},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,n,r=!0,s=!1){if(!this.isSelected(n)){let o=this.getOptionValue(n);this.updateModel(o,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),s===!1&&this.onChange.emit({originalEvent:e,value:o})}r&&this.hide(!0)}onOptionMouseEnter(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)}updateModel(e,n){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return ue.isEmpty(this.selectedOption)}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return ue.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let e=this.el.nativeElement.parentElement,n=e?.classList.contains("p-float-label");if(e&&n&&!this.selectedOption){let r=e.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,n){return this.virtualScrollerDisabled?e:n&&n.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?ue.resolveFieldData(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?ue.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?ue.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?ue.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?ue.resolveFieldData(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(n=>this.isOptionGroup(n)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let n=e.target.value;this.searchValue="",!this.searchOptions(e,n)&&this.focusedOptionIndex.set(-1),this.onModelChange(n),this.updateModel(n,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:n})},1),!this.overlayVisible&&ue.isNotEmpty(n)&&this.show()}show(e){this.overlayVisible=!0;let n=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(n),e&&M.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let n=this.modelValue()?this.focusedOptionIndex():-1;n!==-1&&this.scroller?.scrollToIndex(n)}else{let n=M.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");n&&n.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&M.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&setTimeout(()=>{M.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{M.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let n=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(n),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(e){e.preventDefault()}onKeyDown(e,n){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,n);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&ue.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let n=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,n){if(this.focusedOptionIndex()!==n&&(this.focusedOptionIndex.set(n),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[n];this.onOptionSelect(e,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let n=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=M.findSingle(this.itemsViewChild.nativeElement,`li[id="${n}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let n=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidOption(r)):-1;return n>-1?n+e+1:e}findPrevOptionIndex(e){let n=e>0?ue.findLastIndex(this.visibleOptions().slice(0,e),r=>this.isValidOption(r)):-1;return n>-1?n:e}findLastOptionIndex(){return ue.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,n=!1){if(e.altKey&&!n){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,n=!1){n&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,n=!1){if(n){let r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,n=!1){if(n){let r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(0,r.value.length);else{let s=r.value.length;r.setSelectionRange(s,s),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,n=!1){!this.editable&&!n&&this.onEnterKey(e)}onEnterKey(e,n=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}!n&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,n=!1){if(!n)if(this.overlayVisible&&this.hasFocusableElements())M.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let n=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;M.focus(n)}onLastHiddenFocus(e){let n=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;M.focus(n)}hasFocusableElements(){return M.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(e,n=!1){n&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,n){this.searchValue=(this.searchValue||"")+n;let r=-1,s=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let n=e.target.value;this._filterValue.set(n),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?M.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():M.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}static \u0275fac=function(n){return new(n||i)(D(pe),D(nt),D(je),D(Oe),D(nE),D(Ot))};static \u0275cmp=B({type:i,selectors:[["p-dropdown"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},viewQuery:function(n,r){if(n&1&&(be(B6,5),be(H6,5),be(U6,5),be(z6,5),be($6,5),be(G6,5),be(W6,5),be(q6,5),be(Y6,5)),n&2){let s;X(s=Q())&&(r.containerViewChild=s.first),X(s=Q())&&(r.filterViewChild=s.first),X(s=Q())&&(r.focusInputViewChild=s.first),X(s=Q())&&(r.editableInputViewChild=s.first),X(s=Q())&&(r.itemsViewChild=s.first),X(s=Q())&&(r.scroller=s.first),X(s=Q())&&(r.overlayViewChild=s.first),X(s=Q())&&(r.firstHiddenFocusableElementOnOverlay=s.first),X(s=Q())&&(r.lastHiddenFocusableElementOnOverlay=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(n,r){n&2&&sn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",V],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",V],required:[2,"required","required",V],editable:[2,"editable","editable",V],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",we],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",V],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",V],checkmark:[2,"checkmark","checkmark",V],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",V],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",V],group:[2,"group","group",V],showClear:[2,"showClear","showClear",V],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",V],virtualScroll:[2,"virtualScroll","virtualScroll",V],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",we],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",we],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",V],selectOnFocus:[2,"selectOnFocus","selectOnFocus",V],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",V],autofocusFilter:[2,"autofocusFilter","autofocusFilter",V],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[vn([JV]),Re],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(n,r){if(n&1){let s=ce();C(0,"div",15,0),N("click",function(a){return A(s),k(r.onContainerClick(a))}),E(2,nV,6,20,"span",16)(3,iV,2,8,"input",17)(4,lV,3,2,"ng-container",18),C(5,"div",19),N("mousedown",function(a){return A(s),k(r.onMouseDown(a))}),E(6,fV,3,2,"ng-container",20)(7,CV,2,2,"ng-template",null,1,Rt),w(),C(9,"p-overlay",21,2),Qi("visibleChange",function(a){return A(s),Er(r.overlayVisible,a)||(r.overlayVisible=a),k(a)}),N("onAnimationStart",function(a){return A(s),k(r.onOverlayAnimationStart(a))})("onHide",function(){return A(s),k(r.hide())}),E(11,ZV,13,18,"ng-template",22),w()()}if(n&2){let s,o=xt(8);H(r.styleClass),g("ngClass",r.containerClass)("ngStyle",r.style),I("id",r.id),m(2),g("ngIf",!r.editable),m(),g("ngIf",r.editable),m(),g("ngIf",r.isVisibleClearIcon),m(),I("aria-expanded",(s=r.overlayVisible)!==null&&s!==void 0?s:!1)("data-pc-section","trigger"),m(),g("ngIf",r.loading)("ngIfElse",o),m(3),Xi("visible",r.overlayVisible),g("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[Ke,er,lt,vt,Xe,sy,tt,qa,mE,hi,_n,_s,uy,e9],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return i})(),hy=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,oy,Qe,di,or,ly,ar,_n,_s,uy,cy,Ya,oy,Qe,ly]})}return i})();var _E=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var bE=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var CE=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["AngleLeftIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var Pc=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["AngleDownIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var py=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["AngleUpIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var n9=["input"],i9=(i,t,e)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":i,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}),wE=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),xE=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function r9(i,t){if(i&1){let e=ce();C(0,"TimesIcon",8),N("click",function(){A(e);let r=v(2);return k(r.clear())}),w()}i&2&&(g("ngClass","p-inputnumber-clear-icon"),I("data-pc-section","clearIcon"))}function s9(i,t){}function o9(i,t){i&1&&E(0,s9,0,0,"ng-template")}function a9(i,t){if(i&1){let e=ce();C(0,"span",9),N("click",function(){A(e);let r=v(2);return k(r.clear())}),E(1,o9,1,0,null,10),w()}if(i&2){let e=v(2);I("data-pc-section","clearIcon"),m(),g("ngTemplateOutlet",e.clearIconTemplate)}}function l9(i,t){if(i&1&&(se(0),E(1,r9,1,2,"TimesIcon",6)(2,a9,2,2,"span",7),oe()),i&2){let e=v();m(),g("ngIf",!e.clearIconTemplate),m(),g("ngIf",e.clearIconTemplate)}}function c9(i,t){if(i&1&&O(0,"span",14),i&2){let e=v(2);g("ngClass",e.incrementButtonIcon),I("data-pc-section","incrementbuttonicon")}}function u9(i,t){i&1&&O(0,"AngleUpIcon"),i&2&&I("data-pc-section","incrementbuttonicon")}function d9(i,t){}function h9(i,t){i&1&&E(0,d9,0,0,"ng-template")}function p9(i,t){if(i&1&&(se(0),E(1,u9,1,1,"AngleUpIcon",3)(2,h9,1,0,null,10),oe()),i&2){let e=v(2);m(),g("ngIf",!e.incrementButtonIconTemplate),m(),g("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function f9(i,t){if(i&1&&O(0,"span",14),i&2){let e=v(2);g("ngClass",e.decrementButtonIcon),I("data-pc-section","decrementbuttonicon")}}function g9(i,t){i&1&&O(0,"AngleDownIcon"),i&2&&I("data-pc-section","decrementbuttonicon")}function m9(i,t){}function v9(i,t){i&1&&E(0,m9,0,0,"ng-template")}function y9(i,t){if(i&1&&(se(0),E(1,g9,1,1,"AngleDownIcon",3)(2,v9,1,0,null,10),oe()),i&2){let e=v(2);m(),g("ngIf",!e.decrementButtonIconTemplate),m(),g("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function _9(i,t){if(i&1){let e=ce();C(0,"span",11)(1,"button",12),N("mousedown",function(r){A(e);let s=v();return k(s.onUpButtonMouseDown(r))})("mouseup",function(){A(e);let r=v();return k(r.onUpButtonMouseUp())})("mouseleave",function(){A(e);let r=v();return k(r.onUpButtonMouseLeave())})("keydown",function(r){A(e);let s=v();return k(s.onUpButtonKeyDown(r))})("keyup",function(){A(e);let r=v();return k(r.onUpButtonKeyUp())}),E(2,c9,1,2,"span",13)(3,p9,3,2,"ng-container",3),w(),C(4,"button",12),N("mousedown",function(r){A(e);let s=v();return k(s.onDownButtonMouseDown(r))})("mouseup",function(){A(e);let r=v();return k(r.onDownButtonMouseUp())})("mouseleave",function(){A(e);let r=v();return k(r.onDownButtonMouseLeave())})("keydown",function(r){A(e);let s=v();return k(s.onDownButtonKeyDown(r))})("keyup",function(){A(e);let r=v();return k(r.onDownButtonKeyUp())}),E(5,f9,1,2,"span",13)(6,y9,3,2,"ng-container",3),w()()}if(i&2){let e=v();I("data-pc-section","buttonGroup"),m(),H(e.incrementButtonClass),g("ngClass",yn(17,wE))("disabled",e.disabled),I("aria-hidden",!0)("data-pc-section","incrementbutton"),m(),g("ngIf",e.incrementButtonIcon),m(),g("ngIf",!e.incrementButtonIcon),m(),H(e.decrementButtonClass),g("ngClass",yn(18,xE))("disabled",e.disabled),I("aria-hidden",!0)("data-pc-section",e.decrementbutton),m(),g("ngIf",e.decrementButtonIcon),m(),g("ngIf",!e.decrementButtonIcon)}}function b9(i,t){if(i&1&&O(0,"span",14),i&2){let e=v(2);g("ngClass",e.incrementButtonIcon),I("data-pc-section","incrementbuttonicon")}}function C9(i,t){i&1&&O(0,"AngleUpIcon"),i&2&&I("data-pc-section","incrementbuttonicon")}function w9(i,t){}function x9(i,t){i&1&&E(0,w9,0,0,"ng-template")}function I9(i,t){if(i&1&&(se(0),E(1,C9,1,1,"AngleUpIcon",3)(2,x9,1,0,null,10),oe()),i&2){let e=v(2);m(),g("ngIf",!e.incrementButtonIconTemplate),m(),g("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function S9(i,t){if(i&1){let e=ce();C(0,"button",12),N("mousedown",function(r){A(e);let s=v();return k(s.onUpButtonMouseDown(r))})("mouseup",function(){A(e);let r=v();return k(r.onUpButtonMouseUp())})("mouseleave",function(){A(e);let r=v();return k(r.onUpButtonMouseLeave())})("keydown",function(r){A(e);let s=v();return k(s.onUpButtonKeyDown(r))})("keyup",function(){A(e);let r=v();return k(r.onUpButtonKeyUp())}),E(1,b9,1,2,"span",13)(2,I9,3,2,"ng-container",3),w()}if(i&2){let e=v();H(e.incrementButtonClass),g("ngClass",yn(8,wE))("disabled",e.disabled),I("aria-hidden",!0)("data-pc-section","incrementbutton"),m(),g("ngIf",e.incrementButtonIcon),m(),g("ngIf",!e.incrementButtonIcon)}}function E9(i,t){if(i&1&&O(0,"span",14),i&2){let e=v(2);g("ngClass",e.decrementButtonIcon),I("data-pc-section","decrementbuttonicon")}}function T9(i,t){i&1&&O(0,"AngleDownIcon"),i&2&&I("data-pc-section","decrementbuttonicon")}function D9(i,t){}function M9(i,t){i&1&&E(0,D9,0,0,"ng-template")}function O9(i,t){if(i&1&&(se(0),E(1,T9,1,1,"AngleDownIcon",3)(2,M9,1,0,null,10),oe()),i&2){let e=v(2);m(),g("ngIf",!e.decrementButtonIconTemplate),m(),g("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function A9(i,t){if(i&1){let e=ce();C(0,"button",12),N("mousedown",function(r){A(e);let s=v();return k(s.onDownButtonMouseDown(r))})("mouseup",function(){A(e);let r=v();return k(r.onDownButtonMouseUp())})("mouseleave",function(){A(e);let r=v();return k(r.onDownButtonMouseLeave())})("keydown",function(r){A(e);let s=v();return k(s.onDownButtonKeyDown(r))})("keyup",function(){A(e);let r=v();return k(r.onDownButtonKeyUp())}),E(1,E9,1,2,"span",13)(2,O9,3,2,"ng-container",3),w()}if(i&2){let e=v();H(e.decrementButtonClass),g("ngClass",yn(8,xE))("disabled",e.disabled),I("aria-hidden",!0)("data-pc-section","decrementbutton"),m(),g("ngIf",e.decrementButtonIcon),m(),g("ngIf",!e.decrementButtonIcon)}}var k9={provide:Nn,useExisting:Ft(()=>fy),multi:!0},fy=(()=>{class i{document;el;cd;injector;config;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant="outlined";minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}onInput=new U;onFocus=new U;onBlur=new U;onKeyDown=new U;onClear=new U;input;templates;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;ngControl=null;constructor(e,n,r,s,o){this.document=e,this.el=n,this.cd=r,this.injector=s,this.config=o}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this.clearIconTemplate=e.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=e.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=e.template;break}})}ngOnInit(){this.ngControl=this.injector.get(lo,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),n=new Map(e.map((r,s)=>[r,s]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>n.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let e=this.getDecimalChar();return new RegExp(`[${e}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,ve(L({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&e!=this.prefix&&(r=this.prefix+r),this.suffix&&e!=this.suffix&&(r=r+this.suffix),r}return e.toString()}return""}parseValue(e){let n=new RegExp(this._suffix,""),r=new RegExp(this._prefix,""),s=new RegExp(this._currency,""),o=e.replace(n,"").replace(r,"").trim().replace(/\s/g,"").replace(s,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(o){if(o==="-")return o;let a=+o;return isNaN(a)?null:a}return null}repeat(e,n,r){if(this.readonly)return;let s=n||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},s),this.spin(e,r)}spin(e,n){let r=this.step*n,s=this.parseValue(this.input?.nativeElement.value)||0,o=this.validateValue(s+r);this.maxlength&&this.maxlength<this.formatValue(o).length||(this.updateInput(o,null,"spin",null),this.updateModel(e,o),this.handleOnInput(e,s,o))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let n=e.target.selectionStart,r=e.target.selectionEnd,s=e.target.value,o=null;switch(e.altKey&&e.preventDefault(),e.key){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":for(let a=n;a<=s.length;a++){let l=a===0?0:a-1;if(this.isNumeralChar(s.charAt(l))){this.input.nativeElement.setSelectionRange(a,a);break}}break;case"ArrowRight":for(let a=r;a>=0;a--)if(this.isNumeralChar(s.charAt(a))){this.input.nativeElement.setSelectionRange(a,a);break}break;case"Tab":case"Enter":o=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(e,o);break;case"Backspace":{if(e.preventDefault(),n===r){if(n==1&&this.prefix||n==s.length&&this.suffix)break;let a=s.charAt(n-1),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(a)){let u=this.getDecimalLength(s);if(this._group.test(a))this._group.lastIndex=0,o=s.slice(0,n-2)+s.slice(n-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(n-1,n-1):o=s.slice(0,n-1)+s.slice(n);else if(l>0&&n>l){let d=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=s.slice(0,n-1)+d+s.slice(n)}else c===1?(o=s.slice(0,n-1)+"0"+s.slice(n),o=this.parseValue(o)>0?o:""):o=s.slice(0,n-1)+s.slice(n)}else this.mode==="currency"&&a.search(this._currency)!=-1&&(o=s.slice(1));this.updateValue(e,o,null,"delete-single")}else o=this.deleteRange(s,n,r),this.updateValue(e,o,null,"delete-range");break}case"Delete":if(e.preventDefault(),n===r){if(n==0&&this.prefix||n==s.length-1&&this.suffix)break;let a=s.charAt(n),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(a)){let u=this.getDecimalLength(s);if(this._group.test(a))this._group.lastIndex=0,o=s.slice(0,n)+s.slice(n+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(n+1,n+1):o=s.slice(0,n)+s.slice(n+1);else if(l>0&&n>l){let d=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=s.slice(0,n)+d+s.slice(n+1)}else c===1?(o=s.slice(0,n)+"0"+s.slice(n+1),o=this.parseValue(o)>0?o:""):o=s.slice(0,n)+s.slice(n+1)}this.updateValue(e,o,null,"delete-back-single")}else o=this.deleteRange(s,n,r),this.updateValue(e,o,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break;default:break}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let n=e.which||e.keyCode,r=String.fromCharCode(n),s=this.isDecimalSign(r),o=this.isMinusSign(r);n!=13&&e.preventDefault(),!s&&e.code==="NumpadDecimal"&&(s=!0,r=this._decimalChar,n=r.charCodeAt(0));let a=this.parseValue(this.input.nativeElement.value+r),l=a!=null?a.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(e,r,{isDecimalSign:s,isMinusSign:o});return}this.maxlength&&l.length>this.maxlength||(48<=n&&n<=57||o||s)&&this.insert(e,r,{isDecimalSign:s,isMinusSign:o})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let n=(e.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(n){this.maxlength&&(n=n.toString().substring(0,this.maxlength));let r=this.parseValue(n);r!=null&&this.insert(e,r.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(e){let n=e.search(this._decimal);this._decimal.lastIndex=0;let s=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:n,decimalCharIndexWithoutPrefix:s}}getCharIndexes(e){let n=e.search(this._decimal);this._decimal.lastIndex=0;let r=e.search(this._minusSign);this._minusSign.lastIndex=0;let s=e.search(this._suffix);this._suffix.lastIndex=0;let o=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:n,minusCharIndex:r,suffixCharIndex:s,currencyCharIndex:o}}insert(e,n,r={isDecimalSign:!1,isMinusSign:!1}){let s=n.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&s!==-1)return;let o=this.input?.nativeElement.selectionStart,a=this.input?.nativeElement.selectionEnd,l=this.input?.nativeElement.value.trim(),{decimalCharIndex:c,minusCharIndex:u,suffixCharIndex:d,currencyCharIndex:h}=this.getCharIndexes(l),p;if(r.isMinusSign)o===0&&(p=l,(u===-1||a!==0)&&(p=this.insertText(l,n,0,a)),this.updateValue(e,p,n,"insert"));else if(r.isDecimalSign)c>0&&o===c?this.updateValue(e,l,n,"insert"):c>o&&c<a?(p=this.insertText(l,n,o,a),this.updateValue(e,p,n,"insert")):c===-1&&this.maxFractionDigits&&(p=this.insertText(l,n,o,a),this.updateValue(e,p,n,"insert"));else{let f=this.numberFormat.resolvedOptions().maximumFractionDigits,y=o!==a?"range-insert":"insert";if(c>0&&o>c){if(o+n.length-(c+1)<=f){let _=h>=o?h-1:d>=o?d:l.length;p=l.slice(0,o)+n+l.slice(o+n.length,_)+l.slice(_),this.updateValue(e,p,n,y)}}else p=this.insertText(l,n,o,a),this.updateValue(e,p,n,y)}}insertText(e,n,r,s){if((n==="."?n:n.split(".")).length===2){let a=e.slice(r,s).search(this._decimal);return this._decimal.lastIndex=0,a>0?e.slice(0,r)+this.formatValue(n)+e.slice(s):e||this.formatValue(n)}else return s-r===e.length?this.formatValue(n):r===0?n+e.slice(s):s===e.length?e.slice(0,r)+n:e.slice(0,r)+n+e.slice(s)}deleteRange(e,n,r){let s;return r-n===e.length?s="":n===0?s=e.slice(r):r===e.length?s=e.slice(0,n):s=e.slice(0,n)+e.slice(r),s}initCursor(){let e=this.input?.nativeElement.selectionStart,n=this.input?.nativeElement.selectionEnd,r=this.input?.nativeElement.value,s=r.length,o=null,a=(this.prefixChar||"").length;r=r.replace(this._prefix,""),(e===n||e!==0||n<a)&&(e-=a);let l=r.charAt(e);if(this.isNumeralChar(l))return e+a;let c=e-1;for(;c>=0;)if(l=r.charAt(c),this.isNumeralChar(l)){o=c+a;break}else c--;if(o!==null)this.input?.nativeElement.setSelectionRange(o+1,o+1);else{for(c=e;c<s;)if(l=r.charAt(c),this.isNumeralChar(l)){o=c+a;break}else c++;o!==null&&this.input?.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){let e=this.input?.nativeElement.value;!this.readonly&&e!==M.getSelection()&&this.initCursor()}isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,n,r,s){let o=this.input?.nativeElement.value,a=null;n!=null&&(a=this.parseValue(n),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,r,s,n),this.handleOnInput(e,o,a))}handleOnInput(e,n,r){this.isValueChanged(n,r)&&(this.input.nativeElement.value=this.formatValue(r),this.input?.nativeElement.setAttribute("aria-valuenow",r),!this.isBlurUpdateOnMode&&this.updateModel(e,r),this.onInput.emit({originalEvent:e,value:r,formattedValue:n}))}isValueChanged(e,n){if(n===null&&e!==null)return!0;if(n!=null){let r=typeof e=="string"?this.parseValue(e):e;return n!==r}return!1}validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e}updateInput(e,n,r,s){n=n||"";let o=this.input?.nativeElement.value,a=this.formatValue(e),l=o.length;if(a!==s&&(a=this.concatValues(a,s)),l===0){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);let u=this.initCursor()+n.length;this.input.nativeElement.setSelectionRange(u,u)}else{let c=this.input.nativeElement.selectionStart,u=this.input.nativeElement.selectionEnd;if(this.maxlength&&a.length>this.maxlength&&(a=a.slice(0,this.maxlength),c=Math.min(c,this.maxlength),u=Math.min(u,this.maxlength)),this.maxlength&&this.maxlength<a.length)return;this.input.nativeElement.value=a;let d=a.length;if(r==="range-insert"){let h=this.parseValue((o||"").slice(0,c)),f=(h!==null?h.toString():"").split("").join(`(${this.groupChar})?`),y=new RegExp(f,"g");y.test(a);let _=n.split("").join(`(${this.groupChar})?`),b=new RegExp(_,"g");b.test(a.slice(y.lastIndex)),u=y.lastIndex+b.lastIndex,this.input.nativeElement.setSelectionRange(u,u)}else if(d===l)r==="insert"||r==="delete-back-single"?this.input.nativeElement.setSelectionRange(u+1,u+1):r==="delete-single"?this.input.nativeElement.setSelectionRange(u-1,u-1):(r==="delete-range"||r==="spin")&&this.input.nativeElement.setSelectionRange(u,u);else if(r==="delete-back-single"){let h=o.charAt(u-1),p=o.charAt(u),f=l-d,y=this._group.test(p);y&&f===1?u+=1:!y&&this.isNumeralChar(h)&&(u+=-1*f+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(u,u)}else if(o==="-"&&r==="insert"){this.input.nativeElement.setSelectionRange(0,0);let p=this.initCursor()+n.length+1;this.input.nativeElement.setSelectionRange(p,p)}else u=u+(d-l),this.input.nativeElement.setSelectionRange(u,u)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,n){if(e&&n){let r=n.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?r!==-1?e:e.replace(this.suffixChar,"").split(this._decimal)[0]+n.replace(this.suffixChar,"").slice(r)+this.suffixChar:r!==-1?e.split(this._decimal)[0]+n.slice(r):e}return e}getDecimalLength(e){if(e){let n=e.split(this._decimal);if(n.length===2)return n[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let n=this.validateValue(this.parseValue(this.input.nativeElement.value)),r=n?.toString();this.input.nativeElement.value=this.formatValue(r),this.input.nativeElement.setAttribute("aria-valuenow",r),this.updateModel(e,n),this.onBlur.emit(e)}formattedValue(){let e=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(e)}updateModel(e,n){this.value!==n&&(this.value=n,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(n):this.onModelChange(n)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(n){return new(n||i)(D(Ie),D(pe),D(je),D(Pn),D(Ot))};static \u0275cmp=B({type:i,selectors:[["p-inputNumber"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},viewQuery:function(n,r){if(n&1&&be(n9,5),n&2){let s;X(s=Q())&&(r.input=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(n,r){n&2&&sn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputnumber-clearable",r.showClear&&r.buttonLayout!="vertical")},inputs:{showButtons:[2,"showButtons","showButtons",V],format:[2,"format","format",V],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[2,"size","size",we],maxlength:[2,"maxlength","maxlength",we],tabindex:[2,"tabindex","tabindex",we],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[2,"ariaRequired","ariaRequired",V],name:"name",required:[2,"required","required",V],autocomplete:"autocomplete",min:[2,"min","min",we],max:[2,"max","max",we],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[2,"readonly","readonly",V],step:[2,"step","step",we],allowEmpty:[2,"allowEmpty","allowEmpty",V],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[2,"useGrouping","useGrouping",V],variant:"variant",minFractionDigits:[2,"minFractionDigits","minFractionDigits",e=>we(e,null)],maxFractionDigits:[2,"maxFractionDigits","maxFractionDigits",e=>we(e,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[2,"showClear","showClear",V],autofocus:[2,"autofocus","autofocus",V],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[vn([k9]),Re,Gt],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(n,r){if(n&1){let s=ce();C(0,"span",1)(1,"input",2,0),N("input",function(a){return A(s),k(r.onUserInput(a))})("keydown",function(a){return A(s),k(r.onInputKeyDown(a))})("keypress",function(a){return A(s),k(r.onInputKeyPress(a))})("paste",function(a){return A(s),k(r.onPaste(a))})("click",function(){return A(s),k(r.onInputClick())})("focus",function(a){return A(s),k(r.onInputFocus(a))})("blur",function(a){return A(s),k(r.onInputBlur(a))}),w(),E(3,l9,3,2,"ng-container",3)(4,_9,7,19,"span",4)(5,S9,3,9,"button",5)(6,A9,3,9,"button",5),w()}n&2&&(H(r.styleClass),g("ngClass",Zi(39,i9,r.showButtons&&r.buttonLayout==="stacked",r.showButtons&&r.buttonLayout==="horizontal",r.showButtons&&r.buttonLayout==="vertical"))("ngStyle",r.style),I("data-pc-name","inputnumber")("data-pc-section","root"),m(),H(r.inputStyleClass),sn("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled"),g("ngClass","p-inputnumber-input")("ngStyle",r.inputStyle)("value",r.formattedValue())("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),I("id",r.inputId)("variant",r.variant)("aria-valuemin",r.min)("aria-valuemax",r.max)("aria-valuenow",r.value)("placeholder",r.placeholder)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("title",r.title)("size",r.size)("name",r.name)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-required",r.ariaRequired)("required",r.required)("min",r.min)("max",r.max)("data-pc-section","input"),m(2),g("ngIf",r.buttonLayout!="vertical"&&r.showClear&&r.value),m(),g("ngIf",r.showButtons&&r.buttonLayout==="stacked"),m(),g("ngIf",r.showButtons&&r.buttonLayout!=="stacked"),m(),g("ngIf",r.showButtons&&r.buttonLayout!=="stacked"))},dependencies:()=>[Ke,lt,vt,Xe,fE,tp,hi,_n,py,Pc],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return i})(),gy=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,rp,ho,ar,_n,py,Pc,Qe]})}return i})();var IE=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,hy,gy,co,Qe,or,_E,bE,CE,uo,hy,gy,co,Qe]})}return i})();var my=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["EyeIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var vy=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["RefreshIcon"]],standalone:!0,features:[fe,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1),w(),C(3,"defs")(4,"clipPath",2),O(5,"rect",3),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var yy=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["SearchMinusIcon"]],standalone:!0,features:[fe,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1),w(),C(3,"defs")(4,"clipPath",2),O(5,"rect",3),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var _y=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["SearchPlusIcon"]],standalone:!0,features:[fe,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1),w(),C(3,"defs")(4,"clipPath",2),O(5,"rect",3),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var by=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["UndoIcon"]],standalone:!0,features:[fe,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1),w(),C(3,"defs")(4,"clipPath",2),O(5,"rect",3),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var SE=(()=>{class i{pFocusTrapDisabled=!1;platformId=j(ot);host=j(pe);document=j(Ie);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){gt(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){e.pFocusTrapDisabled&&gt(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let e="0",n=r=>M.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:e,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:r?.bind(this)});this.firstHiddenFocusableElement=n(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=n(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:n,relatedTarget:r}=e,s=r===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(r)?M.getFirstFocusableElement(n.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;M.focus(s)}onLastHiddenElementFocus(e){let{currentTarget:n,relatedTarget:r}=e,s=r===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(r)?M.getLastFocusableElement(n.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;M.focus(s)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=st({type:i,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",V]},features:[Re,Gt]})}return i})(),EE=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe]})}return i})();var R9=["mask"],L9=["previewButton"],N9=["closeButton"],V9=(i,t)=>({height:i,width:t,border:"none"}),j9=(i,t)=>({showTransitionParams:i,hideTransitionParams:t}),B9=i=>({value:"visible",params:i});function H9(i,t){i&1&&Te(0)}function U9(i,t){if(i&1&&(se(0),E(1,H9,1,0,"ng-container",10),oe()),i&2){let e=v(2);m(),g("ngTemplateOutlet",e.indicatorTemplate)}}function z9(i,t){i&1&&O(0,"EyeIcon",11),i&2&&g("styleClass","p-image-preview-icon")}function $9(i,t){if(i&1){let e=ce();C(0,"button",8,0),N("click",function(){A(e);let r=v();return k(r.onImageClick())}),E(2,U9,2,1,"ng-container",9)(3,z9,1,1,"ng-template",null,1,Rt),w()}if(i&2){let e=xt(4),n=v();g("ngStyle",it(4,V9,n.height+"px",n.width+"px")),I("aria-label",n.zoomImageAriaLabel),m(2),g("ngIf",n.indicatorTemplate)("ngIfElse",e)}}function G9(i,t){i&1&&O(0,"RefreshIcon")}function W9(i,t){}function q9(i,t){i&1&&E(0,W9,0,0,"ng-template")}function Y9(i,t){i&1&&O(0,"UndoIcon")}function K9(i,t){}function X9(i,t){i&1&&E(0,K9,0,0,"ng-template")}function Q9(i,t){i&1&&O(0,"SearchMinusIcon")}function Z9(i,t){}function J9(i,t){i&1&&E(0,Z9,0,0,"ng-template")}function e7(i,t){i&1&&O(0,"SearchPlusIcon")}function t7(i,t){}function n7(i,t){i&1&&E(0,t7,0,0,"ng-template")}function i7(i,t){i&1&&O(0,"TimesIcon")}function r7(i,t){}function s7(i,t){i&1&&E(0,r7,0,0,"ng-template")}function o7(i,t){if(i&1){let e=ce();C(0,"div"),N("@animation.start",function(r){A(e);let s=v(2);return k(s.onAnimationStart(r))})("@animation.done",function(r){A(e);let s=v(2);return k(s.onAnimationEnd(r))}),C(1,"img",17),N("click",function(){A(e);let r=v(2);return k(r.onPreviewImageClick())}),w()()}if(i&2){let e=v(2);g("@animation",he(8,B9,it(5,j9,e.showTransitionOptions,e.hideTransitionOptions))),m(),g("ngStyle",e.imagePreviewStyle()),I("src",e.previewImageSrc?e.previewImageSrc:e.src,Sr)("srcset",e.previewImageSrcSet)("sizes",e.previewImageSizes)}}function a7(i,t){if(i&1){let e=ce();C(0,"div",12,2),N("click",function(){A(e);let r=v();return k(r.onMaskClick())})("keydown",function(r){A(e);let s=v();return k(s.onMaskKeydown(r))}),C(2,"div",13),N("click",function(r){A(e);let s=v();return k(s.handleToolbarClick(r))}),C(3,"button",14),N("click",function(){A(e);let r=v();return k(r.rotateRight())}),E(4,G9,1,0,"RefreshIcon",15)(5,q9,1,0,null,10),w(),C(6,"button",14),N("click",function(){A(e);let r=v();return k(r.rotateLeft())}),E(7,Y9,1,0,"UndoIcon",15)(8,X9,1,0,null,10),w(),C(9,"button",16),N("click",function(){A(e);let r=v();return k(r.zoomOut())}),E(10,Q9,1,0,"SearchMinusIcon",15)(11,J9,1,0,null,10),w(),C(12,"button",16),N("click",function(){A(e);let r=v();return k(r.zoomIn())}),E(13,e7,1,0,"SearchPlusIcon",15)(14,n7,1,0,null,10),w(),C(15,"button",14,3),N("click",function(){A(e);let r=v();return k(r.closePreview())}),E(17,i7,1,0,"TimesIcon",15)(18,s7,1,0,null,10),w()(),E(19,o7,2,10,"div",15),w()}if(i&2){let e=v();I("aria-modal",e.maskVisible),m(3),I("aria-label",e.rightAriaLabel()),m(),g("ngIf",!e.rotateRightIconTemplate),m(),g("ngTemplateOutlet",e.rotateRightIconTemplate),m(),I("aria-label",e.leftAriaLabel()),m(),g("ngIf",!e.rotateLeftIconTemplate),m(),g("ngTemplateOutlet",e.rotateLeftIconTemplate),m(),g("disabled",e.isZoomOutDisabled),I("aria-label",e.zoomOutAriaLabel()),m(),g("ngIf",!e.zoomOutIconTemplate),m(),g("ngTemplateOutlet",e.zoomOutIconTemplate),m(),g("disabled",e.isZoomInDisabled),I("aria-label",e.zoomInAriaLabel()),m(),g("ngIf",!e.zoomInIconTemplate),m(),g("ngTemplateOutlet",e.zoomInIconTemplate),m(),I("aria-label",e.closeAriaLabel()),m(2),g("ngIf",!e.closeIconTemplate),m(),g("ngTemplateOutlet",e.closeIconTemplate),m(),g("ngIf",e.previewVisible)}}var TE=(()=>{class i{document;config;cd;el;imageClass;imageStyle;styleClass;style;src;srcSet;sizes;previewImageSrc;previewImageSrcSet;previewImageSizes;alt;width;height;loading;appendTo;preview=!1;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";onShow=new U;onHide=new U;onImageError=new U;mask;previewButton;closeButton;templates;indicatorTemplate;rotateRightIconTemplate;rotateLeftIconTemplate;zoomOutIconTemplate;zoomInIconTemplate;closeIconTemplate;maskVisible=!1;previewVisible=!1;rotate=0;scale=1;previewClick=!1;container;wrapper;get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}zoomSettings={default:1,step:.1,max:1.5,min:.5};constructor(e,n,r,s){this.document=e,this.config=n,this.cd=r,this.el=s}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"indicator":this.indicatorTemplate=e.template;break;case"rotaterighticon":this.rotateRightIconTemplate=e.template;break;case"rotatelefticon":this.rotateLeftIconTemplate=e.template;break;case"zoomouticon":this.zoomOutIconTemplate=e.template;break;case"zoominicon":this.zoomInIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.indicatorTemplate=e.template;break}})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0,M.blockBodyScroll())}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onMaskKeydown(e){switch(e.code){case"Escape":this.onMaskClick(),setTimeout(()=>{M.focus(this.previewButton.nativeElement)},25),e.preventDefault();break;default:break}}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),setTimeout(()=>{M.focus(this.closeButton.nativeElement)},25);break;case"void":M.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":Xt.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({});break}}moveOnTop(){Xt.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):M.appendChild(this.wrapper,this.appendTo))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}get zoomImageAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomImage:void 0}containerClass(){return{"p-image p-component":!0,"p-image-preview-container":this.preview}}handleToolbarClick(e){e.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default,M.unblockBodyScroll()}imageError(e){this.onImageError.emit(e)}rightAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateRight:void 0}leftAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateLeft:void 0}zoomInAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomIn:void 0}zoomOutAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomOut:void 0}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onKeydownHandler(e){this.previewVisible&&this.closePreview()}static \u0275fac=function(n){return new(n||i)(D(Ie),D(Ot),D(je),D(pe))};static \u0275cmp=B({type:i,selectors:[["p-image"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},viewQuery:function(n,r){if(n&1&&(be(R9,5),be(L9,5),be(N9,5)),n&2){let s;X(s=Q())&&(r.mask=s.first),X(s=Q())&&(r.previewButton=s.first),X(s=Q())&&(r.closeButton=s.first)}},hostAttrs:[1,"p-element"],hostBindings:function(n,r){n&1&&N("keydown.escape",function(o){return r.onKeydownHandler(o)},!1,Hd)},inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",srcSet:"srcSet",sizes:"sizes",previewImageSrc:"previewImageSrc",previewImageSrcSet:"previewImageSrcSet",previewImageSizes:"previewImageSizes",alt:"alt",width:"width",height:"height",loading:"loading",appendTo:"appendTo",preview:[2,"preview","preview",V],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},features:[Re],decls:4,vars:16,consts:[["previewButton",""],["defaultTemplate",""],["mask",""],["closeButton",""],[3,"ngClass","ngStyle"],[3,"error","ngStyle"],["type","button","class","p-image-preview-indicator",3,"ngStyle","click",4,"ngIf"],["class","p-image-mask p-component-overlay p-component-overlay-enter","role","dialog","pFocusTrap","",3,"click","keydown",4,"ngIf"],["type","button",1,"p-image-preview-indicator",3,"click","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[3,"styleClass"],["role","dialog","pFocusTrap","",1,"p-image-mask","p-component-overlay","p-component-overlay-enter",3,"click","keydown"],[1,"p-image-toolbar",3,"click"],["type","button",1,"p-image-action","p-link",3,"click"],[4,"ngIf"],["type","button",1,"p-image-action","p-link",3,"click","disabled"],[1,"p-image-preview",3,"click","ngStyle"]],template:function(n,r){n&1&&(C(0,"span",4)(1,"img",5),N("error",function(o){return r.imageError(o)}),w(),E(2,$9,5,7,"button",6)(3,a7,20,19,"div",7),w()),n&2&&(H(r.styleClass),g("ngClass",r.containerClass())("ngStyle",r.style),m(),H(r.imageClass),g("ngStyle",r.imageStyle),I("src",r.src,Sr)("srcset",r.srcSet)("sizes",r.sizes)("alt",r.alt)("width",r.width)("height",r.height)("loading",r.loading),m(),g("ngIf",r.preview),m(),g("ngIf",r.maskVisible))},dependencies:()=>[Ke,lt,vt,Xe,vy,my,by,yy,_y,_n,SE],styles:[`@layer primeng{.p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block;line-height:0}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;outline:none;border:none;padding:0;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon.pi{font-size:1.5rem}.p-image-preview-icon.p-icon{scale:1.5}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex;z-index:1}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-action.p-link[disabled]{opacity:.5}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}}
`],encapsulation:2,data:{animation:[qn("animation",[Ht("void => visible",[It({transform:"scale(0.7)",opacity:0}),Yt("{{showTransitionParams}}")]),Ht("visible => void",[Yt("{{hideTransitionParams}}",It({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return i})(),DE=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,Qe,vy,my,by,yy,_y,_n,EE,Qe]})}return i})();var Cy=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["PlusIcon"]],standalone:!0,features:[fe,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1),w(),C(3,"defs")(4,"clipPath",2),O(5,"rect",3),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var wy=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["UploadIcon"]],standalone:!0,features:[fe,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1),w(),C(3,"defs")(4,"clipPath",2),O(5,"rect",3),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var xy=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[fe,J],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1)(3,"path",2)(4,"path",3),w(),C(5,"defs")(6,"clipPath",4),O(7,"rect",5),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(5),g("id",r.pathId))},encapsulation:2})}return i})();var Iy=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["InfoCircleIcon"]],standalone:!0,features:[fe,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1),w(),C(3,"defs")(4,"clipPath",2),O(5,"rect",3),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var Sy=(()=>{class i extends xe{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["TimesCircleIcon"]],standalone:!0,features:[fe,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0)(1,"g"),O(2,"path",1),w(),C(3,"defs")(4,"clipPath",2),O(5,"rect",3),w()()()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),I("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var c7=(i,t)=>({showTransitionParams:i,hideTransitionParams:t}),u7=i=>({value:"visible",params:i});function d7(i,t){if(i&1&&O(0,"span"),i&2){let e=v().$implicit;H("p-message-icon pi "+e.icon),I("data-pc-section","icon")}}function h7(i,t){i&1&&O(0,"CheckIcon"),i&2&&I("data-pc-section","icon")}function p7(i,t){i&1&&O(0,"InfoCircleIcon"),i&2&&I("data-pc-section","icon")}function f7(i,t){i&1&&O(0,"TimesCircleIcon"),i&2&&I("data-pc-section","icon")}function g7(i,t){i&1&&O(0,"ExclamationTriangleIcon"),i&2&&I("data-pc-section","icon")}function m7(i,t){if(i&1&&(C(0,"span",10),se(1),E(2,h7,1,1,"CheckIcon",11)(3,p7,1,1,"InfoCircleIcon",11)(4,f7,1,1,"TimesCircleIcon",11)(5,g7,1,1,"ExclamationTriangleIcon",11),oe(),w()),i&2){let e=v().$implicit;m(2),g("ngIf",e.severity==="success"),m(),g("ngIf",e.severity==="info"),m(),g("ngIf",e.severity==="error"),m(),g("ngIf",e.severity==="warn")}}function v7(i,t){if(i&1&&O(0,"span",14),i&2){let e=v(2).$implicit;g("innerHTML",e.summary,Qs),I("data-pc-section","summary")}}function y7(i,t){if(i&1&&O(0,"span",15),i&2){let e=v(2).$implicit;g("innerHTML",e.detail,Qs),I("data-pc-section","detail")}}function _7(i,t){if(i&1&&(se(0),E(1,v7,1,2,"span",12)(2,y7,1,2,"span",13),oe()),i&2){let e=v().$implicit;m(),g("ngIf",e.summary),m(),g("ngIf",e.detail)}}function b7(i,t){if(i&1&&(C(0,"span",18),et(1),w()),i&2){let e=v(2).$implicit;I("data-pc-section","summary"),m(),Mt(e.summary)}}function C7(i,t){if(i&1&&(C(0,"span",19),et(1),w()),i&2){let e=v(2).$implicit;I("data-pc-section","detail"),m(),Mt(e.detail)}}function w7(i,t){if(i&1&&E(0,b7,2,2,"span",16)(1,C7,2,2,"span",17),i&2){let e=v().$implicit;g("ngIf",e.summary),m(),g("ngIf",e.detail)}}function x7(i,t){if(i&1){let e=ce();C(0,"button",20),N("click",function(){A(e);let r=v().index,s=v(2);return k(s.removeMessage(r))}),O(1,"TimesIcon",21),w()}if(i&2){let e=v(3);I("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),m(),g("styleClass","p-message-close-icon"),I("data-pc-section","closeicon")}}function I7(i,t){if(i&1&&(C(0,"div",5)(1,"div",6),E(2,d7,1,3,"span",7)(3,m7,6,4,"span",8)(4,_7,3,2,"ng-container",3)(5,w7,2,2,"ng-template",null,1,Rt)(7,x7,2,4,"button",9),w()()),i&2){let e,n=t.$implicit,r=xt(6),s=v(2);H("p-message p-message-"+n.severity),g("@messageAnimation",he(13,u7,it(10,c7,s.showTransitionOptions,s.hideTransitionOptions))),m(),I("data-pc-section","wrapper")("id",n.id||null),m(),g("ngIf",n.icon),m(),g("ngIf",!n.icon),m(),g("ngIf",!s.escape)("ngIfElse",r),m(3),g("ngIf",s.closable&&((e=n.closable)!==null&&e!==void 0?e:!0))}}function S7(i,t){if(i&1&&(se(0),E(1,I7,8,15,"div",4),oe()),i&2){let e=v();m(),g("ngForOf",e.messages)}}function E7(i,t){i&1&&Te(0)}function T7(i,t){if(i&1&&(C(0,"div",22)(1,"div",6),E(2,E7,1,0,"ng-container",23),w()()),i&2){let e=v();g("ngClass","p-message p-message-"+e.severity),m(2),g("ngTemplateOutlet",e.contentTemplate)}}var ME=(()=>{class i{messageService;el;cd;config;set value(e){this.messages=e,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new U;onClose=new U;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(e,n,r,s){this.messageService=e,this.el=n,this.cd=r,this.config=s}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){Array.isArray(e)||(e=[e]);let n=e.filter(r=>this.key===r.key);this.messages=this.messages?[...this.messages,...n]:[...n],this.startMessageLifes(n),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return e&&e.offsetParent?this.contentTemplate!=null||this.messages&&this.messages.length>0:!1}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){let n=this.messages[e];this.messages=this.messages?.filter((r,s)=>s!==e),n&&this.onClose.emit(n),this.valueChange.emit(this.messages)}get icon(){let e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(n=>n.life&&this.startMessageLife(n))}startMessageLife(e){let n=Af(e.life).subscribe(()=>{this.messages=this.messages?.filter(r=>r!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(r=>r!==n),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(n)}static \u0275fac=function(n){return new(n||i)(D(iE,8),D(pe),D(je),D(Ot))};static \u0275cmp=B({type:i,selectors:[["p-messages"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[2,"closable","closable",V],style:"style",styleClass:"styleClass",enableService:[2,"enableService","enableService",V],key:"key",escape:[2,"escape","escape",V],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[Re],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(n,r){if(n&1&&(C(0,"div",2),E(1,S7,2,1,"ng-container",3)(2,T7,3,2,"ng-template",null,0,Rt),w()),n&2){let s=xt(3);H(r.styleClass),g("ngStyle",r.style),I("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),m(),g("ngIf",!r.contentTemplate)("ngIfElse",s)}},dependencies:()=>[Ke,er,lt,vt,Xe,sr,Ya,Iy,Sy,xy,_n],styles:[`@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}
`],encapsulation:2,data:{animation:[qn("messageAnimation",[Ht(":enter",[It({opacity:0,transform:"translateY(-25%)"}),Yt("{{showTransitionParams}}")]),Ht(":leave",[Yt("{{hideTransitionParams}}",It({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return i})(),Ey=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,or,Ya,Iy,Sy,xy,_n]})}return i})();var M7=(i,t)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":i,"p-progressbar-indeterminate":t}),O7=(i,t)=>({width:i,display:"flex",background:t}),A7=i=>({$implicit:i}),k7=i=>({display:i}),P7=i=>({background:i});function F7(i,t){if(i&1&&(C(0,"div",7),et(1),w()),i&2){let e=v(2);g("ngStyle",he(4,k7,e.value!=null&&e.value!==0?"flex":"none")),I("data-pc-section","label"),m(),Jm(" ",e.value,"",e.unit," ")}}function R7(i,t){i&1&&Te(0)}function L7(i,t){if(i&1&&(C(0,"div",3)(1,"div",4),E(2,F7,2,6,"div",5)(3,R7,1,0,"ng-container",6),w()()),i&2){let e=v();g("ngStyle",it(5,O7,e.value+"%",e.color)),I("data-pc-section","value"),m(2),g("ngIf",e.showValue&&!e.contentTemplate),m(),g("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",he(8,A7,e.value))}}function N7(i,t){if(i&1&&(C(0,"div",8),O(1,"div",3),w()),i&2){let e=v();I("data-pc-section","container"),m(),g("ngStyle",he(3,P7,e.color)),I("data-pc-section","value")}}var OE=(()=>{class i{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template}})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=B({type:i,selectors:[["p-progressBar"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",we],showValue:[2,"showValue","showValue",V],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[Re],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(n,r){n&1&&(C(0,"div",0),E(1,L7,4,10,"div",1)(2,N7,2,5,"div",2),w()),n&2&&(H(r.styleClass),g("ngStyle",r.style)("ngClass",it(11,M7,r.mode==="determinate",r.mode==="indeterminate")),I("aria-valuemin",0)("aria-valuenow",r.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),m(),g("ngIf",r.mode==="determinate"),m(),g("ngIf",r.mode==="indeterminate"))},dependencies:[Ke,lt,vt,Xe],styles:[`@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}
`],encapsulation:2,changeDetection:0})}return i})(),Ty=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe]})}return i})();var j7=["advancedfileinput"],B7=["basicfileinput"],H7=["content"],U7=(i,t,e,n,r)=>({$implicit:i,uploadedFiles:t,chooseCallback:e,clearCallback:n,uploadCallback:r}),z7=(i,t,e,n,r,s,o,a)=>({$implicit:i,uploadedFiles:t,chooseCallback:e,clearCallback:n,removeUploadedFileCallback:r,removeFileCallback:s,progress:o,messages:a}),$7=(i,t)=>({"p-focus":i,"p-disabled":t}),G7=(i,t,e,n)=>({"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":i,"p-fileupload-choose-selected":t,"p-focus":e,"p-disabled":n});function W7(i,t){if(i&1&&O(0,"span",21),i&2){let e=v(3);H(e.chooseIcon),g("ngClass","p-button-icon p-button-icon-left"),I("aria-label",!0)("data-pc-section","chooseicon")}}function q7(i,t){i&1&&O(0,"PlusIcon",24),i&2&&(g("styleClass","p-button-icon p-button-icon-left"),I("aria-label",!0)("data-pc-section","chooseicon"))}function Y7(i,t){}function K7(i,t){i&1&&E(0,Y7,0,0,"ng-template")}function X7(i,t){if(i&1&&(C(0,"span",25),E(1,K7,1,0,null,11),w()),i&2){let e=v(4);I("aria-label",!0)("data-pc-section","chooseicon"),m(),g("ngTemplateOutlet",e.chooseIconTemplate)}}function Q7(i,t){if(i&1&&(se(0),E(1,q7,1,3,"PlusIcon",22)(2,X7,2,3,"span",23),oe()),i&2){let e=v(3);m(),g("ngIf",!e.chooseIconTemplate),m(),g("ngIf",e.chooseIconTemplate)}}function Z7(i,t){if(i&1&&O(0,"span",28),i&2){let e=v(4);g("ngClass",e.uploadIcon),I("aria-hidden",!0)}}function J7(i,t){i&1&&O(0,"UploadIcon",24),i&2&&g("styleClass","p-button-icon p-button-icon-left")}function ej(i,t){}function tj(i,t){i&1&&E(0,ej,0,0,"ng-template")}function nj(i,t){if(i&1&&(C(0,"span",25),E(1,tj,1,0,null,11),w()),i&2){let e=v(5);I("aria-hidden",!0),m(),g("ngTemplateOutlet",e.uploadIconTemplate)}}function ij(i,t){if(i&1&&(se(0),E(1,J7,1,1,"UploadIcon",22)(2,nj,2,2,"span",23),oe()),i&2){let e=v(4);m(),g("ngIf",!e.uploadIconTemplate),m(),g("ngIf",e.uploadIconTemplate)}}function rj(i,t){if(i&1){let e=ce();C(0,"p-button",26),N("onClick",function(){A(e);let r=v(3);return k(r.upload())}),E(1,Z7,1,2,"span",27)(2,ij,3,2,"ng-container",9),w()}if(i&2){let e=v(3);g("label",e.uploadButtonLabel)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass",e.uploadStyleClass),m(),g("ngIf",e.uploadIcon),m(),g("ngIf",!e.uploadIcon)}}function sj(i,t){if(i&1&&O(0,"span",28),i&2){let e=v(4);g("ngClass",e.cancelIcon)}}function oj(i,t){i&1&&O(0,"TimesIcon",24),i&2&&(g("styleClass","p-button-icon p-button-icon-left"),I("aria-hidden",!0))}function aj(i,t){}function lj(i,t){i&1&&E(0,aj,0,0,"ng-template")}function cj(i,t){if(i&1&&(C(0,"span",25),E(1,lj,1,0,null,11),w()),i&2){let e=v(5);I("aria-hidden",!0),m(),g("ngTemplateOutlet",e.cancelIconTemplate)}}function uj(i,t){if(i&1&&(se(0),E(1,oj,1,2,"TimesIcon",22)(2,cj,2,2,"span",23),oe()),i&2){let e=v(4);m(),g("ngIf",!e.cancelIconTemplate),m(),g("ngIf",e.cancelIconTemplate)}}function dj(i,t){if(i&1){let e=ce();C(0,"p-button",26),N("onClick",function(){A(e);let r=v(3);return k(r.clear())}),E(1,sj,1,1,"span",27)(2,uj,3,2,"ng-container",9),w()}if(i&2){let e=v(3);g("label",e.cancelButtonLabel)("disabled",!e.hasFiles()||e.uploading)("styleClass",e.cancelStyleClass),m(),g("ngIf",e.cancelIcon),m(),g("ngIf",!e.cancelIcon)}}function hj(i,t){if(i&1){let e=ce();se(0),C(1,"span",17),N("focus",function(){A(e);let r=v(2);return k(r.onFocus())})("blur",function(){A(e);let r=v(2);return k(r.onBlur())})("click",function(){A(e);let r=v(2);return k(r.choose())})("keydown.enter",function(){A(e);let r=v(2);return k(r.choose())}),C(2,"input",7,0),N("change",function(r){A(e);let s=v(2);return k(s.onFileSelect(r))}),w(),E(4,W7,1,5,"span",18)(5,Q7,3,2,"ng-container",9),C(6,"span",19),et(7),w()(),E(8,rj,3,5,"p-button",20)(9,dj,3,5,"p-button",20),oe()}if(i&2){let e=v(2);m(),H(e.chooseStyleClass),g("ngClass",it(16,$7,e.focus,e.disabled||e.isChooseDisabled())),I("data-pc-section","choosebutton"),m(),g("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),I("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),m(2),g("ngIf",e.chooseIcon),m(),g("ngIf",!e.chooseIcon),m(),I("data-pc-section","choosebuttonlabel"),m(),Mt(e.chooseButtonLabel),m(),g("ngIf",!e.auto&&e.showUploadButton),m(),g("ngIf",!e.auto&&e.showCancelButton)}}function pj(i,t){i&1&&Te(0)}function fj(i,t){i&1&&Te(0)}function gj(i,t){if(i&1&&O(0,"p-progressBar",29),i&2){let e=v(2);g("value",e.progress)("showValue",!1)}}function mj(i,t){if(i&1){let e=ce();C(0,"div")(1,"img",35),N("error",function(r){A(e);let s=v(5);return k(s.imageError(r))}),w()()}if(i&2){let e=v().$implicit,n=v(4);m(),g("src",e.objectURL,Sr)("width",n.previewWidth)}}function vj(i,t){i&1&&O(0,"TimesIcon")}function yj(i,t){}function _j(i,t){i&1&&E(0,yj,0,0,"ng-template")}function bj(i,t){if(i&1){let e=ce();C(0,"div",32),E(1,mj,2,2,"div",9),C(2,"div",33),et(3),w(),C(4,"div"),et(5),w(),C(6,"div")(7,"button",34),N("click",function(r){let s=A(e).index,o=v(4);return k(o.remove(r,s))}),E(8,vj,1,0,"TimesIcon",9)(9,_j,1,0,null,11),w()()()}if(i&2){let e=t.$implicit,n=v(4);m(),g("ngIf",n.isImage(e)),m(2),Mt(e.name),m(2),Mt(n.formatSize(e.size)),m(2),H(n.removeStyleClass),g("disabled",n.uploading),m(),g("ngIf",!n.cancelIconTemplate),m(),g("ngTemplateOutlet",n.cancelIconTemplate)}}function Cj(i,t){if(i&1&&(C(0,"div"),E(1,bj,10,8,"div",31),w()),i&2){let e=v(3);m(),g("ngForOf",e.files)}}function wj(i,t){}function xj(i,t){if(i&1&&(C(0,"div"),E(1,wj,0,0,"ng-template",36),w()),i&2){let e=v(3);m(),g("ngForOf",e.files)("ngForTemplate",e.fileTemplate)}}function Ij(i,t){if(i&1&&(C(0,"div",30),E(1,Cj,2,1,"div",9)(2,xj,2,2,"div",9),w()),i&2){let e=v(2);m(),g("ngIf",!e.fileTemplate),m(),g("ngIf",e.fileTemplate)}}function Sj(i,t){i&1&&Te(0)}function Ej(i,t){i&1&&Te(0)}function Tj(i,t){if(i&1&&(C(0,"div",37),E(1,Ej,1,0,"ng-container",11),w()),i&2){let e=v(2);m(),g("ngTemplateOutlet",e.emptyTemplate)}}function Dj(i,t){if(i&1){let e=ce();C(0,"div",6)(1,"input",7,0),N("change",function(r){A(e);let s=v();return k(s.onFileSelect(r))}),w(),C(3,"div",8),E(4,hj,10,19,"ng-container",9)(5,pj,1,0,"ng-container",10)(6,fj,1,0,"ng-container",11),w(),C(7,"div",12,1),N("dragenter",function(r){A(e);let s=v();return k(s.onDragEnter(r))})("dragleave",function(r){A(e);let s=v();return k(s.onDragLeave(r))})("drop",function(r){A(e);let s=v();return k(s.onDrop(r))}),E(9,gj,1,2,"p-progressBar",13),O(10,"p-messages",14),E(11,Ij,3,2,"div",15)(12,Sj,1,0,"ng-container",10)(13,Tj,2,1,"div",16),w()()}if(i&2){let e=v();H(e.styleClass),g("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",e.style),I("data-pc-name","fileupload")("data-pc-section","root"),m(),Ki("display","none"),g("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),I("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),m(2),I("data-pc-section","buttonbar"),m(),g("ngIf",!e.headerTemplate),m(),g("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",yx(27,U7,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.upload.bind(e))),m(),g("ngTemplateOutlet",e.toolbarTemplate),m(),I("data-pc-section","content"),m(2),g("ngIf",e.hasFiles()),m(),g("value",e.msgs)("enableService",!1),m(),g("ngIf",e.hasFiles()),m(),g("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",_x(33,z7,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.removeUploadedFile.bind(e),e.remove.bind(e),e.progress,e.msgs)),m(),g("ngIf",e.emptyTemplate&&!e.hasFiles()&&!e.hasUploadedFiles())}}function Mj(i,t){if(i&1&&O(0,"span",28),i&2){let e=v(3);g("ngClass",e.uploadIcon)}}function Oj(i,t){i&1&&O(0,"UploadIcon",24),i&2&&g("styleClass","p-button-icon p-button-icon-left")}function Aj(i,t){}function kj(i,t){i&1&&E(0,Aj,0,0,"ng-template")}function Pj(i,t){if(i&1&&(C(0,"span",25),E(1,kj,1,0,null,11),w()),i&2){let e=v(4);m(),g("ngTemplateOutlet",e.uploadIconTemplate)}}function Fj(i,t){if(i&1&&(se(0),E(1,Oj,1,1,"UploadIcon",22)(2,Pj,2,1,"span",23),oe()),i&2){let e=v(3);m(),g("ngIf",!e.uploadIconTemplate),m(),g("ngIf",e.uploadIconTemplate)}}function Rj(i,t){if(i&1&&(se(0),E(1,Mj,1,1,"span",27)(2,Fj,3,2,"ng-container",9),oe()),i&2){let e=v(2);m(),g("ngIf",e.uploadIcon),m(),g("ngIf",!e.uploadIcon)}}function Lj(i,t){if(i&1&&O(0,"span",44),i&2){let e=v(3);g("ngClass",e.chooseIcon)}}function Nj(i,t){i&1&&O(0,"PlusIcon",24),i&2&&(g("styleClass","p-button-icon p-button-icon-left pi"),I("aria-hidden",!0)("data-pc-section","uploadicon"))}function Vj(i,t){}function jj(i,t){i&1&&E(0,Vj,0,0,"ng-template")}function Bj(i,t){if(i&1&&(C(0,"span",46),E(1,jj,1,0,null,11),w()),i&2){let e=v(4);I("aria-hidden",!0)("data-pc-section","uploadicon"),m(),g("ngTemplateOutlet",e.chooseIconTemplate)}}function Hj(i,t){if(i&1&&(se(0),E(1,Nj,1,3,"PlusIcon",22)(2,Bj,2,3,"span",45),oe()),i&2){let e=v(3);m(),g("ngIf",!e.chooseIconTemplate),m(),g("ngIf",e.chooseIconTemplate)}}function Uj(i,t){if(i&1&&E(0,Lj,1,1,"span",43)(1,Hj,3,2,"ng-container",9),i&2){let e=v(2);g("ngIf",e.chooseIcon),m(),g("ngIf",!e.chooseIcon)}}function zj(i,t){if(i&1&&(C(0,"span",19),et(1),w()),i&2){let e=v(2);I("data-pc-section","label"),m(),Mt(e.basicButtonLabel)}}function $j(i,t){if(i&1){let e=ce();C(0,"input",47,3),N("change",function(r){A(e);let s=v(2);return k(s.onFileSelect(r))})("focus",function(){A(e);let r=v(2);return k(r.onFocus())})("blur",function(){A(e);let r=v(2);return k(r.onBlur())}),w()}if(i&2){let e=v(2);g("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled),I("aria-label",e.browseFilesLabel)("data-pc-section","input")}}function Gj(i,t){if(i&1){let e=ce();C(0,"div",38),O(1,"p-messages",14),C(2,"span",39),N("click",function(){A(e);let r=v();return k(r.onBasicUploaderClick())})("keydown",function(r){A(e);let s=v();return k(s.onBasicKeydown(r))}),E(3,Rj,3,2,"ng-container",40)(4,Uj,2,2,"ng-template",null,2,Rt)(6,zj,2,2,"span",41)(7,$j,2,5,"input",42),w()()}if(i&2){let e=xt(5),n=v();I("data-pc-name","fileupload"),m(),g("value",n.msgs)("enableService",!1),m(),H(n.styleClass),g("ngClass",Kd(12,G7,!n.basicButtonLabel,n.hasFiles(),n.focus,n.disabled))("ngStyle",n.style),I("data-pc-section","choosebutton"),m(),g("ngIf",n.hasFiles()&&!n.auto)("ngIfElse",e),m(3),g("ngIf",n.basicButtonLabel),m(),g("ngIf",!n.hasFiles())}}var AE=(()=>{class i{document;platformId;renderer;el;sanitizer;zone;http;cd;config;name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;onBeforeUpload=new U;onSend=new U;onUpload=new U;onError=new U;onClear=new U;onRemove=new U;onSelect=new U;onProgress=new U;uploadHandler=new U;onImageError=new U;onRemoveUploadedFile=new U;templates;advancedFileInput;basicFileInput;content;set files(e){this._files=[];for(let n=0;n<e.length;n++){let r=e[n];this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[n]))),this._files.push(e[n]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];fileUploadSubcription;constructor(e,n,r,s,o,a,l,c,u){this.document=e,this.platformId=n,this.renderer=r,this.el=s,this.sanitizer=o,this.zone=a,this.http=l,this.cd=c,this.config=u}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"file":this.fileTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"toolbar":this.toolbarTemplate=e.template;break;case"chooseicon":this.chooseIconTemplate=e.template;break;case"uploadicon":this.uploadIconTemplate=e.template;break;case"cancelicon":this.cancelIconTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;default:this.fileTemplate=e.template;break}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){gt(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}getTranslation(e){return this.config.getTranslation(e)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.msgs=[],this.multiple||(this.files=[]);let n=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let r=0;r<n.length;r++){let s=n[r];this.isFileSelected(s)||this.validate(s)&&(this.isImage(s)&&(s.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(n[r]))),this.files.push(n[r]))}this.onSelect.emit({originalEvent:e,files:n,currentFiles:this.files}),this.checkFileLimit(n),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let n of this.files)if(n.name+n.type+n.size===e.name+e.type+e.size)return!0;return!1}isIE11(){if(gt(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(e){return this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(e)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",e.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):this.maxFileSize&&e.size>this.maxFileSize?(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",e.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),!1):!0}isFileTypeValid(e){let n=this.accept?.split(",").map(r=>r.trim());for(let r of n)if(this.isWildcard(r)?this.getTypeClass(e.type)===this.getTypeClass(r):e.type==r||this.getFileExtension(e).toLowerCase()===r.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return e.indexOf("*")!==-1}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let n=0;n<this.files.length;n++)e.append(this.name,this.files[n],this.files[n].name);this.cancelUploadRequest(),this.fileUploadSubcription=this.http.request(this.method,this.url,{body:e,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(n=>{switch(n.type){case li.Sent:this.onSend.emit({originalEvent:n,formData:e});break;case li.Response:this.uploading=!1,this.progress=0,n.status>=200&&n.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:n,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles.push(...this.files),this.clear();break;case li.UploadProgress:{n.loaded&&(this.progress=Math.round(n.loaded*100/n.total)),this.onProgress.emit({originalEvent:n,progress:this.progress});break}}this.cd.markForCheck()},n=>{this.uploading=!1,this.onError.emit({files:this.files,error:n})})}}clear(){this.files=[],this.uploadedFileCount=0,this.cancelUploadRequest(),this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(e,n){this.cancelUploadRequest(),this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[n]}),this.files.splice(n,1),this.checkFileLimit(this.files)}removeUploadedFile(e){let n=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:n,files:this.uploadedFiles})}cancelUploadRequest(){this.fileUploadSubcription&&(this.fileUploadSubcription.unsubscribe(),this.fileUploadSubcription=void 0)}isFileLimitExceeded(){let n=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=n&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<n}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(e){this.msgs??=[];let n=this.msgs.length>0&&this.fileLimit<e.length;(this.isFileLimitExceeded()||n)&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(M.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||M.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(e){if(!this.disabled){M.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();let n=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||n&&n.length===1)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){let s=this.getTranslation(Vn.FILE_SIZE_TYPES);if(e===0)return`0 ${s[0]}`;let o=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,o)).toFixed(3)} ${s[o]}`}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault();break}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(Vn.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(Vn.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(Vn.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(Vn.ARIA)[Vn.BROWSE_FILES]}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(D(Ie),D(ot),D(nt),D(pe),D(O0),D(Oe),D(C0),D(je),D(Ot))};static \u0275cmp=B({type:i,selectors:[["p-fileUpload"]],contentQueries:function(n,r,s){if(n&1&&at(s,tt,4),n&2){let o;X(o=Q())&&(r.templates=o)}},viewQuery:function(n,r){if(n&1&&(be(j7,5),be(B7,5),be(H7,5)),n&2){let s;X(s=Q())&&(r.advancedFileInput=s.first),X(s=Q())&&(r.basicFileInput=s.first),X(s=Q())&&(r.content=s.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",V],accept:"accept",disabled:[2,"disabled","disabled",V],auto:[2,"auto","auto",V],withCredentials:[2,"withCredentials","withCredentials",V],maxFileSize:[2,"maxFileSize","maxFileSize",we],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",we],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",V],showCancelButton:[2,"showCancelButton","showCancelButton",V],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",V],fileLimit:[2,"fileLimit","fileLimit",e=>we(e,null)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[Re],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["chooseSection",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],["type","file",3,"change","multiple","accept","disabled"],[1,"p-fileupload-buttonbar"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],["class","p-fileupload-empty",4,"ngIf"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"focus","blur","click","keydown.enter","ngClass"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"onClick","label","disabled","styleClass"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"click","disabled"],[3,"error","src","width"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload-empty"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"change","focus","blur","accept","multiple","disabled"]],template:function(n,r){n&1&&E(0,Dj,14,42,"div",4)(1,Gj,8,17,"div",5),n&2&&(g("ngIf",r.mode==="advanced"),m(),g("ngIf",r.mode==="basic"))},dependencies:()=>[Ke,er,lt,vt,Xe,tp,Ac,OE,ME,sr,Cy,wy,_n],styles:[`@layer primeng{.p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}}
`],encapsulation:2,changeDetection:0})}return i})(),kE=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,Qe,ho,Ty,Ey,or,Cy,wy,_n,Qe,ho,Ty,Ey]})}return i})();function x(i,t,e){return(t=function(n){var r=function(s,o){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var l=a.call(s,o||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}(n,"string");return typeof r=="symbol"?r:r+""}(t))in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function PE(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),e.push.apply(e,n)}return e}function S(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(e),!0).forEach(function(n){x(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):PE(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function _t(i,t){if(i==null)return{};var e,n,r=function(o,a){if(o==null)return{};var l={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(a.indexOf(c)>=0)continue;l[c]=o[c]}return l}(i,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(n=0;n<s.length;n++)e=s[n],t.indexOf(e)>=0||{}.propertyIsEnumerable.call(i,e)&&(r[e]=i[e])}return r}function Ms(i,t){return t||(t=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(t)}}))}var gp=class{constructor(){x(this,"browserShadowBlurConstant",1),x(this,"DPI",96),x(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),x(this,"perfLimitSizeTotal",2097152),x(this,"maxCacheSideLimit",4096),x(this,"minCacheSideLimit",256),x(this,"disableStyleCopyPaste",!1),x(this,"enableGLFiltering",!0),x(this,"textureSize",4096),x(this,"forceGLPutImageData",!1),x(this,"cachesBoundsOfCurve",!1),x(this,"fontPaths",{}),x(this,"NUM_FRACTION_DIGITS",4)}},qe=new class extends gp{constructor(i){super(),this.configure(i)}configure(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,i)}addFonts(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=S(S({},this.fontPaths),i)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(i=>{delete this.fontPaths[i]})}clearFonts(){this.fontPaths={}}restoreDefaults(i){let t=new gp,e=i?.reduce((n,r)=>(n[r]=t[r],n),{})||t;this.configure(e)}},jr=function(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return console[i]("fabric",...e)},yi=class extends Error{constructor(t,e){super("fabric: ".concat(t),e)}},Uc=class extends yi{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}},Uy=class{},zy=class extends Uy{testPrecision(t,e){let n="precision ".concat(e,` float;
void main(){}`),r=t.createShader(t.FRAGMENT_SHADER);return!!r&&(t.shaderSource(r,n),t.compileShader(r),!!t.getShaderParameter(r,t.COMPILE_STATUS))}queryWebGL(t){let e=t.getContext("webgl");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(n=>this.testPrecision(e,n)),e.getExtension("WEBGL_lose_context").loseContext(),jr("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}},qj={},FE;var hr=()=>FE||(FE={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new zy,dispose(){},copyPasteData:qj}),al=()=>hr().document,Xc=()=>hr().window,pT=()=>{var i;return Math.max((i=qe.devicePixelRatio)!==null&&i!==void 0?i:Xc().devicePixelRatio,1)},Nc=new class{constructor(){x(this,"charWidthsCache",{}),x(this,"boundsOfCurveCache",{})}getFontCache(i){let{fontFamily:t,fontStyle:e,fontWeight:n}=i;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});let r=this.charWidthsCache[t],s="".concat(e.toLowerCase(),"_").concat((n+"").toLowerCase());return r[s]||(r[s]={}),r[s]}clearFontCache(i){(i=(i||"").toLowerCase())?this.charWidthsCache[i]&&delete this.charWidthsCache[i]:this.charWidthsCache={}}limitDimsByArea(i){let{perfLimitSizeTotal:t}=qe,e=Math.sqrt(t*i);return[Math.floor(e),Math.floor(t/e)]}},$y="6.4.2";function ko(){}var Es=Math.PI/2,Br=2*Math.PI,x_=Math.PI/180,En=Object.freeze([1,0,0,1,0,0]),I_=16,bs=.4477152502,Ae="center",dt="left",Bn="top",Gy="bottom",Lt="right",xn="none",S_=/\r?\n/,fT="moving",Gp="scaling",gT="rotating",E_="rotate",mT="skewing",zc="resizing",vT="modifyPoly",Yj="modifyPath",mp="changed",Wp="scale",Tn="scaleX",ti="scaleY",ll="skewX",cl="skewY",Nt="fill",In="stroke",vp="modified",Ka="json",Dy="svg",ee=new class{constructor(){this[Ka]=new Map,this[Dy]=new Map}has(i){return this[Ka].has(i)}getClass(i){let t=this[Ka].get(i);if(!t)throw new yi("No class registered for ".concat(i));return t}setClass(i,t){t?this[Ka].set(t,i):(this[Ka].set(i.type,i),this[Ka].set(i.type.toLowerCase(),i))}getSVGClass(i){return this[Dy].get(i)}setSVGClass(i,t){this[Dy].set(t??i.type.toLowerCase(),i)}},yp=new class extends Array{remove(i){let t=this.indexOf(i);t>-1&&this.splice(t,1)}cancelAll(){let i=this.splice(0);return i.forEach(t=>t.abort()),i}cancelByCanvas(i){if(!i)return[];let t=this.filter(e=>{var n;return e.target===i||typeof e.target=="object"&&((n=e.target)===null||n===void 0?void 0:n.canvas)===i});return t.forEach(e=>e.abort()),t}cancelByTarget(i){if(!i)return[];let t=this.filter(e=>e.target===i);return t.forEach(e=>e.abort()),t}},Wy=class{constructor(){x(this,"__eventListeners",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(n=>{let[r,s]=n;this.on(r,s)}),()=>this.off(t);if(e){let n=t;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(e),()=>this.off(n,e)}return()=>!1}once(t,e){if(typeof t=="object"){let n=[];return Object.entries(t).forEach(r=>{let[s,o]=r;n.push(this.once(s,o))}),()=>n.forEach(r=>r())}if(e){let n=this.on(t,function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];e.call(this,...s),n()});return n}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){let n=this.__eventListeners[t],r=n.indexOf(e);r>-1&&n.splice(r,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(t===void 0)for(let n in this.__eventListeners)this._removeEventListener(n);else typeof t=="object"?Object.entries(t).forEach(n=>{let[r,s]=n;this._removeEventListener(r,s)}):this._removeEventListener(t,e)}fire(t,e){var n;if(!this.__eventListeners)return;let r=(n=this.__eventListeners[t])===null||n===void 0?void 0:n.concat();if(r)for(let s=0;s<r.length;s++)r[s].call(this,e||{})}},po=(i,t)=>{let e=i.indexOf(t);return e!==-1&&i.splice(e,1),i},Fi=i=>{if(i===0)return 1;switch(Math.abs(i)/Es){case 1:case 3:return 0;case 2:return-1}return Math.cos(i)},Ri=i=>{if(i===0)return 0;let t=i/Es,e=Math.sign(i);switch(t){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(i)},P=class i{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new i(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new i(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new i(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new i(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new i(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new i(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new i(this.x/t.x,this.y/t.y)}scalarDivide(t){return new i(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new i(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){let e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}midPointFrom(t){return this.lerp(t)}min(t){return new i(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new i(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){let e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n}clone(){return new i(this.x,this.y)}rotate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T_,n=Ri(t),r=Fi(t),s=this.subtract(e);return new i(s.x*r-s.y*n,s.x*n+s.y*r).add(e)}transform(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new i(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}},T_=new P(0,0),hp=i=>!!i&&Array.isArray(i._objects);function yT(i){class t extends i{constructor(){super(...arguments),x(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];let o=this._objects.push(...r);return r.forEach(a=>this._onObjectAdded(a)),o}insertAt(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return this._objects.splice(n,0,...s),s.forEach(a=>this._onObjectAdded(a)),this._objects.length}remove(){let n=this._objects,r=[];for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return o.forEach(l=>{let c=n.indexOf(l);c!==-1&&(n.splice(c,1),r.push(l),this._onObjectRemoved(l))}),r}forEachObject(n){this.getObjects().forEach((r,s,o)=>n(r,s,o))}getObjects(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return r.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...r))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,r){return!!this._objects.includes(n)||!!r&&this._objects.some(s=>s instanceof t&&s.contains(n,!0))}complexity(){return this._objects.reduce((n,r)=>n+=r.complexity?r.complexity():0,0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(po(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(po(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,r){if(!n)return!1;let s=this._objects.indexOf(n);if(s!==0){let o=this.findNewLowerIndex(n,s,r);return po(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,r){if(!n)return!1;let s=this._objects.indexOf(n);if(s!==this._objects.length-1){let o=this.findNewUpperIndex(n,s,r);return po(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,r){return n!==this._objects[r]&&(po(this._objects,n),this._objects.splice(r,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,r,s){let o;if(s){o=r;for(let a=r-1;a>=0;--a)if(n.isOverlapping(this._objects[a])){o=a;break}}else o=r-1;return o}findNewUpperIndex(n,r,s){let o;if(s){o=r;for(let a=r+1;a<this._objects.length;++a)if(n.isOverlapping(this._objects[a])){o=a;break}}else o=r+1;return o}collectObjects(n){let{left:r,top:s,width:o,height:a}=n,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=[],u=new P(r,s),d=u.add(new P(o,a));for(let h=this._objects.length-1;h>=0;h--){let p=this._objects[h];p.selectable&&p.visible&&(l&&p.intersectsWithRect(u,d)||p.isContainedWithinRect(u,d)||l&&p.containsPoint(u)||l&&p.containsPoint(d))&&c.push(p)}return c}}return t}var _p=class extends Wy{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let e in t)this.set(e,t[e])}_setObject(t){for(let e in t)this._set(e,t[e])}set(t,e){return typeof t=="object"?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){let e=this.get(t);return typeof e=="boolean"&&this.set(t,!e),this}get(t){return this[t]}};function Vc(i){return Xc().requestAnimationFrame(i)}function _T(i){return Xc().cancelAnimationFrame(i)}var Kj=0,Ts=()=>Kj++,Vt=()=>{let i=al().createElement("canvas");if(!i||i.getContext===void 0)throw new yi("Failed to create `canvas` element");return i},bT=()=>al().createElement("img"),D_=(i,t,e)=>i.toDataURL("image/".concat(t),e),At=i=>i*x_,Ds=i=>i/x_,CT=i=>i.every((t,e)=>t===En[e]),cn=(i,t,e)=>new P(i).transform(t,e),jn=i=>{let t=1/(i[0]*i[3]-i[1]*i[2]),e=[t*i[3],-t*i[1],-t*i[2],t*i[0],0,0],{x:n,y:r}=new P(i[4],i[5]).transform(e,!0);return e[4]=-n,e[5]=-r,e},St=(i,t,e)=>[i[0]*t[0]+i[2]*t[1],i[1]*t[0]+i[3]*t[1],i[0]*t[2]+i[2]*t[3],i[1]*t[2]+i[3]*t[3],e?0:i[0]*t[4]+i[2]*t[5]+i[4],e?0:i[1]*t[4]+i[3]*t[5]+i[5]],qp=(i,t)=>i.reduceRight((e,n)=>n&&e?St(n,e,t):n||e,void 0)||En.concat(),wT=i=>{let[t,e]=i;return Math.atan2(e,t)},Ro=i=>{let t=wT(i),e=Math.pow(i[0],2)+Math.pow(i[1],2),n=Math.sqrt(e),r=(i[0]*i[3]-i[2]*i[1])/n,s=Math.atan2(i[0]*i[2]+i[1]*i[3],e);return{angle:Ds(t),scaleX:n,scaleY:r,skewX:Ds(s),skewY:0,translateX:i[4]||0,translateY:i[5]||0}},ul=function(i){return[1,0,0,1,i,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function dl(){let{angle:i=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:e=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=At(i),r=Fi(n),s=Ri(n);return[r,s,-s,r,t?t-(r*t-s*e):0,e?e-(s*t+r*e):0]}var Yp=function(i){return[i,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,0,0]},xT=i=>Math.tan(At(i)),M_=i=>[1,0,xT(i),1,0,0],O_=i=>[1,xT(i),0,1,0,0],Qc=i=>{let{scaleX:t=1,scaleY:e=1,flipX:n=!1,flipY:r=!1,skewX:s=0,skewY:o=0}=i,a=Yp(n?-t:t,r?-e:e);return s&&(a=St(a,M_(s),!0)),o&&(a=St(a,O_(o),!0)),a},IT=i=>{let{translateX:t=0,translateY:e=0,angle:n=0}=i,r=ul(t,e);n&&(r=St(r,dl({angle:n})));let s=Qc(i);return CT(s)||(r=St(r,s)),r},jc=function(i){let{signal:t,crossOrigin:e=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,r){if(t&&t.aborted)return r(new Uc("loadImage"));let s=bT(),o;t&&(o=function(l){s.src="",r(l)},t.addEventListener("abort",o,{once:!0}));let a=function(){s.onload=s.onerror=null,o&&t?.removeEventListener("abort",o),n(s)};i?(s.onload=a,s.onerror=function(){o&&t?.removeEventListener("abort",o),r(new yi("Error loading ".concat(s.src)))},e&&(s.crossOrigin=e),s.src=i):a()})},il=function(i){let{signal:t,reviver:e=ko}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,r)=>{let s=[];t&&t.addEventListener("abort",r,{once:!0}),Promise.all(i.map(o=>ee.getClass(o.type).fromObject(o,{signal:t}).then(a=>(e(o,a),s.push(a),a)))).then(n).catch(o=>{s.forEach(a=>{a.dispose&&a.dispose()}),r(o)}).finally(()=>{t&&t.removeEventListener("abort",r)})})},Zc=function(i){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((e,n)=>{let r=[];t&&t.addEventListener("abort",n,{once:!0});let s=Object.values(i).map(a=>a&&a.type&&ee.has(a.type)?il([a],{signal:t}).then(l=>{let[c]=l;return r.push(c),c}):a),o=Object.keys(i);Promise.all(s).then(a=>a.reduce((l,c,u)=>(l[o[u]]=c,l),{})).then(e).catch(a=>{r.forEach(l=>{l.dispose&&l.dispose()}),n(a)}).finally(()=>{t&&t.removeEventListener("abort",n)})})},Vo=function(i){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,e)=>(e in i&&(t[e]=i[e]),t),{})},A_=(i,t)=>Object.keys(i).reduce((e,n)=>(t(i[n],n,i)&&(e[n]=i[n]),e),{}),RE={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},My=(i,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+6*(t-i)*e:e<.5?t:e<2/3?i+(t-i)*(2/3-e)*6:i),LE=(i,t,e,n)=>{i/=255,t/=255,e/=255;let r=Math.max(i,t,e),s=Math.min(i,t,e),o,a,l=(r+s)/2;if(r===s)o=a=0;else{let c=r-s;switch(a=l>.5?c/(2-r-s):c/(r+s),r){case i:o=(t-e)/c+(t<e?6:0);break;case t:o=(e-i)/c+2;break;case e:o=(i-t)/c+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*l),n]},NE=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(i)/(i.endsWith("%")?100:1)},sp=i=>Math.min(Math.round(i),255).toString(16).toUpperCase().padStart(2,"0"),VE=i=>{let[t,e,n,r=1]=i,s=Math.round(.3*t+.59*e+.11*n);return[s,s,s,r]},un=class i{constructor(t){if(x(this,"isUnrecognised",!1),t)if(t instanceof i)this.setSource([...t._source]);else if(Array.isArray(t)){let[e,n,r,s=1]=t;this.setSource([e,n,r,s])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return t in RE&&(t=RE[t]),t==="transparent"?[255,255,255,0]:i.sourceFromHex(t)||i.sourceFromRgb(t)||i.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){let[t,e,n]=this.getSource();return"rgb(".concat(t,",").concat(e,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){let[t,e,n]=LE(...this.getSource());return"hsl(".concat(t,",").concat(e,"%,").concat(n,"%)")}toHsla(){let[t,e,n,r]=LE(...this.getSource());return"hsla(".concat(t,",").concat(e,"%,").concat(n,"%,").concat(r,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){let[t,e,n,r]=this.getSource();return"".concat(sp(t)).concat(sp(e)).concat(sp(n)).concat(sp(Math.round(255*r)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(VE(this.getSource())),this}toBlackWhite(t){let[e,,,n]=VE(this.getSource()),r=e<(t||127)?0:255;return this.setSource([r,r,r,n]),this}overlayWith(t){t instanceof i||(t=new i(t));let e=this.getSource(),n=t.getSource(),[r,s,o]=e.map((a,l)=>Math.round(.5*a+.5*n[l]));return this.setSource([r,s,o,e[3]]),this}static fromRgb(t){return i.fromRgba(t)}static fromRgba(t){return new i(i.sourceFromRgb(t))}static sourceFromRgb(t){let e=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(e){let[n,r,s]=e.slice(1,4).map(o=>{let a=parseFloat(o);return o.endsWith("%")?Math.round(2.55*a):a});return[n,r,s,NE(e[4])]}}static fromHsl(t){return i.fromHsla(t)}static fromHsla(t){return new i(i.sourceFromHsl(t))}static sourceFromHsl(t){let e=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!e)return;let n=(i.parseAngletoDegrees(e[1])%360+360)%360/360,r=parseFloat(e[2])/100,s=parseFloat(e[3])/100,o,a,l;if(r===0)o=a=l=s;else{let c=s<=.5?s*(r+1):s+r-s*r,u=2*s-c;o=My(u,c,n+1/3),a=My(u,c,n),l=My(u,c,n-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*l),NE(e[4])]}static fromHex(t){return new i(i.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){let e=t.slice(t.indexOf("#")+1),n;n=e.length<=4?e.split("").map(l=>l+l):e.match(/.{2}/g);let[r,s,o,a=255]=n.map(l=>parseInt(l,16));return[r,s,o,a/255]}}static parseAngletoDegrees(t){let e=t.toLowerCase(),n=parseFloat(e);return e.includes("rad")?Ds(n):e.includes("turn")?360*n:n}},yt=(i,t)=>parseFloat(Number(i).toFixed(t)),Cn=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I_,e=/\D{0,2}$/.exec(i),n=parseFloat(i),r=qe.DPI;switch(e?.[0]){case"mm":return n*r/25.4;case"cm":return n*r/2.54;case"in":return n*r;case"pt":return n*r/72;case"pc":return n*r/72*12;case"em":return n*t;default:return n}},k_=i=>{let[t,e]=i.trim().split(" "),[n,r]=(s=t)&&s!==xn?[s.slice(1,4),s.slice(5,8)]:s===xn?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:e||"meet",alignX:n,alignY:r}},$c=i=>"matrix("+i.map(t=>yt(t,qe.NUM_FRACTION_DIGITS)).join(" ")+")",Gc=function(i,t){let e,n,r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)e="url(#SVGID_".concat(t.id,")");else{let s=new un(t),o=s.getAlpha();e=s.toRgb(),o!==1&&(n=o.toString())}else e="none";return r?"".concat(i,": ").concat(e,"; ").concat(n?"".concat(i,"-opacity: ").concat(n,"; "):""):"".concat(i,'="').concat(e,'" ').concat(n?"".concat(i,'-opacity="').concat(n,'" '):"")},mi=i=>!!i&&i.toLive!==void 0,jE=i=>!!i&&typeof i.toObject=="function",BE=i=>!!i&&i.offsetX!==void 0&&"source"in i,ST=i=>!!i&&typeof i._renderText=="function",fo=i=>!!i&&"multiSelectionStacking"in i;function ET(i){let t=i&&Mi(i),e=0,n=0;if(!i||!t)return{left:e,top:n};let r=i,s=t.documentElement,o=t.body||{scrollLeft:0,scrollTop:0};for(;r&&(r.parentNode||r.host)&&(r=r.parentNode||r.host,r===t?(e=o.scrollLeft||s.scrollLeft||0,n=o.scrollTop||s.scrollTop||0):(e+=r.scrollLeft||0,n+=r.scrollTop||0),r.nodeType!==1||r.style.position!=="fixed"););return{left:e,top:n}}var Mi=i=>i.ownerDocument||null,TT=i=>{var t;return((t=i.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},DT=function(i,t,e){let{width:n,height:r}=e,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;i.width=n,i.height=r,s>1&&(i.setAttribute("width",(n*s).toString()),i.setAttribute("height",(r*s).toString()),t.scale(s,s))},qy=(i,t)=>{let{width:e,height:n}=t;e&&(i.style.width=typeof e=="number"?"".concat(e,"px"):e),n&&(i.style.height=typeof n=="number"?"".concat(n,"px"):n)};function HE(i){return i.onselectstart!==void 0&&(i.onselectstart=()=>!1),i.style.userSelect=xn,i}var bp=class{constructor(t){x(this,"_originalCanvasStyle",void 0),x(this,"lower",void 0);let e=this.createLowerCanvas(t);this.lower={el:e,ctx:e.getContext("2d")}}createLowerCanvas(t){let e=(n=t)&&n.getContext!==void 0?t:t&&al().getElementById(t)||Vt();var n;if(e.hasAttribute("data-fabric"))throw new yi("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=e.style.cssText,e.setAttribute("data-fabric","main"),e.classList.add("lower-canvas"),e}cleanupDOM(t){let{width:e,height:n}=t,{el:r}=this.lower;r.classList.remove("lower-canvas"),r.removeAttribute("data-fabric"),r.setAttribute("width","".concat(e)),r.setAttribute("height","".concat(n)),r.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,e){let{el:n,ctx:r}=this.lower;DT(n,r,t,e)}setCSSDimensions(t){qy(this.lower.el,t)}calcOffset(){return function(t){var e;let n=t&&Mi(t),r={left:0,top:0};if(!n)return r;let s=((e=TT(t))===null||e===void 0?void 0:e.getComputedStyle(t,null))||{};r.left+=parseInt(s.borderLeftWidth,10)||0,r.top+=parseInt(s.borderTopWidth,10)||0,r.left+=parseInt(s.paddingLeft,10)||0,r.top+=parseInt(s.paddingTop,10)||0;let o={left:0,top:0},a=n.documentElement;t.getBoundingClientRect!==void 0&&(o=t.getBoundingClientRect());let l=ET(t);return{left:o.left+l.left-(a.clientLeft||0)+r.left,top:o.top+l.top-(a.clientTop||0)+r.top}}(this.lower.el)}dispose(){hr().dispose(this.lower.el),delete this.lower}},Xj={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...En]},Wc=class i extends yT(_p){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return i.ownDefaults}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new bp(t)}add(){let t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let s=super.insertAt(t,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){let t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(jr("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?pT():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e){let r=S({width:this.width,height:this.height},t);this.elements.setDimensions(r,this.getRetinaScaling()),this.hasLostContext=!0,this.width=r.width,this.height=r.height}n||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){let n=t,r=[...this.viewportTransform],s=cn(t,jn(r));r[0]=e,r[3]=e;let o=cn(s,r);r[4]+=n.x-o.x,r[5]+=n.y-o.y,this.setViewportTransform(r)}setZoom(t){this.zoomToPoint(new P(0,0),t)}absolutePan(t){let e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new P(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Vc(()=>this.renderAndReset()))}calcViewportBoundaries(){let t=this.width,e=this.height,n=jn(this.viewportTransform),r=cn({x:0,y:0},n),s=cn({x:t,y:e},n),o=r.min(s),a=r.max(s);return this.vptCoords={tl:o,tr:new P(a.x,o.y),bl:new P(o.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&(_T(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;let n=this.viewportTransform,r=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),r&&(r._set("canvas",this),r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,r)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){let n=this.viewportTransform;t.save(),t.transform(...n),t.globalCompositeOperation="destination-in",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let n=0,r=e.length;n<r;++n)e[n]&&e[n].render(t)}_renderBackgroundOrOverlay(t,e){let n=this["".concat(e,"Color")],r=this["".concat(e,"Image")],s=this.viewportTransform,o=this["".concat(e,"Vpt")];if(!n&&!r)return;let a=mi(n);if(n){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=a?n.toLive(t):n,o&&t.transform(...s),a){t.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);let l=n.gradientTransform||n.patternTransform;l&&t.transform(...l)}t.fill(),t.restore()}if(r){t.save();let{skipOffscreen:l}=this;this.skipOffscreen=o,o&&t.transform(...s),r.render(t),this.skipOffscreen=l,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new P(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new P(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new P(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new P(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new P(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return cn(this.getCenterPoint(),jn(this.viewportTransform))}_centerObject(t,e){t.setXY(e,Ae,Ae),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,e){let n=this.clipPath,r=n&&!n.excludeFromExport?this._toObject(n,t,e):null;return S(S(S({version:$y},Vo(this,e)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,t,e))},this.__serializeBgOverlay(t,e)),r?{clipPath:r}:null)}_toObject(t,e,n){let r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);let s=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=!!r),s}__serializeBgOverlay(t,e){let n={},r=this.backgroundImage,s=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return mi(o)?o.excludeFromExport||(n.background=o.toObject(e)):o&&(n.background=o),mi(a)?a.excludeFromExport||(n.overlay=a.toObject(e)):a&&(n.overlay=a),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,t,e)),s&&!s.excludeFromExport&&(n.overlayImage=this._toObject(s,t,e)),n}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;let n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,e){let n=e.width||"".concat(this.width),r=e.height||"".concat(this.height),s=qe.NUM_FRACTION_DIGITS,o=e.viewBox,a;if(o)a='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){let l=this.viewportTransform;a='viewBox="'.concat(yt(-l[4]/l[0],s)," ").concat(yt(-l[5]/l[3],s)," ").concat(yt(this.width/l[0],s)," ").concat(yt(this.height/l[3],s),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',r,'" ',a,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",$y,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),`</defs>
`)}createSVGClipPathMarkup(t){let e=this.clipPath;return e?(e.clipPathId="CLIPPATH_".concat(Ts()),'<clipPath id="'.concat(e.clipPathId,`" >
`).concat(e.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{let e=this["".concat(t,"Color")];if(mi(e)){let n=this["".concat(t,"Vpt")],r=this.viewportTransform,s={isType:()=>!1,width:this.width/(n?r[0]:1),height:this.height/(n?r[3]:1)};return e.toSVG(s,{additionalTransform:n?$c(r):""})}}).join("")}createSVGFontFacesMarkup(){let t=[],e={},n=qe.fontPaths;this._objects.forEach(function s(o){t.push(o),hp(o)&&o._objects.forEach(s)}),t.forEach(s=>{if(!ST(s))return;let{styles:o,fontFamily:a}=s;!e[a]&&n[a]&&(e[a]=!0,o&&Object.values(o).forEach(l=>{Object.values(l).forEach(c=>{let{fontFamily:u=""}=c;!e[u]&&n[u]&&(e[u]=!0)})}))});let r=Object.keys(e).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(n[s],`');
		}
`)).join("");return r?`	<style type="text/css"><![CDATA[
`.concat(r,`]]></style>
`):""}_setSVGObjects(t,e){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(t,n,e)})}_setSVGObject(t,e,n){t.push(e.toSVG(n))}_setSVGBgOverlayImage(t,e,n){let r=this[e];r&&!r.excludeFromExport&&r.toSVG&&t.push(r.toSVG(n))}_setSVGBgOverlayColor(t,e){let n=this["".concat(e,"Color")];if(n)if(mi(n)){let r=n.repeat||"",s=this.width,o=this.height,a=this["".concat(e,"Vpt")]?$c(jn(this.viewportTransform)):"";t.push('<rect transform="'.concat(a," translate(").concat(s/2,",").concat(o/2,')" x="').concat(n.offsetX-s/2,'" y="').concat(n.offsetY-o/2,'" width="').concat(r!=="repeat-y"&&r!=="no-repeat"||!BE(n)?s:n.source.width,'" height="').concat(r!=="repeat-x"&&r!=="no-repeat"||!BE(n)?o:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(t,e){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new yi("`json` is undefined"));let r=typeof t=="string"?JSON.parse(t):t,{objects:s=[],backgroundImage:o,background:a,overlayImage:l,overlay:c,clipPath:u}=r,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([il(s,{reviver:e,signal:n}),Zc({backgroundImage:o,backgroundColor:a,overlayImage:l,overlayColor:c,clipPath:u},{signal:n})]).then(h=>{let[p,f]=h;return this.clear(),this.add(...p),this.set(r),this.set(f),this.renderOnAddRemove=d,this})}clone(t){let e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){let t=Vt();return t.width=this.width,t.height=this.height,new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:e="png",quality:n=1,multiplier:r=1,enableRetinaScaling:s=!1}=t,o=r*(s?this.getRetinaScaling():1);return D_(this.toCanvasElement(o,t),e,n)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:e,height:n,left:r,top:s,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(e||this.width)*t,l=(n||this.height)*t,c=this.getZoom(),u=this.width,d=this.height,h=this.skipControlsDrawing,p=c*t,f=this.viewportTransform,y=[p,0,0,p,(f[4]-(r||0))*t,(f[5]-(s||0))*t],_=this.enableRetinaScaling,b=Vt(),T=o?this._objects.filter(R=>o(R)):this._objects;return b.width=a,b.height=l,this.enableRetinaScaling=!1,this.viewportTransform=y,this.width=a,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(b.getContext("2d"),T),this.viewportTransform=f,this.width=u,this.height=d,this.calcViewportBoundaries(),this.enableRetinaScaling=_,this.skipControlsDrawing=h,b}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),yp.cancelByCanvas(this),this.disposed=!0,new Promise((t,e)=>{let n=()=>{this.destroy(),t(!0)};n.kill=e,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};x(Wc,"ownDefaults",Xj);var Qj=["touchstart","touchmove","touchend"],MT=i=>{let t=ET(i.target),e=function(n){let r=n.changedTouches;return r&&r[0]?r[0]:n}(i);return new P(e.clientX+t.left,e.clientY+t.top)},Cp=i=>Qj.includes(i.type)||i.pointerType==="touch",Yy=i=>{i.preventDefault(),i.stopPropagation()},dr=i=>{let t=0,e=0,n=0,r=0;for(let s=0,o=i.length;s<o;s++){let{x:a,y:l}=i[s];(a>n||!s)&&(n=a),(a<t||!s)&&(t=a),(l>r||!s)&&(r=l),(l<e||!s)&&(e=l)}return{left:t,top:e,width:n-t,height:r-e}},Zj=["translateX","translateY","scaleX","scaleY"],OT=(i,t)=>rl(i,St(t,i.calcOwnMatrix())),rl=(i,t)=>{let e=Ro(t),{translateX:n,translateY:r,scaleX:s,scaleY:o}=e,a=_t(e,Zj),l=new P(n,r);i.flipX=!1,i.flipY=!1,Object.assign(i,a),i.set({scaleX:s,scaleY:o}),i.setPositionByOrigin(l,Ae,Ae)},AT=i=>{i.scaleX=1,i.scaleY=1,i.skewX=0,i.skewY=0,i.flipX=!1,i.flipY=!1,i.rotate(0)},P_=i=>({scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,angle:i.angle,left:i.left,flipX:i.flipX,flipY:i.flipY,top:i.top}),Kp=(i,t,e)=>{let n=i/2,r=t/2,s=[new P(-n,-r),new P(n,-r),new P(-n,r),new P(n,r)].map(a=>a.transform(e)),o=dr(s);return new P(o.width,o.height)},Jc=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:En;return St(jn(arguments.length>1&&arguments[1]!==void 0?arguments[1]:En),i)},Vr=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:En,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:En;return i.transform(Jc(t,e))},kT=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:En,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:En;return i.transform(Jc(t,e),!0)},Ky=(i,t,e)=>{let n=Jc(t,e);return rl(i,St(n,i.calcOwnMatrix())),n},F_=(i,t)=>{var e;let{transform:{target:n}}=t;(e=n.canvas)===null||e===void 0||e.fire("object:".concat(i),S(S({},t),{},{target:n})),n.fire(i,t)},Jj={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Ut=i=>typeof i=="string"?Jj[i]:i-.5,wp="not-allowed";function PT(i){return Ut(i.originX)===Ut(Ae)&&Ut(i.originY)===Ut(Ae)}function UE(i){return .5-Ut(i)}var Pi=(i,t)=>i[t],R_=(i,t,e,n)=>({e:i,transform:t,pointer:new P(e,n)});function FT(i,t){let e=i.getTotalAngle()+Ds(Math.atan2(t.y,t.x))+360;return Math.round(e%360/45)}function Xp(i,t,e,n,r){var s;let{target:o,corner:a}=i,l=o.controls[a],c=((s=o.canvas)===null||s===void 0?void 0:s.getZoom())||1,u=o.padding/c,d=function(h,p,f,y){let _=h.getRelativeCenterPoint(),b=f!==void 0&&y!==void 0?h.translateToGivenOrigin(_,Ae,Ae,f,y):new P(h.left,h.top);return(h.angle?p.rotate(-At(h.angle),_):p).subtract(b)}(o,new P(n,r),t,e);return d.x>=u&&(d.x-=u),d.x<=-u&&(d.x+=u),d.y>=u&&(d.y-=u),d.y<=u&&(d.y+=u),d.x-=l.offsetX,d.y-=l.offsetY,d}var RT=(i,t,e,n)=>{let{target:r,offsetX:s,offsetY:o}=t,a=e-s,l=n-o,c=!Pi(r,"lockMovementX")&&r.left!==a,u=!Pi(r,"lockMovementY")&&r.top!==l;return c&&r.set(dt,a),u&&r.set(Bn,l),(c||u)&&F_(fT,R_(i,t,e,n)),c||u},xp=class{getSvgStyles(t){let e=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):xn,s=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=this.opacity!==void 0?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=t?"":this.getSvgFilter(),h=Gc(Nt,this.fill);return[Gc(In,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",e,"; ","opacity: ",c,";",d,u].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t?this.calcTransformMatrix():this.calcOwnMatrix(),r='transform="'.concat($c(n));return"".concat(r).concat(e,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),s=t.indexOf("COMMON_PARTS");return t[s]=r,e?e(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:n,withShadow:r,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e?"":'style="'.concat(this.getSvgStyles(),'" '),a=r?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,d=this.stroke,h=this.fill,p=this.shadow,f=[],y=t.indexOf("COMMON_PARTS"),_;l&&(l.clipPathId="CLIPPATH_".concat(Ts()),_='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(n),`</clipPath>
`)),u&&f.push("<g ",a,this.getSvgCommons(),` >
`),f.push("<g ",this.getSvgTransform(!1),u?"":a+this.getSvgCommons(),` >
`);let b=[o,c,e?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return t[y]=b,mi(h)&&f.push(h.toSVG(this)),mi(d)&&f.push(d.toSVG(this)),p&&f.push(p.toSVG(this)),l&&f.push(_),f.push(t.join("")),f.push(`</g>
`),u&&f.push(`</g>
`),n?n(f.join("")):f.join("")}addPaintOrder(){return this.paintFirst!==Nt?' paint-order="'.concat(this.paintFirst,'" '):""}};function Qp(i){return new RegExp("^("+i.join("|")+")\\b","i")}var zE,Oi=String.raw(zE||(zE=Ms(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),Xy="http://www.w3.org/2000/svg",eB=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Oi+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Oi+"))?\\s+(.*)"),tB={cx:dt,x:dt,r:"radius",cy:Bn,y:Bn,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Oy="font-size",Ay="clip-path",nB=Qp(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),iB=Qp(["symbol","image","marker","pattern","view","svg"]),$E=Qp(["symbol","g","a","svg","clipPath","defs"]),GE=new RegExp("^\\s*("+Oi+"+)\\s*,?\\s*("+Oi+"+)\\s*,?\\s*("+Oi+"+)\\s*,?\\s*("+Oi+"+)\\s*$"),rB=new P(1,0),LT=new P,L_=(i,t)=>i.rotate(t),Ip=(i,t)=>new P(t).subtract(i),Sp=i=>i.distanceFrom(LT),Ep=(i,t)=>Math.atan2(tl(i,t),VT(i,t)),NT=i=>Ep(rB,i),Zp=i=>i.eq(LT)?i:i.scalarDivide(Sp(i)),N_=function(i){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Zp(new P(-i.y,i.x).scalarMultiply(t?1:-1))},tl=(i,t)=>i.x*t.y-i.y*t.x,VT=(i,t)=>i.x*t.x+i.y*t.y,Qy=(i,t,e)=>{if(i.eq(t)||i.eq(e))return!0;let n=tl(t,e),r=tl(t,i),s=tl(e,i);return n>=0?r>=0&&s<=0:!(r<=0&&s>=0)},WE="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",qE=new RegExp("(?:\\s|^)"+WE+WE+"("+Oi+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)"),Ss=class i{constructor(t){let e=typeof t=="string"?i.parseShadow(t):t;Object.assign(this,i.ownDefaults,e),this.id=Ts()}static parseShadow(t){let e=t.trim(),[,n=0,r=0,s=0]=(qE.exec(e)||[]).map(o=>parseFloat(o)||0);return{color:(e.replace(qE,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:r,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){let e=L_(new P(this.offsetX,this.offsetY),At(-t.angle)),n=new un(this.color),r=40,s=40;return t.width&&t.height&&(r=100*yt((Math.abs(e.x)+this.blur)/t.width,qe.NUM_FRACTION_DIGITS)+20,s=100*yt((Math.abs(e.y)+this.blur)/t.height,qe.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(r,'%" width="').concat(100+2*r,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(yt(this.blur?this.blur/2:0,qe.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(yt(e.x,qe.NUM_FRACTION_DIGITS),'" dy="').concat(yt(e.y,qe.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){let t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=i.ownDefaults;return this.includeDefaultValues?t:A_(t,(n,r)=>n!==e[r])}static fromObject(t){return rt(this,null,function*(){return new this(t)})}};x(Ss,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),x(Ss,"type","shadow"),ee.setClass(Ss,"shadow");var Lo=(i,t,e)=>Math.max(i,Math.min(t,e)),sB=[Bn,dt,Tn,ti,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",ll,cl],Hr=[Nt,In,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],oB={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:dt,originY:Bn,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Nt,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},ky=(i,t,e,n)=>(i<Math.abs(t)?(i=t,n=e/4):n=t===0&&i===0?e/Br*Math.asin(1):e/Br*Math.asin(t/i),{a:i,c:t,p:e,s:n}),YE=(i,t,e,n,r)=>i*Math.pow(2,10*(n-=1))*Math.sin((n*r-t)*Br/e),jT=(i,t,e,n)=>-e*Math.cos(i/n*Es)+e+t,Zy=(i,t,e,n)=>(i/=n)<1/2.75?e*(7.5625*i*i)+t:i<2/2.75?e*(7.5625*(i-=1.5/2.75)*i+.75)+t:i<2.5/2.75?e*(7.5625*(i-=2.25/2.75)*i+.9375)+t:e*(7.5625*(i-=2.625/2.75)*i+.984375)+t,KE=(i,t,e,n)=>e-Zy(n-i,0,e,n)+t,aB=Object.freeze({__proto__:null,defaultEasing:jT,easeInBack:function(i,t,e,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return e*(i/=n)*i*((r+1)*i-r)+t},easeInBounce:KE,easeInCirc:(i,t,e,n)=>-e*(Math.sqrt(1-(i/=n)*i)-1)+t,easeInCubic:(i,t,e,n)=>e*(i/n)**3+t,easeInElastic:(i,t,e,n)=>{let r=e,s=0;if(i===0)return t;if((i/=n)===1)return t+e;s||(s=.3*n);let{a:o,s:a,p:l}=ky(r,e,s,1.70158);return-YE(o,a,l,i,n)+t},easeInExpo:(i,t,e,n)=>i===0?t:e*2**(10*(i/n-1))+t,easeInOutBack:function(i,t,e,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(i/=n/2)<1?e/2*(i*i*((1+(r*=1.525))*i-r))+t:e/2*((i-=2)*i*((1+(r*=1.525))*i+r)+2)+t},easeInOutBounce:(i,t,e,n)=>i<n/2?.5*KE(2*i,0,e,n)+t:.5*Zy(2*i-n,0,e,n)+.5*e+t,easeInOutCirc:(i,t,e,n)=>(i/=n/2)<1?-e/2*(Math.sqrt(1-i**2)-1)+t:e/2*(Math.sqrt(1-(i-=2)*i)+1)+t,easeInOutCubic:(i,t,e,n)=>(i/=n/2)<1?e/2*i**3+t:e/2*((i-2)**3+2)+t,easeInOutElastic:(i,t,e,n)=>{let r=e,s=0;if(i===0)return t;if((i/=n/2)===2)return t+e;s||(s=n*(.3*1.5));let{a:o,s:a,p:l,c}=ky(r,e,s,1.70158);return i<1?-.5*YE(o,a,l,i,n)+t:o*Math.pow(2,-10*(i-=1))*Math.sin((i*n-a)*Br/l)*.5+c+t},easeInOutExpo:(i,t,e,n)=>i===0?t:i===n?t+e:(i/=n/2)<1?e/2*2**(10*(i-1))+t:e/2*-(2**(-10*--i)+2)+t,easeInOutQuad:(i,t,e,n)=>(i/=n/2)<1?e/2*i**2+t:-e/2*(--i*(i-2)-1)+t,easeInOutQuart:(i,t,e,n)=>(i/=n/2)<1?e/2*i**4+t:-e/2*((i-=2)*i**3-2)+t,easeInOutQuint:(i,t,e,n)=>(i/=n/2)<1?e/2*i**5+t:e/2*((i-2)**5+2)+t,easeInOutSine:(i,t,e,n)=>-e/2*(Math.cos(Math.PI*i/n)-1)+t,easeInQuad:(i,t,e,n)=>e*(i/=n)*i+t,easeInQuart:(i,t,e,n)=>e*(i/=n)*i**3+t,easeInQuint:(i,t,e,n)=>e*(i/n)**5+t,easeInSine:(i,t,e,n)=>-e*Math.cos(i/n*Es)+e+t,easeOutBack:function(i,t,e,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return e*((i=i/n-1)*i*((r+1)*i+r)+1)+t},easeOutBounce:Zy,easeOutCirc:(i,t,e,n)=>e*Math.sqrt(1-(i=i/n-1)*i)+t,easeOutCubic:(i,t,e,n)=>e*((i/n-1)**3+1)+t,easeOutElastic:(i,t,e,n)=>{let r=e,s=0;if(i===0)return t;if((i/=n)===1)return t+e;s||(s=.3*n);let{a:o,s:a,p:l,c}=ky(r,e,s,1.70158);return o*2**(-10*i)*Math.sin((i*n-a)*Br/l)+c+t},easeOutExpo:(i,t,e,n)=>i===n?t+e:e*-(2**(-10*i/n)+1)+t,easeOutQuad:(i,t,e,n)=>-e*(i/=n)*(i-2)+t,easeOutQuart:(i,t,e,n)=>-e*((i=i/n-1)*i**3-1)+t,easeOutQuint:(i,t,e,n)=>e*((i/n-1)**5+1)+t,easeOutSine:(i,t,e,n)=>e*Math.sin(i/n*Es)+t}),lB=()=>!1,qc=class{constructor(t){let{startValue:e,byValue:n,duration:r=500,delay:s=0,easing:o=jT,onStart:a=ko,onChange:l=ko,onComplete:c=ko,abort:u=lB,target:d}=t;x(this,"_state","pending"),x(this,"durationProgress",0),x(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=r,this.delay=s,this.easing=o,this._onStart=a,this._onChange=l,this._onComplete=c,this._abort=u,this.target=d,this.startValue=e,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){let t=e=>{this._state==="pending"&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Vc(t),this.delay):Vc(t)}tick(t){let e=(t||+new Date)-this.startTime,n=Math.min(e,this.duration);this.durationProgress=n/this.duration;let{value:r,valueProgress:s}=this.calculate(n);this.value=Object.freeze(r),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Vc(this.tick)))}register(){yp.push(this)}unregister(){yp.remove(this)}abort(){this._state="aborted",this.unregister()}},cB=["startValue","endValue"],Jy=class extends qc{constructor(t){let{startValue:e=0,endValue:n=100}=t;super(S(S({},_t(t,cB)),{},{startValue:e,byValue:n-e}))}calculate(t){let e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}},uB=["startValue","endValue"],e_=class extends qc{constructor(t){let{startValue:e=[0],endValue:n=[100]}=t;super(S(S({},_t(t,uB)),{},{startValue:e,byValue:n.map((r,s)=>r-e[s])}))}calculate(t){let e=this.startValue.map((n,r)=>this.easing(t,n,this.byValue[r],this.duration,r));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}},dB=["startValue","endValue","easing","onChange","onComplete","abort"],hB=(i,t,e,n)=>t+e*(1-Math.cos(i/n*Es)),Py=i=>i&&((t,e,n)=>i(new un(t).toRgba(),e,n)),t_=class extends qc{constructor(t){let{startValue:e,endValue:n,easing:r=hB,onChange:s,onComplete:o,abort:a}=t,l=_t(t,dB),c=new un(e).getSource(),u=new un(n).getSource();super(S(S({},l),{},{startValue:c,byValue:u.map((d,h)=>d-c[h]),easing:r,onChange:Py(s),onComplete:Py(o),abort:Py(a)}))}calculate(t){let[e,n,r,s]=this.startValue.map((a,l)=>this.easing(t,a,this.byValue[l],this.duration,l)),o=[...[e,n,r].map(Math.round),Lo(0,s,1)];return{value:o,valueProgress:o.map((a,l)=>this.byValue[l]!==0?Math.abs((a-this.startValue[l])/this.byValue[l]):0).find(a=>a!==0)||0}}};function V_(i){let t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(i)?new e_(i):new Jy(i);return t.start(),t}function BT(i){let t=new t_(i);return t.start(),t}var Po=class i{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(e=>e.eq(t))}append(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.points=this.points.concat(e.filter(r=>!this.includes(r))),this}static isPointContained(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e.eq(n))return t.eq(e);if(e.x===n.x)return t.x===e.x&&(r||t.y>=Math.min(e.y,n.y)&&t.y<=Math.max(e.y,n.y));if(e.y===n.y)return t.y===e.y&&(r||t.x>=Math.min(e.x,n.x)&&t.x<=Math.max(e.x,n.x));{let s=Ip(e,n),o=Ip(e,t).divide(s);return r?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(t,e){let n=new P(t).setX(Math.min(t.x-1,...e.map(s=>s.x))),r=0;for(let s=0;s<e.length;s++){let o=this.intersectSegmentSegment(e[s],e[(s+1)%e.length],t,n);if(o.includes(t))return!0;r+=+(o.status==="Intersection")}return r%2==1}static intersectLineLine(t,e,n,r){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],a=e.x-t.x,l=e.y-t.y,c=r.x-n.x,u=r.y-n.y,d=t.x-n.x,h=t.y-n.y,p=c*h-u*d,f=a*h-l*d,y=u*a-c*l;if(y!==0){let _=p/y,b=f/y;return(s||0<=_&&_<=1)&&(o||0<=b&&b<=1)?new i("Intersection").append(new P(t.x+_*a,t.y+_*l)):new i}if(p===0||f===0){let _=s||o||i.isPointContained(t,n,r)||i.isPointContained(e,n,r)||i.isPointContained(n,t,e)||i.isPointContained(r,t,e);return new i(_?"Coincident":void 0)}return new i("Parallel")}static intersectSegmentLine(t,e,n,r){return i.intersectLineLine(t,e,n,r,!1,!0)}static intersectSegmentSegment(t,e,n,r){return i.intersectLineLine(t,e,n,r,!1,!1)}static intersectLinePolygon(t,e,n){let r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=new i,o=n.length;for(let a,l,c,u=0;u<o;u++){if(a=n[u],l=n[(u+1)%o],c=i.intersectLineLine(t,e,a,l,r,!1),c.status==="Coincident")return c;s.append(...c.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(t,e,n){return i.intersectLinePolygon(t,e,n,!1)}static intersectPolygonPolygon(t,e){let n=new i,r=t.length,s=[];for(let o=0;o<r;o++){let a=t[o],l=t[(o+1)%r],c=i.intersectSegmentPolygon(a,l,e);c.status==="Coincident"?(s.push(c),n.append(a,l)):n.append(...c.points)}return s.length>0&&s.length===t.length?new i("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(t,e,n){let r=e.min(n),s=e.max(n),o=new P(s.x,r.y),a=new P(r.x,s.y);return i.intersectPolygonPolygon(t,[r,o,s,a])}},n_=class extends _p{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){let t=this.getRelativeXY();return this.group?cn(t,this.group.calcTransformMatrix()):t}setXY(t,e,n){this.group&&(t=cn(t,jn(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,n)}getRelativeXY(){return new P(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,e,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:t,tr:e,br:n,bl:r}=this.aCoords||(this.aCoords=this.calcACoords()),s=[t,e,n,r];if(this.group){let o=this.group.calcTransformMatrix();return s.map(a=>cn(a,o))}return s}intersectsWithRect(t,e){return Po.intersectPolygonRectangle(this.getCoords(),t,e).status==="Intersection"}intersectsWithObject(t){let e=Po.intersectPolygonPolygon(this.getCoords(),t.getCoords());return e.status==="Intersection"||e.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(e=>t.containsPoint(e))}isContainedWithinRect(t,e){let{left:n,top:r,width:s,height:o}=this.getBoundingRect();return n>=t.x&&n+s<=e.x&&r>=t.y&&r+o<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return Po.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=e.x&&n.x>=t.x&&n.y<=e.y&&n.y>=t.y)||!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:t,br:e}=this.canvas.vptCoords;return this.intersectsWithRect(t,e)?!0:this.getCoords().every(n=>(n.x>=e.x||n.x<=t.x)&&(n.y>=e.y||n.y<=t.y))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return dr(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(Tn,t),this._set(ti,t),this.setCoords()}scaleToWidth(t){let e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){let e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?Ds(wT(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||En.concat()}calcACoords(){let t=dl({angle:this.angle}),{x:e,y:n}=this.getRelativeCenterPoint(),r=ul(e,n),s=St(r,t),o=this._getTransformedDimensions(),a=o.x/2,l=o.y/2;return{tl:cn({x:-a,y:-l},s),tr:cn({x:a,y:-l},s),bl:cn({x:-a,y:l},s),br:cn({x:a,y:l},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Ut(this.originX),Ut(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;let n=this.transformMatrixKey(t),r=this.matrixCache;return r&&r.key.every((s,o)=>s===n[o])?r.value:(this.group&&(e=St(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:n,value:e},e)}calcOwnMatrix(){let t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;let n=this.getRelativeCenterPoint(),r={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=IT(r);return this.ownMatrixCache={key:t,value:s},s}_getNonTransformedDimensions(){return new P(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=S({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),n=e.strokeWidth,r=n,s=0;this.strokeUniform&&(r=0,s=n);let o=e.width+r,a=e.height+r,l;return l=e.skewX===0&&e.skewY===0?new P(o*e.scaleX,a*e.scaleY):Kp(o,a,Qc(e)),l.scalarAdd(s)}translateToGivenOrigin(t,e,n,r,s){let o=t.x,a=t.y,l=Ut(r)-Ut(e),c=Ut(s)-Ut(n);if(l||c){let u=this._getTransformedDimensions();o+=l*u.x,a+=c*u.y}return new P(o,a)}translateToCenterPoint(t,e,n){if(e===Ae&&n===Ae)return t;let r=this.translateToGivenOrigin(t,e,n,Ae,Ae);return this.angle?r.rotate(At(this.angle),t):r}translateToOriginPoint(t,e,n){let r=this.translateToGivenOrigin(t,Ae,Ae,e,n);return this.angle?r.rotate(At(this.angle),t):r}getCenterPoint(){let t=this.getRelativeCenterPoint();return this.group?cn(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new P(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,n){let r=this.translateToCenterPoint(t,e,n),s=this.translateToOriginPoint(r,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),dt,Bn)}},pB=["type"],fB=["extraParam"],Rr=class pp extends n_{static getDefaults(){return pp.ownDefaults}get type(){let t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){jr("warn","Setting type has no effect",t)}constructor(t){super(),x(this,"_cacheContext",null),Object.assign(this,pp.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=Vt(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){let e=t.width,n=t.height,r=qe.maxCacheSideLimit,s=qe.minCacheSideLimit;if(e<=r&&n<=r&&e*n<=qe.perfLimitSizeTotal)return e<s&&(t.width=s),n<s&&(t.height=s),t;let o=e/n,[a,l]=Nc.limitDimsByArea(o),c=Lo(s,a,r),u=Lo(s,l,r);return e>c&&(t.zoomX/=e/c,t.width=c,t.capped=!0),n>u&&(t.zoomY/=n/u,t.height=u,t.capped=!0),t}_getCacheCanvasDimensions(){let t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),n=e.x*t.x/this.scaleX,r=e.y*t.y/this.scaleY;return{width:n+2,height:r+2,zoomX:t.x,zoomY:t.y,x:n,y:r}}_updateCacheCanvas(){let t=this._cacheCanvas,e=this._cacheContext,n=this._limitCacheSize(this._getCacheCanvasDimensions()),r=qe.minCacheSideLimit,s=n.width,o=n.height,a=n.zoomX,l=n.zoomY,c=s!==t.width||o!==t.height,u=this.zoomX!==a||this.zoomY!==l;if(!t||!e)return!1;let d,h,p=c||u,f=0,y=0,_=!1;if(c){let b=this._cacheCanvas.width,T=this._cacheCanvas.height,R=s>b||o>T;_=R||(s<.9*b||o<.9*T)&&b>r&&T>r,R&&!n.capped&&(s>r||o>r)&&(f=.1*s,y=.1*o)}return ST(this)&&this.path&&(p=!0,_=!0,f+=this.getHeightOfLine(0)*this.zoomX,y+=this.getHeightOfLine(0)*this.zoomY),!!p&&(_?(t.width=Math.ceil(s+f),t.height=Math.ceil(o+y)):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)),d=n.x/2,h=n.y/2,this.cacheTranslationX=Math.round(t.width/2-d)+d,this.cacheTranslationY=Math.round(t.height/2-h)+h,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(a,l),this.zoomX=a,this.zoomY=l,!0)}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){let e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,n=this.calcTransformMatrix(!e);t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new P(Math.abs(this.scaleX),Math.abs(this.scaleY));let t=Ro(this.calcTransformMatrix());return new P(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){let t=this.getObjectScaling();if(this.canvas){let e=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return t.scalarMultiply(e*n)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,e){t!==Tn&&t!==ti||(e=this._constrainScale(e)),t===Tn&&e<0?(this.flipX=!this.flipX,e*=-1):t==="scaleY"&&e<0?(this.flipY=!this.flipY,e*=-1):t!=="shadow"||!e||e instanceof Ss||(e=new Ss(e));let n=this[t]!==e;return this[t]=e,n&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext&&(this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===In&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,e){if(t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",e.absolutePositioned){let n=jn(this.calcTransformMatrix());t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}drawObject(t,e){let n=this.fill,r=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath),this.fill=n,this.stroke=r}_drawClipPath(t,e){e&&(e._set("canvas",this.canvas),e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t,e))}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;let e=this._cacheCanvas,n=this._cacheContext;return!(!e||!n||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&n&&!t&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),n.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;let e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){let n=e.stroke;n&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,mi(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(t,n):(t.strokeStyle=n.toLive(t),this._applyPatternGradientTransform(t,n)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:n}=e;n&&(mi(n)?(t.fillStyle=n.toLive(t),this._applyPatternGradientTransform(t,n)):t.fillStyle=n)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,e){e&&e.length!==0&&(1&e.length&&e.push(...e),t.setLineDash(e))}_setShadow(t){if(!this.shadow)return;let e=this.shadow,n=this.canvas,r=this.getCanvasRetinaScaling(),[s,,,o]=n?.viewportTransform||En,a=s*r,l=o*r,c=e.nonScaling?new P(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*qe.browserShadowBlurConstant*(a+l)*(c.x+c.y)/4,t.shadowOffsetX=e.offsetX*a*c.x,t.shadowOffsetY=e.offsetY*l*c.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!mi(e))return{offsetX:0,offsetY:0};let n=e.gradientTransform||e.patternTransform,r=-this.width/2+e.offsetX||0,s=-this.height/2+e.offsetY||0;return e.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,r,s):t.transform(1,0,0,1,r,s),n&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:s}}_renderPaintInOrder(t){this.paintFirst===In?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){let e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var n;let r=this._limitCacheSize(this._getCacheCanvasDimensions()),s=Vt(),o=this.getCanvasRetinaScaling(),a=r.x/this.scaleX/o,l=r.y/this.scaleY/o;s.width=Math.ceil(a),s.height=Math.ceil(l);let c=s.getContext("2d");c&&(c.beginPath(),c.moveTo(0,0),c.lineTo(a,0),c.lineTo(a,l),c.lineTo(0,l),c.closePath(),c.translate(a/2,l/2),c.scale(r.zoomX/this.scaleX/o,r.zoomY/this.scaleY/o),this._applyPatternGradientTransform(c,e),c.fillStyle=e.toLive(t),c.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(o*this.scaleX/r.zoomX,o*this.scaleY/r.zoomY),t.strokeStyle=(n=c.createPattern(s,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new P(this.left+this.width/2,this.top+this.height/2)}clone(t){let e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){let e=this.toCanvasElement(t);return new(ee.getClass("image"))(e)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=P_(this),n=this.group,r=this.shadow,s=Math.abs,o=t.enableRetinaScaling?pT():1,a=(t.multiplier||1)*o,l=t.canvasProvider||(T=>new Wc(T,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&AT(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&Ky(this,this.getViewportTransform()),this.setCoords();let c=Vt(),u=this.getBoundingRect(),d=this.shadow,h=new P;if(d){let T=d.blur,R=d.nonScaling?new P(1,1):this.getObjectScaling();h.x=2*Math.round(s(d.offsetX)+T)*s(R.x),h.y=2*Math.round(s(d.offsetY)+T)*s(R.y)}let p=u.width+h.x,f=u.height+h.y;c.width=Math.ceil(p),c.height=Math.ceil(f);let y=l(c);t.format==="jpeg"&&(y.backgroundColor="#fff"),this.setPositionByOrigin(new P(y.width/2,y.height/2),Ae,Ae);let _=this.canvas;y._objects=[this],this.set("canvas",y),this.setCoords();let b=y.toCanvasElement(a||1,t);return this.set("canvas",_),this.shadow=r,n&&(this.group=n),this.set(e),this.setCoords(),y._objects=[],y.destroy(),b}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return D_(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){let{centeredRotation:e,originX:n,originY:r}=this;if(e){let{x:s,y:o}=this.getRelativeCenterPoint();this.originX=Ae,this.originY=Ae,this.left=s,this.top=o}if(this.set("angle",t),e){let{x:s,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,r);this.left=s,this.top=o,this.originX=n,this.originY=r}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){yp.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&hr().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce((n,r)=>{let[s,o]=r;return n[s]=this._animate(s,o,e),n},{})}_animate(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.split("."),s=this.constructor.colorProperties.includes(r[r.length-1]),{abort:o,startValue:a,onChange:l,onComplete:c}=n,u=S(S({},n),{},{target:this,startValue:a??r.reduce((d,h)=>d[h],this),endValue:e,abort:o?.bind(this),onChange:(d,h,p)=>{r.reduce((f,y,_)=>(_===r.length-1&&(f[y]=d),f[y]),this),l&&l(d,h,p)},onComplete:(d,h,p)=>{this.setCoords(),c&&c(d,h,p)}});return s?BT(u):V_(u)}isDescendantOf(t){let{parent:e,group:n}=this;return e===t||n===t||!!e&&e.isDescendantOf(t)||!!n&&n!==e&&n.isDescendantOf(t)}getAncestors(){let t=[],e=this;do e=e.parent,e&&t.push(e);while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};let e=this.getAncestors(),n=t.getAncestors();if(e.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[t,...n.slice(0,n.length-1)],common:[this]};for(let r,s=0;s<e.length;s++){if(r=e[s],r===t)return{fork:[this,...e.slice(0,s)],otherFork:[],common:e.slice(s)};for(let o=0;o<n.length;o++){if(this===n[o])return{fork:[],otherFork:[t,...n.slice(0,o)],common:[this,...e]};if(r===n[o])return{fork:[this,...e.slice(0,s)],otherFork:[t,...n.slice(0,o)],common:e.slice(s)}}}return{fork:[this,...e],otherFork:[t,...n],common:[]}}hasCommonAncestors(t){let e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;let e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;let n=e.common[0]||this.canvas;if(!n)return;let r=e.fork.pop(),s=e.otherFork.pop(),o=n._objects.indexOf(r),a=n._objects.indexOf(s);return o>-1&&o>a}toObject(){let t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(pp.customProperties,this.constructor.customProperties||[]),e,n=qe.NUM_FRACTION_DIGITS,{clipPath:r,fill:s,stroke:o,shadow:a,strokeDashArray:l,left:c,top:u,originX:d,originY:h,width:p,height:f,strokeWidth:y,strokeLineCap:_,strokeDashOffset:b,strokeLineJoin:T,strokeUniform:R,strokeMiterLimit:F,scaleX:$,scaleY:G,angle:Z,flipX:q,flipY:Ne,opacity:Ye,visible:He,backgroundColor:Ue,fillRule:Be,paintFirst:Ze,globalCompositeOperation:Wt,skewX:W,skewY:te}=this;r&&!r.excludeFromExport&&(e=r.toObject(t.concat("inverted","absolutePositioned")));let K=ht=>yt(ht,n),Se=S(S({},Vo(this,t)),{},{type:this.constructor.type,version:$y,originX:d,originY:h,left:K(c),top:K(u),width:K(p),height:K(f),fill:jE(s)?s.toObject():s,stroke:jE(o)?o.toObject():o,strokeWidth:K(y),strokeDashArray:l&&l.concat(),strokeLineCap:_,strokeDashOffset:b,strokeLineJoin:T,strokeUniform:R,strokeMiterLimit:K(F),scaleX:K($),scaleY:K(G),angle:K(Z),flipX:q,flipY:Ne,opacity:K(Ye),shadow:a&&a.toObject(),visible:He,backgroundColor:Ue,fillRule:Be,paintFirst:Ze,globalCompositeOperation:Wt,skewX:K(W),skewY:K(te)},e?{clipPath:e}:null);return this.includeDefaultValues?Se:this._removeDefaultValues(Se)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){let e=this.constructor.getDefaults(),n=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return A_(t,(r,s)=>{if(s===dt||s===Bn||s==="type")return!0;let o=n[s];return r!==o&&!(Array.isArray(r)&&Array.isArray(o)&&r.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let e=_t(t,pB),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:r}=n,s=_t(n,fB);return Zc(e,s).then(o=>r?(delete o[r],new this(e[r],o)):new this(o))}static fromObject(t,e){return this._fromObject(t,e)}};x(Rr,"stateProperties",sB),x(Rr,"cacheProperties",Hr),x(Rr,"ownDefaults",oB),x(Rr,"type","FabricObject"),x(Rr,"colorProperties",[Nt,In,"backgroundColor"]),x(Rr,"customProperties",[]),ee.setClass(Rr),ee.setClass(Rr,"object");var Os=(i,t,e)=>(n,r,s,o)=>{let a=t(n,r,s,o);return a&&F_(i,S(S({},R_(n,r,s,o)),e)),a};function jo(i){return(t,e,n,r)=>{let{target:s,originX:o,originY:a}=e,l=s.getRelativeCenterPoint(),c=s.translateToOriginPoint(l,o,a),u=i(t,e,n,r);return s.setPositionByOrigin(c,e.originX,e.originY),u}}var i_=Os(zc,jo((i,t,e,n)=>{let r=Xp(t,t.originX,t.originY,e,n);if(Ut(t.originX)===Ut(Ae)||Ut(t.originX)===Ut(Lt)&&r.x<0||Ut(t.originX)===Ut(dt)&&r.x>0){let{target:s}=t,o=s.strokeWidth/(s.strokeUniform?s.scaleX:1),a=PT(t)?2:1,l=s.width,c=Math.ceil(Math.abs(r.x*a/s.scaleX)-o);return s.set("width",Math.max(c,0)),l!==s.width}return!1}));function HT(i,t,e,n,r){n=n||{};let s=this.sizeX||n.cornerSize||r.cornerSize,o=this.sizeY||n.cornerSize||r.cornerSize,a=n.transparentCorners!==void 0?n.transparentCorners:r.transparentCorners,l=a?In:Nt,c=!a&&(n.cornerStrokeColor||r.cornerStrokeColor),u,d=t,h=e;i.save(),i.fillStyle=n.cornerColor||r.cornerColor||"",i.strokeStyle=n.cornerStrokeColor||r.cornerStrokeColor||"",s>o?(u=s,i.scale(1,o/s),h=e*s/o):o>s?(u=o,i.scale(s/o,1),d=t*o/s):u=s,i.lineWidth=1,i.beginPath(),i.arc(d,h,u/2,0,Br,!1),i[l](),c&&i.stroke(),i.restore()}function UT(i,t,e,n,r){n=n||{};let s=this.sizeX||n.cornerSize||r.cornerSize,o=this.sizeY||n.cornerSize||r.cornerSize,a=n.transparentCorners!==void 0?n.transparentCorners:r.transparentCorners,l=a?In:Nt,c=!a&&(n.cornerStrokeColor||r.cornerStrokeColor),u=s/2,d=o/2;i.save(),i.fillStyle=n.cornerColor||r.cornerColor||"",i.strokeStyle=n.cornerStrokeColor||r.cornerStrokeColor||"",i.lineWidth=1,i.translate(t,e);let h=r.getTotalAngle();i.rotate(At(h)),i["".concat(l,"Rect")](-u,-d,s,o),c&&i.strokeRect(-u,-d,s,o),i.restore()}var bn=class{constructor(t){x(this,"visible",!0),x(this,"actionName",Wp),x(this,"angle",0),x(this,"x",0),x(this,"y",0),x(this,"offsetX",0),x(this,"offsetY",0),x(this,"sizeX",0),x(this,"sizeY",0),x(this,"touchSizeX",0),x(this,"touchSizeY",0),x(this,"cursorStyle","crosshair"),x(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,e,n,r){var s;let{tl:o,tr:a,br:l,bl:c}=r;return((s=e.canvas)===null||s===void 0?void 0:s.getActiveObject())===e&&e.isControlVisible(t)&&Po.isPointInPolygon(n,[o,a,l,c])}getActionHandler(t,e,n){return this.actionHandler}getMouseDownHandler(t,e,n){return this.mouseDownHandler}getMouseUpHandler(t,e,n){return this.mouseUpHandler}cursorStyleHandler(t,e,n){return e.cursorStyle}getActionName(t,e,n){return e.actionName}getVisibility(t,e){var n,r;return(n=(r=t._controlsVisibility)===null||r===void 0?void 0:r[e])!==null&&n!==void 0?n:this.visible}setVisibility(t,e,n){this.visible=t}positionHandler(t,e,n,r){return new P(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,n,r,s,o){let a=qp([ul(n,r),dl({angle:t}),Yp((s?this.touchSizeX:this.sizeX)||e,(s?this.touchSizeY:this.sizeY)||e)]);return{tl:new P(-.5,-.5).transform(a),tr:new P(.5,-.5).transform(a),br:new P(.5,.5).transform(a),bl:new P(-.5,.5).transform(a)}}render(t,e,n,r,s){((r=r||{}).cornerStyle||s.cornerStyle)==="circle"?HT.call(this,t,e,n,r,s):UT.call(this,t,e,n,r,s)}},zT=(i,t,e)=>e.lockRotation?wp:t.cursorStyle,$T=Os(gT,jo((i,t,e,n)=>{let{target:r,ex:s,ey:o,theta:a,originX:l,originY:c}=t,u=r.translateToOriginPoint(r.getRelativeCenterPoint(),l,c);if(Pi(r,"lockRotation"))return!1;let d=Math.atan2(o-u.y,s-u.x),h=Math.atan2(n-u.y,e-u.x),p=Ds(h-d+a);if(r.snapAngle&&r.snapAngle>0){let y=r.snapAngle,_=r.snapThreshold||y,b=Math.ceil(p/y)*y,T=Math.floor(p/y)*y;Math.abs(p-T)<_?p=T:Math.abs(p-b)<_&&(p=b)}p<0&&(p=360+p),p%=360;let f=r.angle!==p;return r.angle=p,f}));function GT(i,t){let e=t.canvas,n=i[e.uniScaleKey];return e.uniformScaling&&!n||!e.uniformScaling&&n}function WT(i,t,e){let n=Pi(i,"lockScalingX"),r=Pi(i,"lockScalingY");if(n&&r||!t&&(n||r)&&e||n&&t==="x"||r&&t==="y")return!0;let{width:s,height:o,strokeWidth:a}=i;return s===0&&a===0&&t!=="y"||o===0&&a===0&&t!=="x"}var gB=["e","se","s","sw","w","nw","n","ne","e"],Qa=(i,t,e)=>{let n=GT(i,e);if(WT(e,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",n))return wp;let r=FT(e,t);return"".concat(gB[r],"-resize")};function j_(i,t,e,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},s=t.target,o=r.by,a=GT(i,s),l,c,u,d,h,p;if(WT(s,o,a))return!1;if(t.gestureScale)c=t.scaleX*t.gestureScale,u=t.scaleY*t.gestureScale;else{if(l=Xp(t,t.originX,t.originY,e,n),h=o!=="y"?Math.sign(l.x||t.signX||1):1,p=o!=="x"?Math.sign(l.y||t.signY||1):1,t.signX||(t.signX=h),t.signY||(t.signY=p),Pi(s,"lockScalingFlip")&&(t.signX!==h||t.signY!==p))return!1;if(d=s._getTransformedDimensions(),a&&!o){let _=Math.abs(l.x)+Math.abs(l.y),{original:b}=t,T=_/(Math.abs(d.x*b.scaleX/s.scaleX)+Math.abs(d.y*b.scaleY/s.scaleY));c=b.scaleX*T,u=b.scaleY*T}else c=Math.abs(l.x*s.scaleX/d.x),u=Math.abs(l.y*s.scaleY/d.y);PT(t)&&(c*=2,u*=2),t.signX!==h&&o!=="y"&&(t.originX=UE(t.originX),c*=-1,t.signX=h),t.signY!==p&&o!=="x"&&(t.originY=UE(t.originY),u*=-1,t.signY=p)}let f=s.scaleX,y=s.scaleY;return o?(o==="x"&&s.set(Tn,c),o==="y"&&s.set(ti,u)):(!Pi(s,"lockScalingX")&&s.set(Tn,c),!Pi(s,"lockScalingY")&&s.set(ti,u)),f!==s.scaleX||y!==s.scaleY}var Rc=Os(Gp,jo((i,t,e,n)=>j_(i,t,e,n))),qT=Os(Gp,jo((i,t,e,n)=>j_(i,t,e,n,{by:"x"}))),YT=Os(Gp,jo((i,t,e,n)=>j_(i,t,e,n,{by:"y"}))),mB=["target","ex","ey","skewingSide"],Fy={x:{counterAxis:"y",scale:Tn,skew:ll,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:ti,skew:cl,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},vB=["ns","nesw","ew","nwse"],KT=(i,t,e)=>{if(t.x!==0&&Pi(e,"lockSkewingY")||t.y!==0&&Pi(e,"lockSkewingX"))return wp;let n=FT(e,t)%4;return"".concat(vB[n],"-resize")};function XT(i,t,e,n,r){let{target:s}=e,{counterAxis:o,origin:a,lockSkewing:l,skew:c,flip:u}=Fy[i];if(Pi(s,l))return!1;let{origin:d,flip:h}=Fy[o],p=Ut(e[d])*(s[h]?-1:1),f=-Math.sign(p)*(s[u]?-1:1),y=.5*-((s[c]===0&&Xp(e,Ae,Ae,n,r)[i]>0||s[c]>0?1:-1)*f)+.5;return Os(mT,jo((b,T,R,F)=>function($,G,Z){let{target:q,ex:Ne,ey:Ye,skewingSide:He}=G,Ue=_t(G,mB),{skew:Be}=Fy[$],Ze=Z.subtract(new P(Ne,Ye)).divide(new P(q.scaleX,q.scaleY))[$],Wt=q[Be],W=Ue[Be],te=Math.tan(At(W)),K=$==="y"?q._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:q._getTransformedDimensions({scaleX:1,scaleY:1}).y,Se=2*Ze*He/Math.max(K,1)+te,ht=Ds(Math.atan(Se));q.set(Be,ht);let dn=Wt!==q[Be];if(dn&&$==="y"){let{skewX:Qt,scaleX:Dn}=q,Je=q._getTransformedDimensions({skewY:Wt}),Ps=q._getTransformedDimensions(),pr=Qt!==0?Je.x/Ps.x:1;pr!==1&&q.set(Tn,pr*Dn)}return dn}(i,T,new P(R,F))))(t,S(S({},e),{},{[a]:y,skewingSide:f}),n,r)}var QT=(i,t,e,n)=>XT("x",i,t,e,n),ZT=(i,t,e,n)=>XT("y",i,t,e,n);function Jp(i,t){return i[t.canvas.altActionKey]}var Lc=(i,t,e)=>{let n=Jp(i,e);return t.x===0?n?ll:ti:t.y===0?n?cl:Tn:""},go=(i,t,e)=>Jp(i,e)?KT(0,t,e):Qa(i,t,e),r_=(i,t,e,n)=>Jp(i,t.target)?ZT(i,t,e,n):qT(i,t,e,n),s_=(i,t,e,n)=>Jp(i,t.target)?QT(i,t,e,n):YT(i,t,e,n),B_=()=>({ml:new bn({x:-.5,y:0,cursorStyleHandler:go,actionHandler:r_,getActionName:Lc}),mr:new bn({x:.5,y:0,cursorStyleHandler:go,actionHandler:r_,getActionName:Lc}),mb:new bn({x:0,y:.5,cursorStyleHandler:go,actionHandler:s_,getActionName:Lc}),mt:new bn({x:0,y:-.5,cursorStyleHandler:go,actionHandler:s_,getActionName:Lc}),tl:new bn({x:-.5,y:-.5,cursorStyleHandler:Qa,actionHandler:Rc}),tr:new bn({x:.5,y:-.5,cursorStyleHandler:Qa,actionHandler:Rc}),bl:new bn({x:-.5,y:.5,cursorStyleHandler:Qa,actionHandler:Rc}),br:new bn({x:.5,y:.5,cursorStyleHandler:Qa,actionHandler:Rc}),mtr:new bn({x:0,y:-.5,actionHandler:$T,cursorStyleHandler:zT,offsetY:-40,withConnection:!0,actionName:E_})}),JT=()=>({mr:new bn({x:.5,y:0,actionHandler:i_,cursorStyleHandler:go,actionName:zc}),ml:new bn({x:-.5,y:0,actionHandler:i_,cursorStyleHandler:go,actionName:zc})}),eD=()=>S(S({},B_()),JT()),Tp=class i extends Rr{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),i.ownDefaults),this.setOptions(t)}static createControls(){return{controls:B_()}}_updateCacheCanvas(){let t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){let e=t._currentTransform,n=e.target,r=e.action;if(this===n&&r&&r.startsWith(Wp))return!1}return super._updateCacheCanvas()}getActiveControl(){let t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;let n=Object.entries(this.oCoords);for(let r=n.length-1;r>=0;r--){let[s,o]=n[r],a=this.controls[s];if(a.shouldActivate(s,this,t,e?o.touchCorner:o.corner))return this.__corner=s,{key:s,control:a,coord:this.oCoords[s]}}}calcOCoords(){let t=this.getViewportTransform(),e=this.getCenterPoint(),n=ul(e.x,e.y),r=dl({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=St(n,r),o=St(t,s),a=St(o,[1/t[0],0,0,1/t[3],0,0]),l=this.group?Ro(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));let c=this._calculateCurrentDimensions(l),u={};return this.forEachControl((d,h)=>{let p=d.positionHandler(c,a,this,d);u[h]=Object.assign(p,this._calcCornerCoords(d,p))}),u}_calcCornerCoords(t,e){let n=this.getTotalAngle();return{corner:t.calcCornerCoords(n,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(n,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(let e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();let e=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),r=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/r[0],1/r[3]),t.rotate(At(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-n.x/2,-n.y/2,n.x,n.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=S({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);t.save(),t.strokeStyle=r.borderColor,this._setLineDash(t,r.borderDashArray),this.strokeBorders(t,e),r.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{hasBorders:n,hasControls:r}=this,s=S({hasBorders:n,hasControls:r},e),o=this.getViewportTransform(),a=s.hasBorders,l=s.hasControls,c=St(o,this.calcTransformMatrix()),u=Ro(c);t.save(),t.translate(u.translateX,u.translateY),t.lineWidth=1*this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),t.rotate(At(this.group?u.angle:this.angle)),a&&this.drawBorders(t,u,e),l&&this.drawControls(t,e),t.restore()}drawBorders(t,e,n){let r;if(n&&n.forActiveSelection||this.group){let s=Kp(this.width,this.height,Qc(e)),o=this.isStrokeAccountedForInDimensions()?T_:(this.strokeUniform?new P().scalarAdd(this.canvas?this.canvas.getZoom():1):new P(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);r=s.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else r=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,r,n)}drawControlsConnectingLines(t,e){let n=!1;t.beginPath(),this.forEachControl((r,s)=>{r.withConnection&&r.getVisibility(this,s)&&(n=!0,t.moveTo(r.x*e.x,r.y*e.y),t.lineTo(r.x*e.x+r.offsetX,r.y*e.y+r.offsetY))}),n&&t.stroke()}drawControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();let n=this.getCanvasRetinaScaling(),{cornerStrokeColor:r,cornerDashArray:s,cornerColor:o}=this,a=S({cornerStrokeColor:r,cornerDashArray:s,cornerColor:o},e);t.setTransform(n,0,0,n,0,0),t.strokeStyle=t.fillStyle=a.cornerColor,this.transparentCorners||(t.strokeStyle=a.cornerStrokeColor),this._setLineDash(t,a.cornerDashArray),this.forEachControl((l,c)=>{if(l.getVisibility(this,c)){let u=this.oCoords[c];l.render(t,u.x,u.y,a,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(e=>{let[n,r]=e;return this.setControlVisible(n,r)})}clearContextTop(t){if(!this.canvas)return;let e=this.canvas.contextTop;if(!e)return;let n=this.canvas.viewportTransform;e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(e);let r=this.width+4,s=this.height+4;return e.clearRect(-r/2,-s/2,r,s),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}};function tD(i,t){return t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(i.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n)||Object.create(null))})}),i}x(Tp,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});var kt=class extends Tp{};tD(kt,[xp]),ee.setClass(kt),ee.setClass(kt,"object");var nD=(i,t,e,n)=>{let r=2*(n=Math.round(n))+1,{data:s}=i.getImageData(t-n,e-n,r,r);for(let o=3;o<s.length;o+=4)if(s[o]>0)return!1;return!0},Dp=class{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new P(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new P(1/this.options.scaleX,1/this.options.scaleY):new P(1,1)}createSideVector(t,e){let n=Ip(t,e);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(t,e,n){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){let e=new P(t);return e.y+=e.x*Math.tan(At(this.options.skewY)),e.x+=e.y*Math.tan(At(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}},yB=new P,Mp=class i extends Dp{static getOrthogonalRotationFactor(t,e){let n=e?Ep(t,e):NT(t);return Math.abs(n)<Es?-1:1}constructor(t,e,n,r){super(r),x(this,"AB",void 0),x(this,"AC",void 0),x(this,"alpha",void 0),x(this,"bisector",void 0),this.A=new P(t),this.B=new P(e),this.C=new P(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=Ep(this.AB,this.AC),this.bisector=Zp(L_(this.AB.eq(yB)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,r=this.createSideVector(t,e),s=N_(r),o=i.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,n*o)}projectBevel(){let t=[];return(this.alpha%Br==0?[this.B]:[this.B,this.C]).forEach(e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))}),t}projectMiter(){let t=[],e=Math.abs(this.alpha),n=1/Math.sin(e/2),r=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),s=this.options.strokeUniform?Sp(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Sp(r)/this.strokeProjectionMagnitude<=s&&t.push(this.applySkew(this.A.add(r))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){let n=[],r=new P(i.getOrthogonalRotationFactor(this.bisector),i.getOrthogonalRotationFactor(new P(this.bisector.y,this.bisector.x)));return[new P(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r),new P(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r)].forEach(s=>{Qy(s,t,e)&&n.push(this.A.add(s))}),n}projectRoundWithSkew(t,e){let n=[],{skewX:r,skewY:s,scaleX:o,scaleY:a,strokeUniform:l}=this.options,c=new P(Math.tan(At(r)),Math.tan(At(s))),u=this.strokeProjectionMagnitude,d=l?u/a/Math.sqrt(1/a**2+1/o**2*c.y**2):u/Math.sqrt(1+c.y**2),h=new P(Math.sqrt(Math.max(u**2-d**2,0)),d),p=l?u/Math.sqrt(1+c.x**2*(1/a)**2/(1/o+1/o*c.x*c.y)**2):u/Math.sqrt(1+c.x**2/(1+c.x*c.y)**2),f=new P(p,Math.sqrt(Math.max(u**2-p**2,0)));return[f,f.scalarMultiply(-1),h,h.scalarMultiply(-1)].map(y=>this.applySkew(l?y.multiply(this.strokeUniformScalar):y)).forEach(y=>{Qy(y,t,e)&&n.push(this.applySkew(this.A).add(y))}),n}projectRound(){let t=[];t.push(...this.projectBevel());let e=this.alpha%Br==0,n=this.applySkew(this.A),r=t[e?0:2].subtract(n),s=t[e?1:0].subtract(n),o=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=tl(r,o)>0,l=a?r:s,c=a?s:r;return this.isSkewed()?t.push(...this.projectRoundWithSkew(l,c)):t.push(...this.projectRoundNoSkew(l,c)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}},Op=class extends Dp{constructor(t,e,n){super(n),this.A=new P(t),this.T=new P(e)}calcOrthogonalProjection(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,r=this.createSideVector(t,e);return this.scaleUnitVector(N_(r),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){let t=[];if(!this.isSkewed()&&this.A.eq(this.T)){let e=new P(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new Mp(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){let t=[];if(this.A.eq(this.T)){let e=new P(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{let e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(Zp(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),r=this.A.add(n);t.push(r.add(e),r.subtract(e))}return t.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}},iD=function(i,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=[];if(i.length===0)return n;let r=i.reduce((s,o)=>(s[s.length-1].eq(o)||s.push(new P(o)),s),[new P(i[0])]);if(r.length===1)e=!0;else if(!e){let s=r[0],o=((a,l)=>{for(let c=a.length-1;c>=0;c--)if(l(a[c],c,a))return c;return-1})(r,a=>!a.eq(s));r.splice(o+1)}return r.forEach((s,o,a)=>{let l,c;o===0?(c=a[1],l=e?s:a[a.length-1]):o===a.length-1?(l=a[o-1],c=e?s:a[0]):(l=a[o-1],c=a[o+1]),e&&a.length===1?n.push(...new Op(s,s,t).project()):!e||o!==0&&o!==a.length-1?n.push(...new Mp(s,l,c,t).project()):n.push(...new Op(s,o===0?c:l,t).project())}),n},H_=i=>{let t={};return Object.keys(i).forEach(e=>{t[e]={},Object.keys(i[e]).forEach(n=>{t[e][n]=S({},i[e][n])})}),t},rD=i=>i.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ef=i=>{let t=[];for(let e,n=0;n<i.length;n++)(e=_B(i,n))!==!1&&t.push(e);return t},_B=(i,t)=>{let e=i.charCodeAt(t);if(isNaN(e))return"";if(e<55296||e>57343)return i.charAt(t);if(55296<=e&&e<=56319){if(i.length<=t+1)throw"High surrogate without following low surrogate";let r=i.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return i.charAt(t)+i.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";let n=i.charCodeAt(t-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1},bB=Object.freeze({__proto__:null,capitalize:function(i){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(i.charAt(0).toUpperCase()).concat(t?i.slice(1):i.slice(1).toLowerCase())},escapeXml:rD,graphemeSplit:ef}),tf=function(i,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return i.fill!==t.fill||i.stroke!==t.stroke||i.strokeWidth!==t.strokeWidth||i.fontSize!==t.fontSize||i.fontFamily!==t.fontFamily||i.fontWeight!==t.fontWeight||i.fontStyle!==t.fontStyle||i.textBackgroundColor!==t.textBackgroundColor||i.deltaY!==t.deltaY||e&&(i.overline!==t.overline||i.underline!==t.underline||i.linethrough!==t.linethrough)},sD=(i,t)=>{let e=t.split(`
`),n=[],r=-1,s={};i=H_(i);for(let o=0;o<e.length;o++){let a=ef(e[o]);if(i[o])for(let l=0;l<a.length;l++){r++;let c=i[o][l];c&&Object.keys(c).length>0&&(tf(s,c,!0)?n.push({start:r,end:r+1,style:c}):n[n.length-1].end++),s=c||{}}else r+=a.length,s={}}return n},oD=(i,t)=>{if(!Array.isArray(i))return H_(i);let e=t.split(S_),n={},r=-1,s=0;for(let o=0;o<e.length;o++){let a=ef(e[o]);for(let l=0;l<a.length;l++)r++,i[s]&&i[s].start<=r&&r<i[s].end&&(n[o]=n[o]||{},n[o][l]=S({},i[s].style),r===i[s].end-1&&s++)}return n},As=["display","transform",Nt,"fill-opacity","fill-rule","opacity",In,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function XE(i,t){let e=i.nodeName,n=i.getAttribute("class"),r=i.getAttribute("id"),s="(?![a-zA-Z\\-]+)",o;if(o=new RegExp("^"+e,"i"),t=t.replace(o,""),r&&t.length&&(o=new RegExp("#"+r+s,"i"),t=t.replace(o,"")),n&&t.length){let a=n.split(" ");for(let l=a.length;l--;)o=new RegExp("\\."+a[l]+s,"i"),t=t.replace(o,"")}return t.length===0}function CB(i,t){let e=!0,n=XE(i,t.pop());return n&&t.length&&(e=function(r,s){let o,a=!0;for(;r.parentElement&&r.parentElement.nodeType===1&&s.length;)a&&(o=s.pop()),a=XE(r=r.parentElement,o);return s.length===0}(i,t)),n&&e&&t.length===0}var wB=i=>{var t;return(t=tB[i])!==null&&t!==void 0?t:i},xB=new RegExp("(".concat(Oi,")"),"gi"),IB=i=>i.replace(xB," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),QE,ZE,JE,eT,tT,nT,iT,wn="(".concat(Oi,")"),SB=String.raw(QE||(QE=Ms(["(skewX)(",")"],["(skewX)\\(","\\)"])),wn),EB=String.raw(ZE||(ZE=Ms(["(skewY)(",")"],["(skewY)\\(","\\)"])),wn),TB=String.raw(JE||(JE=Ms(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),wn,wn,wn),DB=String.raw(eT||(eT=Ms(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),wn,wn),MB=String.raw(tT||(tT=Ms(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),wn,wn),OB=String.raw(nT||(nT=Ms(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),wn,wn,wn,wn,wn,wn),U_="(?:".concat(OB,"|").concat(MB,"|").concat(TB,"|").concat(DB,"|").concat(SB,"|").concat(EB,")"),AB="(?:".concat(U_,"*)"),kB=String.raw(iT||(iT=Ms(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),AB),PB=new RegExp(kB),FB=new RegExp(U_),RB=new RegExp(U_,"g");function Ap(i){let t=[];if(!(i=IB(i).replace(/\s*([()])\s*/gi,"$1"))||i&&!PB.test(i))return[...En];for(let e of i.matchAll(RB)){let n=FB.exec(e[0]);if(!n)continue;let r=En,s=n.filter(f=>!!f),[,o,...a]=s,[l,c,u,d,h,p]=a.map(f=>parseFloat(f));switch(o){case"translate":r=ul(l,c);break;case E_:r=dl({angle:l},{x:c,y:u});break;case Wp:r=Yp(l,c);break;case ll:r=M_(l);break;case cl:r=O_(l);break;case"matrix":r=[l,c,u,d,h,p]}t.push(r)}return qp(t)}function LB(i,t,e,n){let r=Array.isArray(t),s,o=t;if(i!==Nt&&i!==In||t!==xn){if(i==="strokeUniform")return t==="non-scaling-stroke";if(i==="strokeDashArray")o=t===xn?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(i==="transformMatrix")o=e&&e.transformMatrix?St(e.transformMatrix,Ap(t)):Ap(t);else if(i==="visible")o=t!==xn&&t!=="hidden",e&&e.visible===!1&&(o=!1);else if(i==="opacity")o=parseFloat(t),e&&e.opacity!==void 0&&(o*=e.opacity);else if(i==="textAnchor")o=t==="start"?dt:t==="end"?Lt:Ae;else if(i==="charSpacing")s=Cn(t,n)/n*1e3;else if(i==="paintFirst"){let a=t.indexOf(Nt),l=t.indexOf(In);o=Nt,(a>-1&&l>-1&&l<a||a===-1&&l>-1)&&(o=In)}else{if(i==="href"||i==="xlink:href"||i==="font"||i==="id")return t;if(i==="imageSmoothing")return t==="optimizeQuality";s=r?t.map(Cn):Cn(t,n)}}else o="";return!r&&isNaN(s)?o:s}function NB(i,t){let e=i.match(eB);if(!e)return;let n=e[1],r=e[3],s=e[4],o=e[5],a=e[6];n&&(t.fontStyle=n),r&&(t.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),s&&(t.fontSize=Cn(s)),a&&(t.fontFamily=a),o&&(t.lineHeight=o==="normal"?1:o)}function o_(i,t){i.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;let[n,r]=e.split(":");t[n.trim().toLowerCase()]=r.trim()})}function VB(i){let t={},e=i.getAttribute("style");return e&&(typeof e=="string"?o_(e,t):function(n,r){Object.entries(n).forEach(s=>{let[o,a]=s;a!==void 0&&(r[o.toLowerCase()]=a)})}(e,t)),t}var jB={stroke:"strokeOpacity",fill:"fillOpacity"};function Ur(i,t,e){if(!i)return{};let n,r={},s=I_;i.parentNode&&$E.test(i.parentNode.nodeName)&&(r=Ur(i.parentElement,t,e),r.fontSize&&(n=s=Cn(r.fontSize)));let o=S(S(S({},t.reduce((c,u)=>{let d=i.getAttribute(u);return d&&(c[u]=d),c},{})),function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={};for(let h in u)CB(c,h.split(" "))&&(d=S(S({},d),u[h]));return d}(i,e)),VB(i));o[Ay]&&i.setAttribute(Ay,o[Ay]),o[Oy]&&(n=Cn(o[Oy],s),o[Oy]="".concat(n));let a={};for(let c in o){let u=wB(c),d=LB(u,o[c],r,n);a[u]=d}a&&a.font&&NB(a.font,a);let l=S(S({},r),a);return $E.test(i.nodeName)?l:function(c){let u=kt.getDefaults();return Object.entries(jB).forEach(d=>{let[h,p]=d;if(c[p]===void 0||c[h]==="")return;if(c[h]===void 0){if(!u[h])return;c[h]=u[h]}if(c[h].indexOf("url(")===0)return;let f=new un(c[h]);c[h]=f.setAlpha(yt(f.getAlpha()*c[p],2)).toRgba()}),c}(l)}var BB=["left","top","width","height","visible"],aD=["rx","ry"],gi=class i extends kt{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(t){super(),Object.assign(this,i.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){let{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){let{width:e,height:n}=this,r=-e/2,s=-n/2,o=this.rx?Math.min(this.rx,e/2):0,a=this.ry?Math.min(this.ry,n/2):0,l=o!==0||a!==0;t.beginPath(),t.moveTo(r+o,s),t.lineTo(r+e-o,s),l&&t.bezierCurveTo(r+e-bs*o,s,r+e,s+bs*a,r+e,s+a),t.lineTo(r+e,s+n-a),l&&t.bezierCurveTo(r+e,s+n-bs*a,r+e-bs*o,s+n,r+e-o,s+n),t.lineTo(r+o,s+n),l&&t.bezierCurveTo(r+bs*o,s+n,r,s+n-bs*a,r,s+n-a),t.lineTo(r,s+a),l&&t.bezierCurveTo(r,s+bs*a,r+bs*o,s,r+o,s),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...aD,...t])}_toSVG(){let{width:t,height:e,rx:n,ry:r}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-e/2,'" rx="').concat(n,'" ry="').concat(r,'" width="').concat(t,'" height="').concat(e,`" />
`)]}static fromElement(t,e,n){return rt(this,null,function*(){let r=Ur(t,this.ATTRIBUTE_NAMES,n),{left:s=0,top:o=0,width:a=0,height:l=0,visible:c=!0}=r,u=_t(r,BB);return new this(S(S(S({},e),u),{},{left:s,top:o,width:a,height:l,visible:!!(c&&a&&l)}))})}};x(gi,"type","Rect"),x(gi,"cacheProperties",[...Hr,...aD]),x(gi,"ownDefaults",{rx:0,ry:0}),x(gi,"ATTRIBUTE_NAMES",[...As,"x","y","rx","ry","width","height"]),ee.setClass(gi),ee.setSVGClass(gi);var Lr="initialization",kp="added",z_="removed",Pp="imperative",lD=(i,t)=>{let{strokeUniform:e,strokeWidth:n,width:r,height:s,group:o}=t,a=o&&o!==i?Jc(o.calcTransformMatrix(),i.calcTransformMatrix()):null,l=a?t.getRelativeCenterPoint().transform(a):t.getRelativeCenterPoint(),c=!t.isStrokeAccountedForInDimensions(),u=e&&c?kT(new P(n,n),void 0,i.calcTransformMatrix()):T_,d=!e&&c?n:0,h=Kp(r+d,s+d,qp([a,t.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(h),l.add(h)]},sl=class{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:n,strategy:r}=t;return e===Lr||e===Pp||!!n&&r!==n}shouldLayoutClipPath(t){let{type:e,target:{clipPath:n}}=t;return e!==Lr&&n&&!n.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){let{type:n,target:r}=e;if(n===Pp&&e.overrides)return e.overrides;if(t.length===0)return;let{left:s,top:o,width:a,height:l}=dr(t.map(d=>lD(r,d)).reduce((d,h)=>d.concat(h),[])),c=new P(a,l),u=new P(s,o).add(c.scalarDivide(2));if(n===Lr){let d=this.getInitialSize(e,{size:c,center:u});return{center:u,relativeCorrection:new P(0,0),size:d}}return{center:u.transform(r.calcOwnMatrix()),size:c}}};x(sl,"type","strategy");var Yc=class extends sl{shouldPerformLayout(t){return!0}};x(Yc,"type","fit-content"),ee.setClass(Yc);var HB=["strategy"],UB=["target","strategy","bubbles","prevStrategy"],cD="layoutManager",No=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Yc;x(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){let e=S(S({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);let n=this.getLayoutResult(e);n&&this.commitLayout(e,n),this.onAfterLayout(e,n),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){let{target:n}=e;return[vp,fT,zc,gT,Gp,mT,mp,vT,Yj].map(r=>t.on(r,s=>this.performLayout(r===vp?{type:"object_modified",trigger:r,e:s,target:n}:{type:"object_modifying",trigger:r,e:s,target:n})))}subscribe(t,e){this.unsubscribe(t,e);let n=this.attachHandlers(t,e);this._subscriptions.set(t,n)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach(n=>n()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(e=>this.unsubscribe(e,t))}subscribeTargets(t){t.targets.forEach(e=>this.subscribe(e,t))}onBeforeLayout(t){let{target:e,type:n}=t,{canvas:r}=e;if(n===Lr||n===kp?this.subscribeTargets(t):n===z_&&this.unsubscribeTargets(t),e.fire("layout:before",{context:t}),r&&r.fire("object:layout:before",{target:e,context:t}),n===Pp&&t.deep){let s=_t(t,HB);e.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(S(S({},s),{},{bubbles:!1,target:o})))}}getLayoutResult(t){let{target:e,strategy:n,type:r}=t,s=n.calcLayoutResult(t,e.getObjects());if(!s)return;let o=r===Lr?new P:e.getRelativeCenterPoint(),{center:a,correction:l=new P,relativeCorrection:c=new P}=s,u=o.subtract(a).add(l).transform(r===Lr?En:jn(e.calcOwnMatrix()),!0).add(c);return{result:s,prevCenter:o,nextCenter:a,offset:u}}commitLayout(t,e){let{target:n}=t,{result:{size:r},nextCenter:s}=e;var o,a;n.set({width:r.x,height:r.y}),this.layoutObjects(t,e),t.type===Lr?n.set({left:(o=t.x)!==null&&o!==void 0?o:s.x+r.x*Ut(n.originX),top:(a=t.y)!==null&&a!==void 0?a:s.y+r.y*Ut(n.originY)}):(n.setPositionByOrigin(s,Ae,Ae),n.setCoords(),n.set("dirty",!0))}layoutObjects(t,e){let{target:n}=t;n.forEachObject(r=>{r.group===n&&this.layoutObject(t,e,r)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,n.clipPath)}layoutObject(t,e,n){let{offset:r}=e;n.set({left:n.left+r.x,top:n.top+r.y})}onAfterLayout(t,e){let{target:n,strategy:r,bubbles:s,prevStrategy:o}=t,a=_t(t,UB),{canvas:l}=n;n.fire("layout:after",{context:t,result:e}),l&&l.fire("object:layout:after",{context:t,result:e,target:n});let c=n.parent;s&&c!=null&&c.layoutManager&&((a.path||(a.path=[])).push(n),c.layoutManager.performLayout(S(S({},a),{},{target:c}))),n.set("dirty",!0)}dispose(){let{_subscriptions:t}=this;t.forEach(e=>e.forEach(n=>n())),t.clear()}toObject(){return{type:cD,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}};ee.setClass(No,cD);var zB=["type","objects","layoutManager"],a_=class extends No{performLayout(){}},Sn=class i extends yT(kt){static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),x(this,"_activeObjects",[]),x(this,"__objectSelectionTracker",void 0),x(this,"__objectSelectionDisposer",void 0),Object.assign(this,i.ownDefaults),this.setOptions(e),this.groupInit(t,e)}groupInit(t,e){var n;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(r=>{this.enterGroup(r,!1)}),this.layoutManager=(n=e.layoutManager)!==null&&n!==void 0?n:new No,this.layoutManager.performLayout({type:Lr,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(jr("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(jr("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((e,n,r)=>this.canEnterGroup(e)&&r.indexOf(e)===n)}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let r=this._filterObjectsBeforeEnteringGroup(e),s=super.add(...r);return this._onAfterObjectsChange(kp,r),s}insertAt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let s=this._filterObjectsBeforeEnteringGroup(n),o=super.insertAt(t,...s);return this._onAfterObjectsChange(kp,s),o}remove(){let t=super.remove(...arguments);return this._onAfterObjectsChange(z_,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,e){let n=this[t];return super._set(t,e),t==="canvas"&&n!==e&&(this._objects||[]).forEach(r=>{r._set(t,e)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:n}=e,r=this._activeObjects;if(t)r.push(n),this._set("dirty",!0);else if(r.length>0){let s=r.indexOf(n);s>-1&&(r.splice(s,1),this._set("dirty",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on("selected",this.__objectSelectionTracker),e.on("deselected",this.__objectSelectionDisposer)):(e.off("selected",this.__objectSelectionTracker),e.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&rl(t,St(jn(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);let n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===t||t.isDescendantOf(n))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,e){t._set("group",void 0),e||(rl(t,St(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);let n=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){let t=kt.prototype.shouldCache.call(this);if(t){for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t){this._renderBackground(t);for(let n=0;n<this._objects.length;n++){var e;(e=this.canvas)!==null&&e!==void 0&&e.preserveObjectStacking&&this._objects[n].group!==this?(t.save(),t.transform(...jn(this.calcTransformMatrix())),this._objects[n].render(t),t.restore()):this._objects[n].group===this&&this._objects[n].render(t)}this._drawClipPath(t,this.clipPath)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(S({target:this,type:Pp},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){let n=this.includeDefaultValues;return this._objects.filter(function(r){return!r.excludeFromExport}).map(function(r){let s=r.includeDefaultValues;r.includeDefaultValues=n;let o=r[t||"toObject"](e);return r.includeDefaultValues=s,o})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.layoutManager.toObject();return S(S(S({},super.toObject(["subTargetCheck","interactive",...t])),e.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";let e=gi.prototype._toSVG.call(this),n=e.indexOf("COMMON_PARTS");e[n]='for="group" ';let r=e.join("");return t?t(r):r}_toSVG(t){let e=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(t);n&&e.push("		",n);for(let r=0;r<this._objects.length;r++)e.push("		",this._objects[r].toSVG(t));return e.push(`</g>
`),e}getSvgStyles(){let t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")}toClipPathSVG(t){let e=[],n=this._createSVGBgRect(t);n&&e.push("	",n);for(let r=0;r<this._objects.length;r++)e.push("	",this._objects[r].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:n,objects:r=[],layoutManager:s}=t,o=_t(t,zB);return Promise.all([il(r,e),Zc(o,e)]).then(a=>{let[l,c]=a,u=new this(l,S(S(S({},o),c),{},{layoutManager:new a_}));if(s){let d=ee.getClass(s.type),h=ee.getClass(s.strategy);u.layoutManager=new d(new h)}else u.layoutManager=new No;return u.layoutManager.subscribeTargets({type:Lr,target:u,targets:u.getObjects()}),u.setCoords(),u})}};x(Sn,"type","Group"),x(Sn,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),ee.setClass(Sn);var uD=(i,t)=>Math.min(t.width/i.width,t.height/i.height),dD=(i,t)=>Math.max(t.width/i.width,t.height/i.height),l_="\\s*,?\\s*",Fc="".concat(l_,"(").concat(Oi,")"),$B="".concat(Fc).concat(Fc).concat(Fc).concat(l_,"([01])").concat(l_,"([01])").concat(Fc).concat(Fc),GB={m:"l",M:"L"},WB=(i,t,e,n,r,s,o,a,l,c,u)=>{let d=Fi(i),h=Ri(i),p=Fi(t),f=Ri(t),y=e*r*p-n*s*f+o,_=n*r*p+e*s*f+a;return["C",c+l*(-e*r*h-n*s*d),u+l*(-n*r*h+e*s*d),y+l*(e*r*f+n*s*p),_+l*(n*r*f-e*s*p),y,_]},rT=(i,t,e,n)=>{let r=Math.atan2(t,i),s=Math.atan2(n,e);return s>=r?s-r:2*Math.PI-(r-s)};function c_(i,t,e,n,r,s,o,a){let l;if(qe.cachesBoundsOfCurve&&(l=[...arguments].join(),Nc.boundsOfCurveCache[l]))return Nc.boundsOfCurveCache[l];let c=Math.sqrt,u=Math.abs,d=[],h=[[0,0],[0,0]],p=6*i-12*e+6*r,f=-3*i+9*e-9*r+3*o,y=3*e-3*i;for(let F=0;F<2;++F){if(F>0&&(p=6*t-12*n+6*s,f=-3*t+9*n-9*s+3*a,y=3*n-3*t),u(f)<1e-12){if(u(p)<1e-12)continue;let Ne=-y/p;0<Ne&&Ne<1&&d.push(Ne);continue}let $=p*p-4*y*f;if($<0)continue;let G=c($),Z=(-p+G)/(2*f);0<Z&&Z<1&&d.push(Z);let q=(-p-G)/(2*f);0<q&&q<1&&d.push(q)}let _=d.length,b=_,T=pD(i,t,e,n,r,s,o,a);for(;_--;){let{x:F,y:$}=T(d[_]);h[0][_]=F,h[1][_]=$}h[0][b]=i,h[1][b]=t,h[0][b+1]=o,h[1][b+1]=a;let R=[new P(Math.min(...h[0]),Math.min(...h[1])),new P(Math.max(...h[0]),Math.max(...h[1]))];return qe.cachesBoundsOfCurve&&(Nc.boundsOfCurveCache[l]=R),R}var qB=(i,t,e)=>{let[n,r,s,o,a,l,c,u]=e,d=((h,p,f,y,_,b,T)=>{if(f===0||y===0)return[];let R=0,F=0,$=0,G=Math.PI,Z=T*x_,q=Ri(Z),Ne=Fi(Z),Ye=.5*(-Ne*h-q*p),He=.5*(-Ne*p+q*h),Ue=f**2,Be=y**2,Ze=He**2,Wt=Ye**2,W=Ue*Be-Ue*Ze-Be*Wt,te=Math.abs(f),K=Math.abs(y);if(W<0){let Hn=Math.sqrt(1-W/(Ue*Be));te*=Hn,K*=Hn}else $=(_===b?-1:1)*Math.sqrt(W/(Ue*Ze+Be*Wt));let Se=$*te*He/K,ht=-$*K*Ye/te,dn=Ne*Se-q*ht+.5*h,Qt=q*Se+Ne*ht+.5*p,Dn=rT(1,0,(Ye-Se)/te,(He-ht)/K),Je=rT((Ye-Se)/te,(He-ht)/K,(-Ye-Se)/te,(-He-ht)/K);b===0&&Je>0?Je-=2*G:b===1&&Je<0&&(Je+=2*G);let Ps=Math.ceil(Math.abs(Je/G*2)),pr=[],Et=Je/Ps,fr=8/3*Math.sin(Et/4)*Math.sin(Et/4)/Math.sin(Et/2),en=Dn+Et;for(let Hn=0;Hn<Ps;Hn++)pr[Hn]=WB(Dn,en,Ne,q,te,K,dn,Qt,fr,R,F),R=pr[Hn][5],F=pr[Hn][6],Dn=en,en+=Et;return pr})(c-i,u-t,r,s,a,l,o);for(let h=0,p=d.length;h<p;h++)d[h][1]+=i,d[h][2]+=t,d[h][3]+=i,d[h][4]+=t,d[h][5]+=i,d[h][6]+=t;return d},hD=i=>{let t=0,e=0,n=0,r=0,s=[],o,a=0,l=0;for(let c of i){let u=[...c],d;switch(u[0]){case"l":u[1]+=t,u[2]+=e;case"L":t=u[1],e=u[2],d=["L",t,e];break;case"h":u[1]+=t;case"H":t=u[1],d=["L",t,e];break;case"v":u[1]+=e;case"V":e=u[1],d=["L",t,e];break;case"m":u[1]+=t,u[2]+=e;case"M":t=u[1],e=u[2],n=u[1],r=u[2],d=["M",t,e];break;case"c":u[1]+=t,u[2]+=e,u[3]+=t,u[4]+=e,u[5]+=t,u[6]+=e;case"C":a=u[3],l=u[4],t=u[5],e=u[6],d=["C",u[1],u[2],a,l,t,e];break;case"s":u[1]+=t,u[2]+=e,u[3]+=t,u[4]+=e;case"S":o==="C"?(a=2*t-a,l=2*e-l):(a=t,l=e),t=u[3],e=u[4],d=["C",a,l,u[1],u[2],t,e],a=d[3],l=d[4];break;case"q":u[1]+=t,u[2]+=e,u[3]+=t,u[4]+=e;case"Q":a=u[1],l=u[2],t=u[3],e=u[4],d=["Q",a,l,t,e];break;case"t":u[1]+=t,u[2]+=e;case"T":o==="Q"?(a=2*t-a,l=2*e-l):(a=t,l=e),t=u[1],e=u[2],d=["Q",a,l,t,e];break;case"a":u[6]+=t,u[7]+=e;case"A":qB(t,e,u).forEach(h=>s.push(h)),t=u[6],e=u[7];break;case"z":case"Z":t=n,e=r,d=["Z"]}d?(s.push(d),o=d[0]):o=""}return s},Fp=(i,t,e,n)=>Math.sqrt((e-i)**2+(n-t)**2),pD=(i,t,e,n,r,s,o,a)=>l=>{let c=l**3,u=(p=>3*p**2*(1-p))(l),d=(p=>3*p*(1-p)**2)(l),h=(p=>(1-p)**3)(l);return new P(o*c+r*u+e*d+i*h,a*c+s*u+n*d+t*h)},fD=i=>i**2,gD=i=>2*i*(1-i),mD=i=>(1-i)**2,YB=(i,t,e,n,r,s,o,a)=>l=>{let c=fD(l),u=gD(l),d=mD(l),h=3*(d*(e-i)+u*(r-e)+c*(o-r)),p=3*(d*(n-t)+u*(s-n)+c*(a-s));return Math.atan2(p,h)},KB=(i,t,e,n,r,s)=>o=>{let a=fD(o),l=gD(o),c=mD(o);return new P(r*a+e*l+i*c,s*a+n*l+t*c)},XB=(i,t,e,n,r,s)=>o=>{let a=1-o,l=2*(a*(e-i)+o*(r-e)),c=2*(a*(n-t)+o*(s-n));return Math.atan2(c,l)},sT=(i,t,e)=>{let n=new P(t,e),r=0;for(let s=1;s<=100;s+=1){let o=i(s/100);r+=Fp(n.x,n.y,o.x,o.y),n=o}return r},QB=(i,t)=>{let e,n=0,r=0,s={x:i.x,y:i.y},o=S({},s),a=.01,l=0,c=i.iterator,u=i.angleFinder;for(;r<t&&a>1e-4;)o=c(n),l=n,e=Fp(s.x,s.y,o.x,o.y),e+r>t?(n-=a,a/=2):(s=o,n+=a,r+=e);return S(S({},o),{},{angle:u(l)})},$_=i=>{let t,e,n=0,r=0,s=0,o=0,a=0,l=[];for(let c of i){let u={x:r,y:s,command:c[0],length:0};switch(c[0]){case"M":e=u,e.x=o=r=c[1],e.y=a=s=c[2];break;case"L":e=u,e.length=Fp(r,s,c[1],c[2]),r=c[1],s=c[2];break;case"C":t=pD(r,s,c[1],c[2],c[3],c[4],c[5],c[6]),e=u,e.iterator=t,e.angleFinder=YB(r,s,c[1],c[2],c[3],c[4],c[5],c[6]),e.length=sT(t,r,s),r=c[5],s=c[6];break;case"Q":t=KB(r,s,c[1],c[2],c[3],c[4]),e=u,e.iterator=t,e.angleFinder=XB(r,s,c[1],c[2],c[3],c[4]),e.length=sT(t,r,s),r=c[3],s=c[4];break;case"Z":e=u,e.destX=o,e.destY=a,e.length=Fp(r,s,o,a),r=o,s=a}n+=e.length,l.push(e)}return l.push({length:n,x:r,y:s}),l},vD=function(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$_(i),n=0;for(;t-e[n].length>0&&n<e.length-2;)t-=e[n].length,n++;let r=e[n],s=t/r.length,o=i[n];switch(r.command){case"M":return{x:r.x,y:r.y,angle:0};case"Z":return S(S({},new P(r.x,r.y).lerp(new P(r.destX,r.destY),s)),{},{angle:Math.atan2(r.destY-r.y,r.destX-r.x)});case"L":return S(S({},new P(r.x,r.y).lerp(new P(o[1],o[2]),s)),{},{angle:Math.atan2(o[2]-r.y,o[1]-r.x)});case"C":case"Q":return QB(r,t)}},ZB=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),oT=new RegExp($B,"g"),JB=new RegExp(Oi,"gi"),eH={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},yD=i=>{var t;let e=[],n=(t=i.match(ZB))!==null&&t!==void 0?t:[];for(let r of n){let s=r[0];if(s==="z"||s==="Z"){e.push([s]);continue}let o=eH[s.toLowerCase()],a=[];if(s==="a"||s==="A"){oT.lastIndex=0;for(let l=null;l=oT.exec(r);)a.push(...l.slice(1))}else a=r.match(JB)||[];for(let l=0;l<a.length;l+=o){let c=new Array(o),u=GB[s];c[0]=l>0&&u?u:s;for(let d=0;d<o;d++)c[d+1]=parseFloat(a[l+d]);e.push(c)}}return e},_D=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=new P(i[0]),n=new P(i[1]),r=1,s=0,o=[],a=i.length,l=a>2,c;for(l&&(r=i[2].x<n.x?-1:i[2].x===n.x?0:1,s=i[2].y<n.y?-1:i[2].y===n.y?0:1),o.push(["M",e.x-r*t,e.y-s*t]),c=1;c<a;c++){if(!e.eq(n)){let u=e.midPointFrom(n);o.push(["Q",e.x,e.y,u.x,u.y])}e=i[c],c+1<i.length&&(n=i[c+1])}return l&&(r=e.x>i[c-2].x?1:e.x===i[c-2].x?0:-1,s=e.y>i[c-2].y?1:e.y===i[c-2].y?0:-1),o.push(["L",e.x+r*t,e.y+s*t]),o},G_=(i,t)=>i.map(e=>e.map((n,r)=>r===0||t===void 0?n:yt(n,t)).join(" ")).join(" ");function Rp(i,t){let e=i.style;e&&t&&(typeof t=="string"?e.cssText+=";"+t:Object.entries(t).forEach(n=>{let[r,s]=n;return e.setProperty(r,s)}))}var tH=(i,t)=>Math.floor(Math.random()*(t-i+1))+i;function nH(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.onComplete||ko,n=new(Xc()).XMLHttpRequest,r=t.signal,s=function(){n.abort()},o=function(){r&&r.removeEventListener("abort",s),n.onerror=n.ontimeout=ko};if(r&&r.aborted)throw new Uc("request");return r&&r.addEventListener("abort",s,{once:!0}),n.onreadystatechange=function(){n.readyState===4&&(o(),e(n),n.onreadystatechange=ko)},n.onerror=n.ontimeout=o,n.open("get",i,!0),n.send(),n}var fp=(i,t)=>{let e=i._findCenterFromElement();i.transformMatrix&&((n=>{if(n.transformMatrix){let{scaleX:r,scaleY:s,angle:o,skewX:a}=Ro(n.transformMatrix);n.flipX=!1,n.flipY=!1,n.set(Tn,r),n.set(ti,s),n.angle=o,n.skewX=a,n.skewY=0}})(i),e=e.transform(i.transformMatrix)),delete i.transformMatrix,t&&(i.scaleX*=t.scaleX,i.scaleY*=t.scaleY,i.cropX=t.cropX,i.cropY=t.cropY,e.x+=t.offsetLeft,e.y+=t.offsetTop,i.width=t.width,i.height=t.height),i.setPositionByOrigin(e,Ae,Ae)},bD=Object.freeze({__proto__:null,addTransformToObject:OT,animate:V_,animateColor:BT,applyTransformToObject:rl,calcAngleBetweenVectors:Ep,calcDimensionsMatrix:Qc,calcPlaneChangeMatrix:Jc,calcVectorRotation:NT,cancelAnimFrame:_T,capValue:Lo,composeMatrix:IT,copyCanvasElement:i=>{var t;let e=Vt();return e.width=i.width,e.height=i.height,(t=e.getContext("2d"))===null||t===void 0||t.drawImage(i,0,0),e},cos:Fi,createCanvasElement:Vt,createImage:bT,createRotateMatrix:dl,createScaleMatrix:Yp,createSkewXMatrix:M_,createSkewYMatrix:O_,createTranslateMatrix:ul,createVector:Ip,crossProduct:tl,degreesToRadians:At,dotProduct:VT,ease:aB,enlivenObjectEnlivables:Zc,enlivenObjects:il,findScaleToCover:dD,findScaleToFit:uD,getBoundsOfCurve:c_,getOrthonormalVector:N_,getPathSegmentsInfo:$_,getPointOnPath:vD,getPointer:MT,getRandomInt:tH,getRegularPolygonPath:(i,t)=>{let e=2*Math.PI/i,n=-Es;i%2==0&&(n+=e/2);let r=new Array(i+1);for(let s=0;s<i;s++){let o=s*e+n,{x:a,y:l}=new P(Fi(o),Ri(o)).scalarMultiply(t);r[s]=[s===0?"M":"L",a,l]}return r[i]=["Z"],r},getSmoothPathFromPoints:_D,getSvgAttributes:i=>{let t=["instantiated_by_use","style","id","class"];switch(i){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:Zp,groupSVGElements:(i,t)=>i&&i.length===1?i[0]:new Sn(i,t),hasStyleChanged:tf,invertTransform:jn,isBetweenVectors:Qy,isIdentityMatrix:CT,isTouchEvent:Cp,isTransparent:nD,joinPath:G_,loadImage:jc,magnitude:Sp,makeBoundingBoxFromPoints:dr,makePathSimpler:hD,matrixToSVG:$c,mergeClipPaths:(i,t)=>{var e;let n=i,r=t;n.inverted&&!r.inverted&&(n=t,r=i),Ky(r,(e=r.group)===null||e===void 0?void 0:e.calcTransformMatrix(),n.calcTransformMatrix());let s=n.inverted&&r.inverted;return s&&(n.inverted=r.inverted=!1),new Sn([n],{clipPath:r,inverted:s})},multiplyTransformMatrices:St,multiplyTransformMatrixArray:qp,parsePath:yD,parsePreserveAspectRatioAttribute:k_,parseUnit:Cn,pick:Vo,projectStrokeOnPoints:iD,qrDecompose:Ro,radiansToDegrees:Ds,removeFromArray:po,removeTransformFromObject:(i,t)=>{let e=jn(t),n=St(e,i.calcOwnMatrix());rl(i,n)},removeTransformMatrixForSvgParsing:fp,request:nH,requestAnimFrame:Vc,resetObjectTransform:AT,rotatePoint:(i,t,e)=>i.rotate(e,t),rotateVector:L_,saveObjectTransform:P_,sendObjectToPlane:Ky,sendPointToPlane:Vr,sendVectorToPlane:kT,setStyle:Rp,sin:Ri,sizeAfterTransform:Kp,string:bB,stylesFromArray:oD,stylesToArray:sD,toDataURL:D_,toFixed:yt,transformPath:(i,t,e)=>(e&&(t=St(t,[1,0,0,1,-e.x,-e.y])),i.map(n=>{let r=[...n];for(let s=1;s<n.length-1;s+=2){let{x:o,y:a}=cn({x:n[s],y:n[s+1]},t);r[s]=o,r[s+1]=a}return r})),transformPoint:cn}),u_=class extends bp{constructor(t){let{allowTouchScrolling:e=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),x(this,"upper",void 0),x(this,"container",void 0);let{el:r}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(r,{allowTouchScrolling:e}),this.applyCanvasStyle(s,{allowTouchScrolling:e,styles:{position:"absolute",left:"0",top:"0"}});let o=this.createContainerElement();o.classList.add(n),r.parentNode&&r.parentNode.replaceChild(o,r),o.append(r,s),this.container=o}createUpperCanvas(){let{el:t}=this.lower,e=Vt();return e.className=t.className,e.classList.remove("lower-canvas"),e.classList.add("upper-canvas"),e.setAttribute("data-fabric","top"),e.style.cssText=t.style.cssText,e.setAttribute("draggable","true"),e}createContainerElement(){let t=al().createElement("div");return t.setAttribute("data-fabric","wrapper"),Rp(t,{position:"relative"}),HE(t),t}applyCanvasStyle(t,e){let{styles:n,allowTouchScrolling:r}=e;Rp(t,S(S({},n),{},{"touch-action":r?"manipulation":xn})),HE(t)}setDimensions(t,e){super.setDimensions(t,e);let{el:n,ctx:r}=this.upper;DT(n,r,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),qy(this.upper.el,t),qy(this.container,t)}cleanupDOM(t){let e=this.container,{el:n}=this.lower,{el:r}=this.upper;super.cleanupDOM(t),e.removeChild(r),e.removeChild(n),e.parentNode&&e.parentNode.replaceChild(n,e)}dispose(){super.dispose(),hr().dispose(this.upper.el),delete this.upper,delete this.container}},Lp=class i extends Wc{constructor(){super(...arguments),x(this,"targets",[]),x(this,"_hoveredTargets",[]),x(this,"_objectsToRender",void 0),x(this,"_currentTransform",null),x(this,"_groupSelector",null),x(this,"contextTopDirty",!1)}static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new u_(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(e=>!e.group&&e!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){let t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;let e=this.getRetinaScaling(),n=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,n){let r=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-e+r,-n+r),s.transform(...this.viewportTransform);let o=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(s),t.selectionBackgroundColor=o,s.restore();let a=Math.round(r*this.getRetinaScaling());return nD(s,a,a,a)}_isSelectionKeyPressed(t){let e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find(n=>!!n&&t[n]===!0):t[e])}_shouldClearSelection(t,e){let n=this.getActiveObjects(),r=this._activeObject;return!!(!e||e&&r&&n.length>1&&n.indexOf(e)===-1&&r!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&r&&r!==e)}_shouldCenterTransform(t,e,n){if(!t)return;let r;return e===Wp||e===Tn||e===ti||e===zc?r=this.centeredScaling||t.centeredScaling:e===E_&&(r=this.centeredRotation||t.centeredRotation),r?!n:n}_getOriginFromCorner(t,e){let n={x:t.originX,y:t.originY};return e&&(["ml","tl","bl"].includes(e)?n.x=Lt:["mr","tr","br"].includes(e)&&(n.x=dt),["tl","mt","tr"].includes(e)?n.y=Gy:["bl","mb","br"].includes(e)&&(n.y=Bn)),n}_setupCurrentTransform(t,e,n){var r;let s=e.group?Vr(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:o="",control:a}=e.getActiveControl()||{},l=n&&a?(r=a.getActionHandler(t,e,a))===null||r===void 0?void 0:r.bind(a):RT,c=((p,f,y,_)=>{if(!f||!p)return"drag";let b=_.controls[f];return b.getActionName(y,b,_)})(n,o,t,e),u=t[this.centeredKey],d=this._shouldCenterTransform(e,c,u)?{x:Ae,y:Ae}:this._getOriginFromCorner(e,o),h={target:e,action:c,actionHandler:l,actionPerformed:!1,corner:o,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:s.x-e.left,offsetY:s.y-e.top,originX:d.x,originY:d.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:At(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:u,original:S(S({},P_(e)),{},{originX:d.x,originY:d.y})};this._currentTransform=h,this.fire("before:transform",{e:t,transform:h})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){let{x:e,y:n,deltaX:r,deltaY:s}=this._groupSelector,o=new P(e,n).transform(this.viewportTransform),a=new P(e+r,n+s).transform(this.viewportTransform),l=this.selectionLineWidth/2,c=Math.min(o.x,a.x),u=Math.min(o.y,a.y),d=Math.max(o.x,a.x),h=Math.max(o.y,a.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(c,u,d-c,h-u)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,c+=l,u+=l,d-=l,h-=l,kt.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(c,u,d-c,h-u))}findTarget(t){if(this.skipTargetFind)return;let e=this.getViewportPoint(t),n=this._activeObject,r=this.getActiveObjects();if(this.targets=[],n&&r.length>=1){if(n.findControl(e,Cp(t))||r.length>1&&this.searchPossibleTargets([n],e))return n;if(n===this.searchPossibleTargets([n],e)){if(this.preserveObjectStacking){let s=this.targets;this.targets=[];let o=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&o&&o!==n?(this.targets=s,n):o}return n}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let n=t.getCoords(),r=this.getZoom(),s=t.padding/r;if(s){let[o,a,l,c]=n,u=Math.atan2(a.y-o.y,a.x-o.x),d=Fi(u)*s,h=Ri(u)*s,p=d+h,f=d-h;n=[new P(o.x-f,o.y-p),new P(a.x+p,a.y-f),new P(l.x+f,l.y+p),new P(c.x-p,c.y+f)]}return Po.isPointInPolygon(e,n)}_checkTarget(t,e){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,Vr(e,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,e.x,e.y)))}_searchPossibleTargets(t,e){let n=t.length;for(;n--;){let r=t[n];if(this._checkTarget(r,e)){if(hp(r)&&r.subTargetCheck){let s=this._searchPossibleTargets(r._objects,e);s&&this.targets.push(s)}return r}}}searchPossibleTargets(t,e){let n=this._searchPossibleTargets(t,e);if(n&&hp(n)&&n.interactive&&this.targets[0]){let r=this.targets;for(let s=r.length-1;s>0;s--){let o=r[s];if(!hp(o)||!o.interactive)return o}return r[0]}return n}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.upperCanvasEl,r=n.getBoundingClientRect(),s=MT(t),o=r.width||0,a=r.height||0;o&&a||(Bn in r&&Gy in r&&(a=Math.abs(r.top-r.bottom)),Lt in r&&dt in r&&(o=Math.abs(r.right-r.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,e||(s=Vr(s,void 0,this.viewportTransform));let l=this.getRetinaScaling();l!==1&&(s.x/=l,s.y/=l);let c=o===0||a===0?new P(1,1):new P(n.width/o,n.height/a);return s.multiply(c)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Vt(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){let t=this._activeObject;return fo(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let n=!1,r=!1,s=this.getActiveObjects(),o=[],a=[];t.forEach(l=>{s.includes(l)||(n=!0,l.fire("deselected",{e,target:l}),a.push(l))}),s.forEach(l=>{t.includes(l)||(n=!0,l.fire("selected",{e,target:l}),o.push(l))}),t.length>0&&s.length>0?(r=!0,n&&this.fire("selection:updated",{e,selected:o,deselected:a})):s.length>0?(r=!0,this.fire("selection:created",{e,selected:o})):t.length>0&&(r=!0,this.fire("selection:cleared",{e,deselected:a})),r&&(this._objectsToRender=void 0)}setActiveObject(t,e){let n=this.getActiveObjects(),r=this._setActiveObject(t,e);return this._fireSelectionEvents(n,e),r}_setActiveObject(t,e){let n=this._activeObject;return n!==t&&!(!this._discardActiveObject(e,t)&&this._activeObject)&&!t.onSelect({e})&&(this._activeObject=t,fo(t)&&n!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,e){let n=this._activeObject;return!!n&&!n.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(t),fo(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){let e=this.getActiveObjects(),n=this.getActiveObject();e.length&&this.fire("before:selection:cleared",{e:t,deselected:[n]});let r=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),r}endCurrentTransform(t){let e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){let e=this._currentTransform,n=e.target,r={e:t,target:n,transform:e,action:e.action};n._scaling&&(n._scaling=!1),n.setCoords(),e.actionPerformed&&(this.fire("object:modified",r),n.fire(vp,r))}setViewportTransform(t){super.setViewportTransform(t);let e=this._activeObject;e&&e.setCoords()}destroy(){let t=this._activeObject;fo(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){let e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,n){let r=this._realizeGroupTransformOnObject(t),s=super._toObject(t,e,n);return t.set(r),s}_realizeGroupTransformOnObject(t){let{group:e}=t;if(e&&fo(e)&&this._activeObject===e){let n=Vo(t,["angle","flipX","flipY",dt,Tn,ti,ll,cl,Bn]);return OT(t,e.calcOwnMatrix()),n}return{}}_setSVGObject(t,e,n){let r=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,n),e.set(r)}};x(Lp,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});var d_=class{constructor(t){x(this,"targets",[]),x(this,"__disposer",void 0);let e=()=>{let{hiddenTextarea:r}=t.getActiveObject()||{};r&&r.focus()},n=t.upperCanvasEl;n.addEventListener("click",e),this.__disposer=()=>n.removeEventListener("click",e)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),po(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;!((e=this.target)===null||e===void 0)&&e.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}},iH=["target","oldTarget","fireCanvas","e"],Jn={passive:!1},Xa=(i,t)=>{let e=i.getViewportPoint(t),n=i.getScenePoint(t);return{viewportPoint:e,scenePoint:n,pointer:e,absolutePointer:n}},Cs=function(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return i.addEventListener(...e)},pi=function(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return i.removeEventListener(...e)},rH={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}},ol=class extends Lp{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),x(this,"_isClick",void 0),x(this,"textEditingManager",new d_(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(Cs,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,e){let n=this.upperCanvasEl,r=this._getEventPrefix();t(TT(n),"resize",this._onResize),t(n,r+"down",this._onMouseDown),t(n,"".concat(r,"move"),this._onMouseMove,Jn),t(n,"".concat(r,"out"),this._onMouseOut),t(n,"".concat(r,"enter"),this._onMouseEnter),t(n,"wheel",this._onMouseWheel),t(n,"contextmenu",this._onContextMenu),t(n,"dblclick",this._onDoubleClick),t(n,"dragstart",this._onDragStart),t(n,"dragend",this._onDragEnd),t(n,"dragover",this._onDragOver),t(n,"dragenter",this._onDragEnter),t(n,"dragleave",this._onDragLeave),t(n,"drop",this._onDrop),this.enablePointerEvents||t(n,"touchstart",this._onTouchStart,Jn)}removeListeners(){this.addOrRemove(pi,"remove");let t=this._getEventPrefix(),e=Mi(this.upperCanvasEl);pi(e,"".concat(t,"up"),this._onMouseUp),pi(e,"touchend",this._onTouchEnd,Jn),pi(e,"".concat(t,"move"),this._onMouseMove,Jn),pi(e,"touchmove",this._onMouseMove,Jn)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){let e=this._hoveredTarget,n=S({e:t},Xa(this,t));this.fire("mouse:out",S(S({},n),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire("mouseout",S({},n)),this._hoveredTargets.forEach(r=>{this.fire("mouse:out",S(S({},n),{},{target:r})),r&&r.fire("mouseout",S({},n))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",S({e:t},Xa(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;let e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;let n={e:t,target:e};return this.fire("dragstart",n),e.fire("dragstart",n),void Cs(this.upperCanvasEl,"drag",this._onDragProgress)}Yy(t)}_renderDragEffects(t,e,n){let r=!1,s=this._dropTarget;s&&s!==e&&s!==n&&(s.clearContextTop(),r=!0),e?.clearContextTop(),n!==e&&n?.clearContextTop();let o=this.contextTop;o.save(),o.transform(...this.viewportTransform),e&&(o.save(),e.transform(o),e.renderDragSourceEffect(t),o.restore(),r=!0),n&&(o.save(),n.transform(o),n.renderDropTargetEffect(t),o.restore(),r=!0),o.restore(),r&&(this.contextTopDirty=!0)}_onDragEnd(t){let e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==xn,n=e?this._activeObject:void 0,r={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:n};pi(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",r),this._dragSource&&this._dragSource.fire("dragend",r),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){let e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",e),this._dragSource&&this._dragSource.fire("drag",e)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){let e="dragover",{target:n,targets:r}=this.findDragTargets(t),s=this._dragSource,o={e:t,target:n,subTargets:r,dragSource:s,canDrop:!1,dropTarget:void 0},a;this.fire(e,o),this._fireEnterLeaveEvents(n,o),n&&(n.canDrop(t)&&(a=n),n.fire(e,o));for(let l=0;l<r.length;l++){let c=r[l];c.canDrop(t)&&(a=c),c.fire(e,o)}this._renderDragEffects(t,s,a),this._dropTarget=a}_onDragEnter(t){let{target:e,targets:n}=this.findDragTargets(t),r={e:t,target:e,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",r),this._fireEnterLeaveEvents(e,r)}_onDragLeave(t){let e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){let{target:e,targets:n}=this.findDragTargets(t),r=this._basicEventHandler("drop:before",S({e:t,target:e,subTargets:n,dragSource:this._dragSource},Xa(this,t)));r.didDrop=!1,r.dropTarget=void 0,this._basicEventHandler("drop",r),this.fire("drop:after",r)}_onContextMenu(t){let e=this.findTarget(t),n=this.targets||[],r=this._basicEventHandler("contextmenu:before",{e:t,target:e,subTargets:n});return this.stopContextMenu&&Yy(t),this._basicEventHandler("contextmenu",r),!1}_onDoubleClick(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData()}getPointerId(t){let e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){t.preventDefault(),this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),this._resetTransformEventData();let e=this.upperCanvasEl,n=this._getEventPrefix(),r=Mi(e);Cs(r,"touchend",this._onTouchEnd,Jn),Cs(r,"touchmove",this._onMouseMove,Jn),pi(e,"".concat(n,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();let e=this.upperCanvasEl,n=this._getEventPrefix();pi(e,"".concat(n,"move"),this._onMouseMove,Jn);let r=Mi(e);Cs(r,"".concat(n,"up"),this._onMouseUp),Cs(r,"".concat(n,"move"),this._onMouseMove,Jn)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;let e=this._getEventPrefix(),n=Mi(this.upperCanvasEl);pi(n,"touchend",this._onTouchEnd,Jn),pi(n,"touchmove",this._onMouseMove,Jn),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Cs(this.upperCanvasEl,"".concat(e,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();let e=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(t)){let r=Mi(this.upperCanvasEl);pi(r,"".concat(n,"up"),this._onMouseUp),pi(r,"".concat(n,"move"),this._onMouseMove,Jn),Cs(e,"".concat(n,"move"),this._onMouseMove,Jn)}}_onMouseMove(t){let e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){let e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");let n=this._currentTransform,r=this._isClick,s=this._target,{button:o}=t;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let a,l,c=!1;if(n&&(this._finalizeCurrentTransform(t),c=n.actionPerformed),!r){let u=s===this._activeObject;this.handleSelection(t),c||(c=this._shouldRender(s)||!u&&s===this._activeObject)}if(s){let u=s.findControl(this.getViewportPoint(t),Cp(t)),{key:d,control:h}=u||{};if(l=d,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,t),c=!0;else if(h){let p=h.getMouseUpHandler(t,s,h);p&&(a=this.getScenePoint(t),p.call(h,t,n,a.x,a.y))}s.isMoving=!1}if(n&&(n.target!==s||n.corner!==l)){let u=n.target&&n.target.controls[n.corner],d=u&&u.getMouseUpHandler(t,n.target,u);a=a||this.getScenePoint(t),d&&d.call(u,t,n,a.x,a.y)}this._setCursorFromEvent(t,s),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),c?this.requestRenderAll():r||(e=this._activeObject)!==null&&e!==void 0&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){let{target:n,subTargets:r=[]}=e;this.fire(t,e),n&&n.fire(t,e);for(let s=0;s<r.length;s++)r[s]!==n&&r[s].fire(t,e);return e}_handleEvent(t,e){let n=this._target,r=this.targets||[],s=S(S({e:t,target:n,subTargets:r},Xa(this,t)),{},{transform:this._currentTransform},e==="up:before"||e==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(e),s),n&&n.fire("mouse".concat(e),s);for(let o=0;o<r.length;o++)r[o]!==n&&r[o].fire("mouse".concat(e),s)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());let e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){let e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){let e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let e=this._target,{button:n}=t;if(n)return(this.fireMiddleClick&&n===1||this.fireRightClick&&n===2)&&this._handleEvent(t,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let r=this._shouldRender(e),s=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,s=!0,r=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){let o=this.getScenePoint(t);this._groupSelector={x:o.x,y:o.y,deltaY:0,deltaX:0}}if(e){let o=e===this._activeObject;e.selectable&&e.activeOn==="down"&&this.setActiveObject(e,t);let a=e.findControl(this.getViewportPoint(t),Cp(t));if(e===this._activeObject&&(a||!s)){this._setupCurrentTransform(t,e,o);let l=a?a.control:void 0,c=this.getScenePoint(t),u=l&&l.getMouseDownHandler(t,e,l);u&&u.call(l,t,this._currentTransform,c.x,c.y)}}r&&(this._objectsToRender=void 0),this._handleEvent(t,"down"),r&&this.requestRenderAll()}_resetTransformEventData(){this._target=void 0,this._pointer=void 0,this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=Vr(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;let e=this._groupSelector;if(e){let n=this.getScenePoint(t);e.deltaX=n.x-e.x,e.deltaY=n.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{let n=this.findTarget(t);this._setCursorFromEvent(t,n),this._fireOverOutEvents(t,n)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,e){let n=this._hoveredTarget,r=this._hoveredTargets,s=this.targets,o=Math.max(r.length,s.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:e,oldTarget:n,fireCanvas:!0});for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("mouse",{e:t,target:s[a],oldTarget:r[a]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){let n=this._draggedoverTarget,r=this._hoveredTargets,s=this.targets,o=Math.max(r.length,s.length);this.fireSyntheticInOutEvents("drag",S(S({},e),{},{target:t,oldTarget:n,fireCanvas:!0}));for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("drag",S(S({},e),{},{target:s[a],oldTarget:r[a]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:n,oldTarget:r,fireCanvas:s,e:o}=e,a=_t(e,iH),{targetIn:l,targetOut:c,canvasIn:u,canvasOut:d}=rH[t],h=r!==n;if(r&&h){let p=S(S({},a),{},{e:o,target:r,nextTarget:n},Xa(this,o));s&&this.fire(d,p),r.fire(c,p)}if(n&&h){let p=S(S({},a),{},{e:o,target:n,previousTarget:r},Xa(this,o));s&&this.fire(u,p),n.fire(l,p)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){let e=this.getScenePoint(t),n=this._currentTransform,r=n.target,s=r.group?Vr(e,void 0,r.group.calcTransformMatrix()):e;n.shiftKey=t.shiftKey,n.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,n,s),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,n){let{action:r,actionHandler:s,target:o}=e,a=!!s&&s(t,e,n.x,n.y);a&&o.setCoords(),r==="drag"&&a&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||a}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let n=e.hoverCursor||this.hoverCursor,r=fo(this._activeObject)?this._activeObject:null,s=(!r||e.group!==r)&&e.findControl(this.getViewportPoint(t));if(s){let o=s.control;this.setCursor(o.cursorStyleHandler(t,o,e))}else e.subTargetCheck&&this.targets.concat().reverse().map(o=>{n=o.hoverCursor||n}),this.setCursor(n)}handleMultiSelection(t,e){let n=this._activeObject,r=fo(n);if(n&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(n!==e||r)&&(r||!e.isDescendantOf(n)&&!n.isDescendantOf(e))&&!e.onSelect({e:t})&&!n.getActiveControl()){if(r){let s=n.getObjects();if(e===n){let o=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(s,o)||this.searchPossibleTargets(this._objects,o))||!e.selectable)return!1}e.group===n?(n.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),t)):(n.multiSelectAdd(e),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,t)}else{n.exitEditing&&n.exitEditing();let s=new(ee.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(n,e),this._hoveredTarget=s,this._setActiveObject(s,t),this._fireSelectionEvents([n],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;let{x:e,y:n,deltaX:r,deltaY:s}=this._groupSelector,o=new P(e,n),a=o.add(new P(r,s)),l=o.min(a),c=o.max(a).subtract(l),u=this.collectObjects({left:l.x,top:l.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),d=o.eq(a)?u[0]?[u[0]]:[]:u.length>1?u.filter(h=>!h.onSelect({e:t})).reverse():u;if(d.length===1)this.setActiveObject(d[0],t);else if(d.length>1){let h=ee.getClass("ActiveSelection");this.setActiveObject(new h(d,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}},CD={x1:0,y1:0,x2:0,y2:0},sH=S(S({},CD),{},{r1:0,r2:0}),Za=(i,t)=>isNaN(i)&&typeof t=="number"?t:i,oH=/^(\d+\.\d+)%|(\d+)%$/;function wD(i){return i&&oH.test(i)}function xD(i,t){let e=typeof i=="number"?i:typeof i=="string"?parseFloat(i)/(wD(i)?100:1):NaN;return Lo(0,Za(e,t),1)}var aH=/\s*;\s*/,lH=/\s*:\s*/;function cH(i,t){let e,n,r=i.getAttribute("style");if(r){let o=r.split(aH);o[o.length-1]===""&&o.pop();for(let a=o.length;a--;){let[l,c]=o[a].split(lH).map(u=>u.trim());l==="stop-color"?e=c:l==="stop-opacity"&&(n=c)}}let s=new un(e||i.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:xD(i.getAttribute("offset"),0),color:s.toRgb(),opacity:Za(parseFloat(n||i.getAttribute("stop-opacity")||""),1)*s.getAlpha()*t}}function uH(i,t){let e=[],n=i.getElementsByTagName("stop"),r=xD(t,1);for(let s=n.length;s--;)e.push(cH(n[s],r));return e}function ID(i){return i.nodeName==="linearGradient"||i.nodeName==="LINEARGRADIENT"?"linear":"radial"}function SD(i){return i.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Di(i,t){return i.getAttribute(t)}function dH(i,t){return function(e,n){let r,{width:s,height:o,gradientUnits:a}=n;return Object.keys(e).reduce((l,c)=>{let u=e[c];return u==="Infinity"?r=1:u==="-Infinity"?r=0:(r=typeof u=="string"?parseFloat(u):u,typeof u=="string"&&wD(u)&&(r*=.01,a==="pixels"&&(c!=="x1"&&c!=="x2"&&c!=="r2"||(r*=s),c!=="y1"&&c!=="y2"||(r*=o)))),l[c]=r,l},{})}(ID(i)==="linear"?function(e){return{x1:Di(e,"x1")||0,y1:Di(e,"y1")||0,x2:Di(e,"x2")||"100%",y2:Di(e,"y2")||0}}(i):function(e){return{x1:Di(e,"fx")||Di(e,"cx")||"50%",y1:Di(e,"fy")||Di(e,"cy")||"50%",r1:0,x2:Di(e,"cx")||"50%",y2:Di(e,"cy")||"50%",r2:Di(e,"r")||"50%"}}(i),S(S({},t),{},{gradientUnits:SD(i)}))}var mo=class{constructor(t){let{type:e="linear",gradientUnits:n="pixels",coords:r={},colorStops:s=[],offsetX:o=0,offsetY:a=0,gradientTransform:l,id:c}=t||{};Object.assign(this,{type:e,gradientUnits:n,coords:S(S({},e==="radial"?sH:CD),r),colorStops:s,offsetX:o,offsetY:a,gradientTransform:l,id:c?"".concat(c,"_").concat(Ts()):Ts()})}addColorStop(t){for(let e in t){let n=new un(t[e]);this.colorStops.push({offset:parseFloat(e),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(t){return S(S({},Vo(this,t)),{},{type:this.type,coords:S({},this.coords),colorStops:this.colorStops.map(e=>S({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=this.gradientTransform?this.gradientTransform.concat():En.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(d=>S({},d)).sort((d,h)=>d.offset-h.offset),a=-this.offsetX,l=-this.offsetY;var c;s==="objectBoundingBox"?(a/=t.width,l/=t.height):(a+=t.width/2,l+=t.height/2),(c=t)&&typeof c._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(a-=t.pathOffset.x,l-=t.pathOffset.y),r[4]-=a,r[5]-=l;let u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(e?e+" ":"").concat($c(r),'"'),""].join(" ");if(this.type==="linear"){let{x1:d,y1:h,x2:p,y2:f}=this.coords;n.push("<linearGradient ",u,' x1="',d,'" y1="',h,'" x2="',p,'" y2="',f,`">
`)}else if(this.type==="radial"){let{x1:d,y1:h,x2:p,y2:f,r1:y,r2:_}=this.coords,b=y>_;n.push("<radialGradient ",u,' cx="',b?d:p,'" cy="',b?h:f,'" r="',b?y:_,'" fx="',b?p:d,'" fy="',b?f:h,`">
`),b&&(o.reverse(),o.forEach(R=>{R.offset=1-R.offset}));let T=Math.min(y,_);if(T>0){let R=T/Math.max(y,_);o.forEach(F=>{F.offset+=R*(1-F.offset)})}}return o.forEach(d=>{let{color:h,offset:p,opacity:f}=d;n.push("<stop ",'offset="',100*p+"%",'" style="stop-color:',h,f!==void 0?";stop-opacity: "+f:";",`"/>
`)}),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(t){let{x1:e,y1:n,x2:r,y2:s,r1:o,r2:a}=this.coords,l=this.type==="linear"?t.createLinearGradient(e,n,r,s):t.createRadialGradient(e,n,o,r,s,a);return this.colorStops.forEach(c=>{let{color:u,opacity:d,offset:h}=c;l.addColorStop(h,d!==void 0?new un(u).setAlpha(d).toRgba():u)}),l}static fromObject(t){return rt(this,null,function*(){let{colorStops:e,gradientTransform:n}=t;return new this(S(S({},t),{},{colorStops:e?e.map(r=>S({},r)):void 0,gradientTransform:n?[...n]:void 0}))})}static fromElement(t,e,n){let r=SD(t),s=e._findCenterFromElement();return new this(S({id:t.getAttribute("id")||void 0,type:ID(t),coords:dH(t,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:uH(t,n.opacity),gradientUnits:r,gradientTransform:Ap(t.getAttribute("gradientTransform")||"")},r==="pixels"?{offsetX:e.width/2-s.x,offsetY:e.height/2-s.y}:{offsetX:0,offsetY:0}))}};x(mo,"type","Gradient"),ee.setClass(mo,"gradient"),ee.setClass(mo,"linear"),ee.setClass(mo,"radial");var hH=["type","source","patternTransform"],Fo=class{get type(){return"pattern"}set type(t){jr("warn","Setting type has no effect",t)}constructor(t){x(this,"repeat","repeat"),x(this,"offsetX",0),x(this,"offsetY",0),x(this,"crossOrigin",""),this.id=Ts(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{repeat:e,crossOrigin:n}=this;return S(S({},Vo(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:e,crossOrigin:n,offsetX:yt(this.offsetX,qe.NUM_FRACTION_DIGITS),offsetY:yt(this.offsetY,qe.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:n}=t,{source:r,repeat:s,id:o}=this,a=Za(this.offsetX/e,0),l=Za(this.offsetY/n,0),c=s==="repeat-y"||s==="no-repeat"?1+Math.abs(a||0):Za(r.width/e,0),u=s==="repeat-x"||s==="no-repeat"?1+Math.abs(l||0):Za(r.height/n,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(a,'" y="').concat(l,'" width="').concat(c,'" height="').concat(u,'">'),'<image x="0" y="0" width="'.concat(r.width,'" height="').concat(r.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static fromObject(t,e){return rt(this,null,function*(){let{type:n,source:r,patternTransform:s}=t,o=_t(t,hH),a=yield jc(r,S(S({},e),{},{crossOrigin:o.crossOrigin}));return new this(S(S({},o),{},{patternTransform:s&&s.slice(0),source:a}))})}};x(Fo,"type","Pattern"),ee.setClass(Fo),ee.setClass(Fo,"pattern");var h_=class{constructor(t){x(this,"color","rgb(0, 0, 0)"),x(this,"width",1),x(this,"shadow",null),x(this,"strokeLineCap","round"),x(this,"strokeLineJoin","round"),x(this,"strokeMiterLimit",10),x(this,"strokeDashArray",null),x(this,"limitedToCanvasSize",!1),this.canvas=t}_setBrushStyles(t){t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])}_saveAndTransform(t){let e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}needsFullRender(){return new un(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;let t=this.canvas,e=this.shadow,n=t.contextTop,r=t.getZoom()*t.getRetinaScaling();n.shadowColor=e.color,n.shadowBlur=e.blur*r,n.shadowOffsetX=e.offsetX*r,n.shadowOffsetY=e.offsetY*r}_resetShadow(){let t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}_isOutSideCanvas(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}},pH=["path","left","top"],fH=["d"],xs=class i extends kt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:r,top:s}=e,o=_t(e,pH);super(),Object.assign(this,i.ownDefaults),this.setOptions(o),this._setPath(t||[],!0),typeof r=="number"&&this.set(dt,r),typeof s=="number"&&this.set(Bn,s)}_setPath(t,e){this.path=hD(Array.isArray(t)?t:yD(t)),this.setBoundingBox(e)}_findCenterFromElement(){let t=this._calcBoundsFromPath();return new P(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){let e=-this.pathOffset.x,n=-this.pathOffset.y;t.beginPath();for(let r of this.path)switch(r[0]){case"L":t.lineTo(r[1]+e,r[2]+n);break;case"M":t.moveTo(r[1]+e,r[2]+n);break;case"C":t.bezierCurveTo(r[1]+e,r[2]+n,r[3]+e,r[4]+n,r[5]+e,r[6]+n);break;case"Q":t.quadraticCurveTo(r[1]+e,r[2]+n,r[3]+e,r[4]+n);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return S(S({},super.toObject(t)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){let t=G_(this.path,qe.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){let t=qe.NUM_FRACTION_DIGITS;return" translate(".concat(yt(-this.pathOffset.x,t),", ").concat(yt(-this.pathOffset.y,t),")")}toClipPathSVG(t){let e=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){let e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){let{width:e,height:n,pathOffset:r}=this._calcDimensions();this.set({width:e,height:n,pathOffset:r}),t&&this.setPositionByOrigin(r,Ae,Ae)}_calcBoundsFromPath(){let t=[],e=0,n=0,r=0,s=0;for(let o of this.path)switch(o[0]){case"L":r=o[1],s=o[2],t.push({x:e,y:n},{x:r,y:s});break;case"M":r=o[1],s=o[2],e=r,n=s;break;case"C":t.push(...c_(r,s,o[1],o[2],o[3],o[4],o[5],o[6])),r=o[5],s=o[6];break;case"Q":t.push(...c_(r,s,o[1],o[2],o[1],o[2],o[3],o[4])),r=o[3],s=o[4];break;case"Z":r=e,s=n}return dr(t)}_calcDimensions(){let t=this._calcBoundsFromPath();return S(S({},t),{},{pathOffset:new P(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static fromElement(t,e,n){return rt(this,null,function*(){let r=Ur(t,this.ATTRIBUTE_NAMES,n),{d:s}=r;return new this(s,S(S(S({},_t(r,fH)),e),{},{left:void 0,top:void 0}))})}};x(xs,"type","Path"),x(xs,"cacheProperties",[...Hr,"path","fillRule"]),x(xs,"ATTRIBUTE_NAMES",[...As,"d"]),ee.setClass(xs),ee.setSVGClass(xs);var Np=class i extends h_{constructor(t){super(t),x(this,"decimate",.4),x(this,"drawStraightLine",!1),x(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(t,e,n){let r=e.midPointFrom(n);return t.quadraticCurveTo(e.x,e.y,r.x,r.y),r}onMouseDown(t,e){let{e:n}=e;this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],this._prepareForDrawing(t),this._addPoint(t),this._render())}onMouseMove(t,e){let{e:n}=e;if(this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(t))&&this._addPoint(t)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{let r=this._points,s=r.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=i.drawSegment(o,r[s-2],r[s-1]),o.stroke(),o.restore()}}onMouseUp(t){let{e}=t;return!this.canvas._isMainEvent(e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(t){this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)}_addPoint(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(t),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,e=this._points[0],n=this._points[1];if(this._saveAndTransform(t),t.beginPath(),this._points.length===2&&e.x===n.x&&e.y===n.y){let r=this.width/1e3;e.x-=r,n.x+=r}t.moveTo(e.x,e.y);for(let r=1;r<this._points.length;r++)i.drawSegment(t,e,n),e=this._points[r],n=this._points[r+1];t.lineTo(e.x,e.y),t.stroke(),t.restore()}convertPointsToSVGPath(t){let e=this.width/1e3;return _D(t,e)}createPath(t){let e=new xs(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new Ss(this.shadow)),e}decimatePoints(t,e){if(t.length<=2)return t;let n,r=t[0],s=this.canvas.getZoom(),o=Math.pow(e/s,2),a=t.length-1,l=[r];for(let c=1;c<a-1;c++)n=Math.pow(r.x-t[c].x,2)+Math.pow(r.y-t[c].y,2),n>=o&&(r=t[c],l.push(r));return l.push(t[a]),l}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));let t=this.convertPointsToSVGPath(this._points);if(function(n){return G_(n)==="M 0 0 Q 0 0 0 0 L 0 0"}(t))return void this.canvas.requestRenderAll();let e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}},gH=["left","top","radius"],ED=["radius","startAngle","endAngle","counterClockwise"],cr=class i extends kt{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(t){super(),Object.assign(this,i.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),t==="radius"&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,At(this.startAngle),At(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(Tn)}getRadiusY(){return this.get("radius")*this.get(ti)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...ED,...t])}_toSVG(){let t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{let{radius:e}=this,n=At(this.startAngle),r=At(this.endAngle),s=Fi(n)*e,o=Ri(n)*e,a=Fi(r)*e,l=Ri(r)*e,c=t>180?1:0,u=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(o," A ").concat(e," ").concat(e," 0 ").concat(c," ").concat(u," ").concat(a," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static fromElement(t,e,n){return rt(this,null,function*(){let r=Ur(t,this.ATTRIBUTE_NAMES,n),{left:s=0,top:o=0,radius:a=0}=r;return new this(S(S({},_t(r,gH)),{},{radius:a,left:s-a,top:o-a}))})}static fromObject(t){return super._fromObject(t)}};x(cr,"type","Circle"),x(cr,"cacheProperties",[...Hr,...ED]),x(cr,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),x(cr,"ATTRIBUTE_NAMES",["cx","cy","r",...As]),ee.setClass(cr),ee.setSVGClass(cr);var mH=["x1","y1","x2","y2"],vH=["x1","y1","x2","y2"],p_=["x1","x2","y1","y2"],vi=class i extends kt{constructor(){let[t,e,n,r]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,i.ownDefaults),this.setOptions(s),this.x1=t,this.x2=n,this.y1=e,this.y2=r,this._setWidthHeight();let{left:o,top:a}=s;typeof o=="number"&&this.set(dt,o),typeof a=="number"&&this.set(Bn,a)}_setWidthHeight(){let{x1:t,y1:e,x2:n,y2:r}=this;this.width=Math.abs(n-t),this.height=Math.abs(r-e);let{left:s,top:o,width:a,height:l}=dr([{x:t,y:e},{x:n,y:r}]),c=new P(s+a/2,o+l/2);this.setPositionByOrigin(c,Ae,Ae)}_set(t,e){return super._set(t,e),p_.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();let e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;let n=t.strokeStyle;var r;mi(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(r=this.stroke)!==null&&r!==void 0?r:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=n}_findCenterFromElement(){return new P((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return S(S({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){let t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){let{x1:t,x2:e,y1:n,y2:r,width:s,height:o}=this,a=t<=e?-1:1,l=n<=r?-1:1;return{x1:a*s/2,x2:a*-s/2,y1:l*o/2,y2:l*-o/2}}_toSVG(){let{x1:t,x2:e,y1:n,y2:r}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(n,'" x2="').concat(e,'" y2="').concat(r,`" />
`)]}static fromElement(t,e,n){return rt(this,null,function*(){let r=Ur(t,this.ATTRIBUTE_NAMES,n),{x1:s=0,y1:o=0,x2:a=0,y2:l=0}=r;return new this([s,o,a,l],_t(r,mH))})}static fromObject(t){let{x1:e,y1:n,x2:r,y2:s}=t,o=_t(t,vH);return this._fromObject(S(S({},o),{},{points:[e,n,r,s]}),{extraParam:"points"})}};x(vi,"type","Line"),x(vi,"cacheProperties",[...Hr,...p_]),x(vi,"ATTRIBUTE_NAMES",As.concat(p_)),ee.setClass(vi),ee.setSVGClass(vi);var Is=class i extends kt{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(t){super(),Object.assign(this,i.ownDefaults),this.setOptions(t)}_render(t){let e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){let t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(e,",0 ").concat(-e,",").concat(t," ").concat(e),'" />']}};x(Is,"type","Triangle"),x(Is,"ownDefaults",{width:100,height:100}),ee.setClass(Is),ee.setSVGClass(Is);var TD=["rx","ry"],ws=class i extends kt{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(t){super(),Object.assign(this,i.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this}getRx(){return this.get("rx")*this.get(Tn)}getRy(){return this.get("ry")*this.get(ti)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...TD,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,Br,!1),t.restore(),this._renderPaintInOrder(t)}static fromElement(t,e,n){return rt(this,null,function*(){let r=Ur(t,this.ATTRIBUTE_NAMES,n);return r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,new this(r)})}};function yH(i){if(!i)return[];let t=i.replace(/,/g," ").trim().split(/\s+/),e=[];for(let n=0;n<t.length;n+=2)e.push({x:parseFloat(t[n]),y:parseFloat(t[n+1])});return e}x(ws,"type","Ellipse"),x(ws,"cacheProperties",[...Hr,...TD]),x(ws,"ownDefaults",{rx:0,ry:0}),x(ws,"ATTRIBUTE_NAMES",[...As,"cx","cy","rx","ry"]),ee.setClass(ws),ee.setSVGClass(ws);var _H=["left","top"],DD={exactBoundingBox:!1},lr=class i extends kt{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),x(this,"strokeDiff",void 0),Object.assign(this,i.ownDefaults),this.setOptions(e),this.points=t;let{left:n,top:r}=e;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(dt,n),typeof r=="number"&&this.set(Bn,r)}isOpen(){return!0}_projectStrokeOnPoints(t){return iD(this.points,t,this.isOpen())}_calcDimensions(t){t=S({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});let e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(c=>c.projectedPoint):this.points;if(e.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new P,strokeOffset:new P,strokeDiff:new P};let n=dr(e),r=Qc(S(S({},t),{},{scaleX:1,scaleY:1})),s=dr(this.points.map(c=>cn(c,r,!0))),o=new P(this.scaleX,this.scaleY),a=n.left+n.width/2,l=n.top+n.height/2;return this.exactBoundingBox&&(a-=l*Math.tan(At(this.skewX)),l-=a*Math.tan(At(this.skewY))),S(S({},n),{},{pathOffset:new P(a,l),strokeOffset:new P(s.left,s.top).subtract(new P(n.left,n.top)).multiply(o),strokeDiff:new P(n.width,n.height).subtract(new P(s.width,s.height)).multiply(o)})}_findCenterFromElement(){let t=dr(this.points);return new P(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){let{left:e,top:n,width:r,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}=this._calcDimensions();this.set({width:r,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}),t&&this.setPositionByOrigin(new P(e+r/2,n+s/2),Ae,Ae)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new P(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(t).some(a=>this.strokeUniform||this.constructor.layoutProperties.includes(a))){var e,n;let{width:a,height:l}=this._calcDimensions(t);o=new P((e=t.width)!==null&&e!==void 0?e:a,(n=t.height)!==null&&n!==void 0?n:l)}else{var r,s;o=new P((r=t.width)!==null&&r!==void 0?r:this.width,(s=t.height)!==null&&s!==void 0?s:this.height)}return o.multiply(new P(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){let n=this.initialized&&this[t]!==e,r=super._set(t,e);return this.exactBoundingBox&&n&&((t===Tn||t===ti)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),r}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return S(S({},super.toObject(t)),{},{points:this.points.map(e=>{let{x:n,y:r}=e;return{x:n,y:r}})})}_toSVG(){let t=[],e=this.pathOffset.x,n=this.pathOffset.y,r=qe.NUM_FRACTION_DIGITS;for(let s=0,o=this.points.length;s<o;s++)t.push(yt(this.points[s].x-e,r),",",yt(this.points[s].y-n,r)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){let e=this.points.length,n=this.pathOffset.x,r=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-n,this.points[0].y-r);for(let s=0;s<e;s++){let o=this.points[s];t.lineTo(o.x-n,o.y-r)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static fromElement(t,e,n){return rt(this,null,function*(){return new this(yH(t.getAttribute("points")),S(S({},_t(Ur(t,this.ATTRIBUTE_NAMES,n),_H)),e))})}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}};x(lr,"ownDefaults",DD),x(lr,"type","Polyline"),x(lr,"layoutProperties",[ll,cl,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),x(lr,"cacheProperties",[...Hr,"points"]),x(lr,"ATTRIBUTE_NAMES",[...As]),ee.setClass(lr),ee.setSVGClass(lr);var Ja=class extends lr{isOpen(){return!1}};x(Ja,"ownDefaults",DD),x(Ja,"type","Polygon"),ee.setClass(Ja),ee.setSVGClass(Ja);var MD=["fontSize","fontWeight","fontFamily","fontStyle"],OD=["underline","overline","linethrough"],AD=[...MD,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],kD=[...AD,...OD,"textBackgroundColor","direction"],bH=[...MD,...OD,In,"strokeWidth",Nt,"deltaY","textBackgroundColor"],CH={_reNewline:S_,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:dt,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:dt,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},ur="justify",Vp="justify-left",Bc="justify-right",Hc="justify-center",jp=class extends kt{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;let e=t===void 0?this.styles:{line:this.styles[t]};for(let n in e)for(let r in e[n])for(let s in e[n][r])return!1;return!0}styleHas(t,e){if(!this.styles||e!==void 0&&!this.styles[e])return!1;let n=e===void 0?this.styles:{0:this.styles[e]};for(let r in n)for(let s in n[r])if(n[r][s][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;let e=this.styles,n,r,s=0,o=!0,a=0;for(let l in e){n=0;for(let c in e[l]){let u=e[l][c]||{};s++,u[t]!==void 0?(r?u[t]!==r&&(o=!1):r=u[t],u[t]===this[t]&&delete u[t]):o=!1,Object.keys(u).length!==0?n++:delete e[l][c]}n===0&&delete e[l]}for(let l=0;l<this._textLines.length;l++)a+=this._textLines[l].length;o&&s===a&&(this[t]=r,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;let e=this.styles,n,r,s;for(r in e){for(s in n=e[r],n)delete n[s][t],Object.keys(n[s]).length===0&&delete n[s];Object.keys(n).length===0&&delete e[r]}}_extendStyles(t,e){let{lineIndex:n,charIndex:r}=this.get2DCursorLocation(t);this._getLineStyle(n)||this._setLineStyle(n);let s=A_(S(S({},this._getStyleDeclaration(n,r)),e),o=>o!==void 0);this._setStyleDeclaration(n,r,s)}getSelectionStyles(t,e,n){let r=[];for(let s=t;s<(e||t);s++)r.push(this.getStyleAtPosition(s,n));return r}getStyleAtPosition(t,e){let{lineIndex:n,charIndex:r}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(n,r):this._getStyleDeclaration(n,r)}setSelectionStyles(t,e,n){for(let r=e;r<(n||e);r++)this._extendStyles(r,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var n;let r=this.styles&&this.styles[t];return r&&(n=r[e])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(t,e){return S(S({},Vo(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,n){this.styles[t][e]=n}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}};x(jp,"_styleProperties",bH);var wH=/  +/g,xH=/"/g;function Ry(i,t,e,n,r){return"		".concat(function(s,o){let{left:a,top:l,width:c,height:u}=o,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qe.NUM_FRACTION_DIGITS,h=Gc(Nt,s,!1),[p,f,y,_]=[a,l,c,u].map(b=>yt(b,d));return"<rect ".concat(h,' x="').concat(p,'" y="').concat(f,'" width="').concat(y,'" height="').concat(_,'"></rect>')}(i,{left:t,top:e,width:n,height:r}),`
`)}var IH=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],Ly,fi=class i extends jp{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(t,e){super(),x(this,"__charBounds",[]),Object.assign(this,i.ownDefaults),this.setOptions(e),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){let t=this.path;t&&(t.segmentsInfo=$_(t.path))}_splitText(){let t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(ur)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,n,r,s,o,a;for(let l=0,c=this._textLines.length;l<c;l++)if((this.textAlign===ur||l!==c-1&&!this.isEndOfWrapping(l))&&(r=0,s=this._textLines[l],e=this.getLineWidth(l),e<this.width&&(a=this.textLines[l].match(this._reSpacesAndTabs)))){n=a.length,t=(this.width-e)/n;for(let u=0;u<=s.length;u++)o=this.__charBounds[l][u],this._reSpaceAndTab.test(s[u])?(o.width+=t,o.kernedWidth+=t,o.left+=r,r+=t):o.left+=r}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){let n=e?this._unwrappedTextLines:this._textLines,r;for(r=0;r<n.length;r++){if(t<=n[r].length)return{lineIndex:r,charIndex:t};t-=n[r].length+this.missingNewlineOffset(r,e)}return{lineIndex:r-1,charIndex:n[r-1].length<t?n[r-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){let t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){let e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===In?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,n){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Ae:t.textBaseline="middle";break;case"ascender":t.textBaseline=Bn;break;case"descender":t.textBaseline=Gy}t.font=this._getFontDeclaration(e,n)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,n=this._textLines.length;e<n;e++){let r=this.getLineWidth(e);r>t&&(t=r)}return t}_renderTextLine(t,e,n,r,s,o){this._renderChars(t,e,n,r,s,o)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;let e=t.fillStyle,n=this._getLeftOffset(),r=this._getTopOffset();for(let s=0,o=this._textLines.length;s<o;s++){let a=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){r+=a;continue}let l=this._textLines[s].length,c=this._getLineLeftOffset(s),u,d,h=0,p=0,f=this.getValueOfPropertyAt(s,0,"textBackgroundColor");for(let y=0;y<l;y++){let _=this.__charBounds[s][y];d=this.getValueOfPropertyAt(s,y,"textBackgroundColor"),this.path?(t.save(),t.translate(_.renderLeft,_.renderTop),t.rotate(_.angle),t.fillStyle=d,d&&t.fillRect(-_.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),_.width,a/this.lineHeight),t.restore()):d!==f?(u=n+c+p,this.direction==="rtl"&&(u=this.width-u-h),t.fillStyle=f,f&&t.fillRect(u,r,h,a/this.lineHeight),p=_.left,h=_.width,f=d):h+=_.kernedWidth}d&&!this.path&&(u=n+c+p,this.direction==="rtl"&&(u=this.width-u-h),t.fillStyle=d,t.fillRect(u,r,h,a/this.lineHeight)),r+=a}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,n,r){let s=Nc.getFontCache(e),o=this._getFontDeclaration(e),a=n+t,l=n&&o===this._getFontDeclaration(r),c=e.fontSize/this.CACHE_FONT_SIZE,u,d,h,p;if(n&&s[n]!==void 0&&(h=s[n]),s[t]!==void 0&&(p=u=s[t]),l&&s[a]!==void 0&&(d=s[a],p=d-h),u===void 0||h===void 0||d===void 0){let f=function(){if(!Ly){let y=Vt();y.width=y.height=0,Ly=y.getContext("2d")}return Ly}();this._setTextStyles(f,e,!0),u===void 0&&(p=u=f.measureText(t).width,s[t]=u),h===void 0&&l&&n&&(h=f.measureText(n).width,s[n]=h),l&&d===void 0&&(d=f.measureText(a).width,s[a]=d,p=d-h)}return{width:u*c,kernedWidth:p*c}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")}measureLine(t){let e=this._measureLine(t);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,n,r=0,s=this.pathSide===Lt,o=this.path,a=this._textLines[t],l=a.length,c=new Array(l);this.__charBounds[t]=c;for(let u=0;u<l;u++){let d=a[u];n=this._getGraphemeBox(d,t,u,e),c[u]=n,r+=n.kernedWidth,e=d}if(c[l]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let u=0,d=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case dt:u=s?d-r:0;break;case Ae:u=(d-r)/2;break;case Lt:u=s?0:d-r}u+=this.pathStartOffset*(s?-1:1);for(let h=s?l-1:0;s?h>=0:h<l;s?h--:h++)n=c[h],u>d?u%=d:u<0&&(u+=d),this._setGraphemeOnPath(u,n),u+=n.kernedWidth}return{width:r,numOfSpaces:0}}_setGraphemeOnPath(t,e){let n=t+e.kernedWidth/2,r=this.path,s=vD(r.path,n,r.segmentsInfo);e.renderLeft=s.x-r.pathOffset.x,e.renderTop=s.y-r.pathOffset.y,e.angle=s.angle+(this.pathSide===Lt?Math.PI:0)}_getGraphemeBox(t,e,n,r,s){let o=this.getCompleteStyleDeclaration(e,n),a=r?this.getCompleteStyleDeclaration(e,n-1):{},l=this._measureChar(t,o,r,a),c,u=l.kernedWidth,d=l.width;this.charSpacing!==0&&(c=this._getWidthOfCharSpacing(),d+=c,u+=c);let h={width:d,left:0,height:o.fontSize,kernedWidth:u,deltaY:o.deltaY};if(n>0&&!s){let p=this.__charBounds[e][n-1];h.left=p.left+p.width+l.kernedWidth-l.width}return h}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let e=this.getHeightOfChar(t,0);for(let n=1,r=this._textLines[t].length;n<r;n++)e=Math.max(this.getHeightOfChar(t,n),e);return this.__lineHeights[t]=e*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,e=0;for(let n=0,r=this._textLines.length;n<r;n++)t=this.getHeightOfLine(n),e+=n===r-1?t/this.lineHeight:t;return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let n=0,r=this._getLeftOffset(),s=this._getTopOffset();for(let o=0,a=this._textLines.length;o<a;o++){let l=this.getHeightOfLine(o),c=l/this.lineHeight,u=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],r+u,s+n+c,o),n+=l}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(Nt))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,e,n,r,s,o){let a=this.getHeightOfLine(o),l=this.textAlign.includes(ur),c=this.path,u=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!c,d=this.direction==="ltr",h=this.direction==="ltr"?1:-1,p=e.direction,f,y,_,b,T,R="",F=0;if(e.save(),p!==this.direction&&(e.canvas.setAttribute("dir",d?"ltr":"rtl"),e.direction=d?"ltr":"rtl",e.textAlign=d?dt:Lt),s-=a*this._fontSizeFraction/this.lineHeight,u)return this._renderChar(t,e,o,0,n.join(""),r,s),void e.restore();for(let $=0,G=n.length-1;$<=G;$++)b=$===G||this.charSpacing||c,R+=n[$],_=this.__charBounds[o][$],F===0?(r+=h*(_.kernedWidth-_.width),F+=_.width):F+=_.kernedWidth,l&&!b&&this._reSpaceAndTab.test(n[$])&&(b=!0),b||(f=f||this.getCompleteStyleDeclaration(o,$),y=this.getCompleteStyleDeclaration(o,$+1),b=tf(f,y,!1)),b&&(c?(e.save(),e.translate(_.renderLeft,_.renderTop),e.rotate(_.angle),this._renderChar(t,e,o,$,R,-F/2,0),e.restore()):(T=r,this._renderChar(t,e,o,$,R,T,s)),R="",f=y,r+=h*F,F=0);e.restore()}_applyPatternGradientTransformText(t){let e=Vt(),n=this.width+this.strokeWidth,r=this.height+this.strokeWidth,s=e.getContext("2d");return e.width=n,e.height=r,s.beginPath(),s.moveTo(0,0),s.lineTo(n,0),s.lineTo(n,r),s.lineTo(0,r),s.closePath(),s.translate(n/2,r/2),s.fillStyle=t.toLive(s),this._applyPatternGradientTransform(s,t),s.fill(),s.createPattern(e,"no-repeat")}handleFiller(t,e,n){let r,s;return mi(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(r=-this.width/2,s=-this.height/2,t.translate(r,s),t[e]=this._applyPatternGradientTransformText(n),{offsetX:r,offsetY:s}):(t[e]=n.toLive(t),this._applyPatternGradientTransform(t,n)):(t[e]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:n,strokeWidth:r}=e;return t.lineWidth=r,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",n)}_setFillStyles(t,e){let{fill:n}=e;return this.handleFiller(t,"fillStyle",n)}_renderChar(t,e,n,r,s,o,a){let l=this._getStyleDeclaration(n,r),c=this.getCompleteStyleDeclaration(n,r),u=t==="fillText"&&c.fill,d=t==="strokeText"&&c.stroke&&c.strokeWidth;if(d||u){if(e.save(),e.font=this._getFontDeclaration(c),l.textBackgroundColor&&this._removeShadow(e),l.deltaY&&(a+=l.deltaY),u){let h=this._setFillStyles(e,c);e.fillText(s,o-h.offsetX,a-h.offsetY)}if(d){let h=this._setStrokeStyles(e,c);e.strokeText(s,o-h.offsetX,a-h.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,n){let r=this.get2DCursorLocation(t,!0),s=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),a={fontSize:s*n.size,deltaY:o+s*n.baseline};this.setSelectionStyles(a,t,e)}_getLineLeftOffset(t){let e=this.getLineWidth(t),n=this.width-e,r=this.textAlign,s=this.direction,o=this.isEndOfWrapping(t),a=0;return r===ur||r===Hc&&!o||r===Bc&&!o||r===Vp&&!o?0:(r===Ae&&(a=n/2),r===Lt&&(a=n),r===Hc&&(a=n/2),r===Bc&&(a=n),s==="rtl"&&(r===Lt||r===ur||r===Bc?a=0:r===dt||r===Vp?a=-n:r!==Ae&&r!==Hc||(a=-n/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];let{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,n){var r;return(r=this._getStyleDeclaration(t,e)[n])!==null&&r!==void 0?r:this[n]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let n=this._getTopOffset(),r=this._getLeftOffset(),s=this.path,o=this._getWidthOfCharSpacing(),a=this.offsets[e];for(let l=0,c=this._textLines.length;l<c;l++){let u=this.getHeightOfLine(l);if(!this[e]&&!this.styleHas(e,l)){n+=u;continue}let d=this._textLines[l],h=u/this.lineHeight,p=this._getLineLeftOffset(l),f,y,_=0,b=0,T=this.getValueOfPropertyAt(l,0,e),R=this.getValueOfPropertyAt(l,0,Nt),F=n+h*(1-this._fontSizeFraction),$=this.getHeightOfChar(l,0),G=this.getValueOfPropertyAt(l,0,"deltaY");for(let q=0,Ne=d.length;q<Ne;q++){let Ye=this.__charBounds[l][q];f=this.getValueOfPropertyAt(l,q,e),y=this.getValueOfPropertyAt(l,q,Nt);let He=this.getHeightOfChar(l,q),Ue=this.getValueOfPropertyAt(l,q,"deltaY");if(s&&f&&y)t.save(),t.fillStyle=R,t.translate(Ye.renderLeft,Ye.renderTop),t.rotate(Ye.angle),t.fillRect(-Ye.kernedWidth/2,a*He+Ue,Ye.kernedWidth,this.fontSize/15),t.restore();else if((f!==T||y!==R||He!==$||Ue!==G)&&b>0){let Be=r+p+_;this.direction==="rtl"&&(Be=this.width-Be-b),T&&R&&(t.fillStyle=R,t.fillRect(Be,F+a*$+G,b,this.fontSize/15)),_=Ye.left,b=Ye.width,T=f,R=y,$=He,G=Ue}else b+=Ye.kernedWidth}let Z=r+p+_;this.direction==="rtl"&&(Z=this.width-Z-b),t.fillStyle=y,f&&y&&t.fillRect(Z,F+a*$+G,b-o,this.fontSize/15),n+=u}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:r=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,o=t.includes("'")||t.includes('"')||t.includes(",")||i.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[e,n,"".concat(s?this.CACHE_FONT_SIZE:r,"px"),o].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return ef(t)}_splitTextIntoLines(t){let e=t.split(this._reNewline),n=new Array(e.length),r=[`
`],s=[];for(let o=0;o<e.length;o++)n[o]=this.graphemeSplit(e[o]),s=s.concat(n[o],r);return s.pop(),{_unwrappedLines:n,lines:e,graphemeText:s,graphemeLines:n}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return S(S({},super.toObject([...kD,...t])),{},{styles:sD(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){let{textLayoutProperties:n}=this.constructor;super.set(t,e);let r=!1,s=!1;if(typeof t=="object")for(let o in t)o==="path"&&this.setPathInfo(),r=r||n.includes(o),s=s||o==="path";else r=n.includes(t),s=t==="path";return s&&this.setPathInfo(),r&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static fromElement(t,e,n){return rt(this,null,function*(){let r=Ur(t,i.ATTRIBUTE_NAMES,n),s=S(S({},e),r),{textAnchor:o=dt,textDecoration:a="",dx:l=0,dy:c=0,top:u=0,left:d=0,fontSize:h=I_,strokeWidth:p=1}=s,f=_t(s,IH),y=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),S({left:d+l,top:u+c,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:h},f)),_=y.getScaledHeight()/y.height,b=((y.height+y.strokeWidth)*y.lineHeight-y.height)*_,T=y.getScaledHeight()+b,R=0;return o===Ae&&(R=y.getScaledWidth()/2),o===Lt&&(R=y.getScaledWidth()),y.set({left:y.left-R,top:y.top-(T-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:p}),y})}static fromObject(t){return this._fromObject(S(S({},t),{},{styles:oD(t.styles||{},t.text)}),{extraParam:"text"})}};x(fi,"textLayoutProperties",AD),x(fi,"cacheProperties",[...Hr,...kD]),x(fi,"ownDefaults",CH),x(fi,"type","Text"),x(fi,"genericFonts",["sans-serif","serif","cursive","fantasy","monospace"]),x(fi,"ATTRIBUTE_NAMES",As.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),tD(fi,[class extends xp{_toSVG(){let i=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(i.textTop,i.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(i){return this._createBaseSVGMarkup(this._toSVG(),{reviver:i,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(i){let{textBgRects:t,textSpans:e}=i,n=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(xH,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.join(""),`</text>
`]}_getSVGTextAndBg(i,t){let e=[],n=[],r,s=i;this.backgroundColor&&n.push(...Ry(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,a=this._textLines.length;o<a;o++)r=this._getLineLeftOffset(o),this.direction==="rtl"&&(r+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(n,o,t+r,s),this._setSVGTextLineText(e,o,t+r,s),s+=this.getHeightOfLine(o);return{textSpans:e,textBgRects:n}}_createTextCharSpan(i,t,e,n){let r=this.getSvgSpanStyles(t,i!==i.trim()||!!i.match(wH)),s=r?'style="'.concat(r,'"'):"",o=t.deltaY,a=o?' dy="'.concat(yt(o,qe.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(yt(e,qe.NUM_FRACTION_DIGITS),'" y="').concat(yt(n,qe.NUM_FRACTION_DIGITS),'" ').concat(a).concat(s,">").concat(rD(i),"</tspan>")}_setSVGTextLineText(i,t,e,n){let r=this.getHeightOfLine(t),s=this.textAlign.includes(ur),o=this._textLines[t],a,l,c,u,d,h="",p=0;n+=r*(1-this._fontSizeFraction)/this.lineHeight;for(let f=0,y=o.length-1;f<=y;f++)d=f===y||this.charSpacing,h+=o[f],c=this.__charBounds[t][f],p===0?(e+=c.kernedWidth-c.width,p+=c.width):p+=c.kernedWidth,s&&!d&&this._reSpaceAndTab.test(o[f])&&(d=!0),d||(a=a||this.getCompleteStyleDeclaration(t,f),l=this.getCompleteStyleDeclaration(t,f+1),d=tf(a,l,!0)),d&&(u=this._getStyleDeclaration(t,f),i.push(this._createTextCharSpan(h,u,e,n)),h="",a=l,this.direction==="rtl"?e-=p:e+=p,p=0)}_setSVGTextLineBg(i,t,e,n){let r=this._textLines[t],s=this.getHeightOfLine(t)/this.lineHeight,o,a=0,l=0,c=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let u=0;u<r.length;u++){let{left:d,width:h,kernedWidth:p}=this.__charBounds[t][u];o=this.getValueOfPropertyAt(t,u,"textBackgroundColor"),o!==c?(c&&i.push(...Ry(c,e+l,n,a,s)),l=d,a=h,c=o):a+=p}o&&i.push(...Ry(c,e+l,n,a,s))}_getSVGLineTopOffset(i){let t,e=0;for(t=0;t<i;t++)e+=this.getHeightOfLine(t);let n=this.getHeightOfLine(t);return{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(i){return"".concat(super.getSvgStyles(i)," white-space: pre;")}getSvgSpanStyles(i,t){let{fontFamily:e,strokeWidth:n,stroke:r,fill:s,fontSize:o,fontStyle:a,fontWeight:l,deltaY:c}=i,u=this.getSvgTextDecoration(i);return[r?Gc(In,r):"",n?"stroke-width: ".concat(n,"; "):"",e?"font-family: ".concat(e.includes("'")||e.includes('"')?e:"'".concat(e,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",a?"font-style: ".concat(a,"; "):"",l?"font-weight: ".concat(l,"; "):"",u&&"text-decoration: ".concat(u,"; "),s?Gc(Nt,s):"",c?"baseline-shift: ".concat(-c,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(i){return["overline","underline","line-through"].filter(t=>i[t.replace("-","")]).join(" ")}}]),ee.setClass(fi),ee.setSVGClass(fi);var f_=class{constructor(t){x(this,"target",void 0),x(this,"__mouseDownInPlace",!1),x(this,"__dragStartFired",!1),x(this,"__isDraggingOver",!1),x(this,"__dragStartSelection",void 0),x(this,"__dragImageDisposer",void 0),x(this,"_dispose",void 0),this.target=t;let e=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{e.forEach(n=>n()),this._dispose=void 0}}isPointerOverSelection(t){let e=this.target,n=e.getSelectionStartFromPointer(t);return e.isEditing&&n>=e.selectionStart&&n<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){let e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var n;let{selectionStart:r,selectionEnd:s}=e,o=this.target,a=o.canvas,l=new P(o.flipX?-1:1,o.flipY?-1:1),c=o._getCursorBoundaries(r),u=new P(c.left+c.leftOffset,c.top+c.topOffset).multiply(l).transform(o.calcTransformMatrix()),d=a.getScenePoint(t).subtract(u),h=o.getCanvasRetinaScaling(),p=o.getBoundingRect(),f=u.subtract(new P(p.left,p.top)),y=a.viewportTransform,_=f.add(d).transform(y,!0),b=o.backgroundColor,T=H_(o.styles);o.backgroundColor="";let R={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(R,0,r),o.setSelectionStyles(R,s,o.text.length),o.dirty=!0;let F=o.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=b,o.styles=T,o.dirty=!0,Rp(F,{position:"fixed",left:"".concat(-F.width,"px"),border:xn,width:"".concat(F.width/h,"px"),height:"".concat(F.height/h,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{F.remove()},Mi(t.target||this.target.hiddenTextarea).body.appendChild(F),(n=t.dataTransfer)===null||n===void 0||n.setDragImage(F,_.x,_.y)}onDragStart(t){this.__dragStartFired=!0;let e=this.target,n=this.isActive();if(n&&t.dataTransfer){let r=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},s=e._text.slice(r.selectionStart,r.selectionEnd).join(""),o=S({text:e.text,value:s},r);t.dataTransfer.setData("text/plain",s),t.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:e.getSelectionStyles(r.selectionStart,r.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,o)}return e.abortCursorAnimation(),n}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){let e=this.target.getSelectionStartFromPointer(t),n=this.__dragStartSelection;return e<n.selectionStart||e>n.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e}=t,n=this.targetCanDrop(e);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(t){let{e}=t,n=this.targetCanDrop(e);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;let{e:n}=t,r=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let s=(e=n.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain");if(s&&!r){let o=this.target,a=o.canvas,l=o.getSelectionStartFromPointer(n),{styles:c}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},u=s[Math.max(0,s.length-1)],d=0;if(this.__dragStartSelection){let h=this.__dragStartSelection.selectionStart,p=this.__dragStartSelection.selectionEnd;l>h&&l<=p?l=h:l>p&&(l-=p-h),o.removeChars(h,p),delete this.__dragStartSelection}o._reNewline.test(u)&&(o._reNewline.test(o._text[l])||l===o._text.length)&&(s=s.trimEnd()),t.didDrop=!0,t.dropTarget=o,o.insertChars(s,c,l),a.setActiveObject(o),o.enterEditing(n),o.selectionStart=Math.min(l+d,o._text.length),o.selectionEnd=Math.min(o.selectionStart+s.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(mp,{index:l+d,action:"drop"}),a.fire("text:changed",{target:o}),a.contextTopDirty=!0,a.requestRenderAll()}}dragEndHandler(t){let{e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;let r=this.target,s=this.target.canvas,{selectionStart:o,selectionEnd:a}=this.__dragStartSelection,l=((n=e.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||xn;l===xn?(r.selectionStart=o,r.selectionEnd=a,r._updateTextarea(),r.hiddenTextarea.focus()):(r.clearContextTop(),l==="move"&&(r.removeChars(o,a),r.selectionStart=r.selectionEnd=o,r.hiddenTextarea&&(r.hiddenTextarea.value=r.text),r._updateTextarea(),r.fire(mp,{index:o,action:"dragend"}),s.fire("text:changed",{target:r}),s.requestRenderAll()),r.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}},aT=/[ \n\.,;!\?\-]/,g_=class extends fi{constructor(){super(...arguments),x(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:n,delay:r,onComplete:s}=t;return V_({startValue:this._currentCursorOpacity,endValue:e,duration:n,delay:r,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(e=>{e&&!e.isDone()&&(t=!0,e.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let e=0,n=t-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n--;for(;/\S/.test(this._text[n])&&n>-1;)e++,n--;return t-e}findWordBoundaryRight(t){let e=0,n=t;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e}findLineBoundaryLeft(t){let e=0,n=t-1;for(;!/\n/.test(this._text[n])&&n>-1;)e++,n--;return t-e}findLineBoundaryRight(t){let e=0,n=t;for(;!/\n/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e}searchWordBoundary(t,e){let n=this._text,r=t>0&&this._reSpace.test(n[t])&&(e===-1||!S_.test(n[t-1]))?t-1:t,s=n[r];for(;r>0&&r<n.length&&!aT.test(s);)r+=e,s=n[r];return e===-1&&aT.test(s)&&r++,r}selectWord(t){t=t||this.selectionStart;let e=this.searchWordBoundary(t,-1),n=Math.max(e,this.searchWordBoundary(t,1));this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){t=t||this.selectionStart;let e=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(t){!this.isEditing&&this.editable&&(this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;let e=this.hiddenTextarea;Mi(e).activeElement!==e&&e.focus();let n=this.getSelectionStartFromPointer(t),r=this.selectionStart,s=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&r!==s||r!==n&&s!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===r&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,n){let r=n.slice(0,t),s=this.graphemeSplit(r).length;if(t===e)return{selectionStart:s,selectionEnd:s};let o=n.slice(t,e);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(t,e,n){let r=n.slice(0,t).join("").length;return t===e?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(t,e).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){let t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};let t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();let e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){let t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};let t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),n=this.get2DCursorLocation(t),r=n.lineIndex,s=n.charIndex,o=this.getValueOfPropertyAt(r,s,"fontSize")*this.lineHeight,a=e.leftOffset,l=this.getCanvasRetinaScaling(),c=this.canvas.upperCanvasEl,u=c.width/l,d=c.height/l,h=u-o,p=d-o,f=new P(e.left+a,e.top+e.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new P(c.clientWidth/u,c.clientHeight/d));return f.x<0&&(f.x=0),f.x>h&&(f.x=h),f.y<0&&(f.y=0),f.y>p&&(f.y=p),f.x+=this.canvas._offset.left,f.y+=this.canvas._offset.top,{left:"".concat(f.x,"px"),top:"".concat(f.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){let t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditing(){let t=this._textBeforeEdit!==this.text;return this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire(vp),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(let t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){let{lineIndex:n,charIndex:r}=this.get2DCursorLocation(t,!0),{lineIndex:s,charIndex:o}=this.get2DCursorLocation(e,!0);if(n!==s){if(this.styles[n])for(let a=r;a<this._unwrappedTextLines[n].length;a++)delete this.styles[n][a];if(this.styles[s])for(let a=o;a<this._unwrappedTextLines[s].length;a++){let l=this.styles[s][a];l&&(this.styles[n]||(this.styles[n]={}),this.styles[n][r+a-o]=l)}for(let a=n+1;a<=s;a++)delete this.styles[a];this.shiftLineStyles(s,n-s)}else if(this.styles[n]){let a=this.styles[n],l=o-r;for(let c=r;c<o;c++)delete a[c];for(let c in this.styles[n]){let u=parseInt(c,10);u>=o&&(a[u-l]=a[c],delete a[c])}}}shiftLineStyles(t,e){let n=Object.assign({},this.styles);for(let r in this.styles){let s=parseInt(r,10);s>t&&(this.styles[s+e]=n[s],n[s-e]||delete this.styles[s])}}insertNewlineStyleObject(t,e,n,r){let s={},o=this._unwrappedTextLines[t].length,a=o===e,l=!1;n||(n=1),this.shiftLineStyles(t,n);let c=this.styles[t]?this.styles[t][e===0?e:e-1]:void 0;for(let d in this.styles[t]){let h=parseInt(d,10);h>=e&&(l=!0,s[h-e]=this.styles[t][d],a&&e===0||delete this.styles[t][d])}let u=!1;for(l&&!a&&(this.styles[t+n]=s,u=!0),(u||o>e)&&n--;n>0;)r&&r[n-1]?this.styles[t+n]={0:S({},r[n-1])}:c?this.styles[t+n]={0:S({},c)}:delete this.styles[t+n],n--;this._forceClearCache=!0}insertCharStyleObject(t,e,n,r){this.styles||(this.styles={});let s=this.styles[t],o=s?S({},s):{};n||(n=1);for(let l in o){let c=parseInt(l,10);c>=e&&(s[c+n]=o[c],o[c-n]||delete s[c])}if(this._forceClearCache=!0,r){for(;n--;)Object.keys(r[n]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+n]=S({},r[n]));return}if(!s)return;let a=s[e?e-1:1];for(;a&&n--;)this.styles[t][e+n]=S({},a)}insertNewStyleBlock(t,e,n){let r=this.get2DCursorLocation(e,!0),s=[0],o,a=0;for(let l=0;l<t.length;l++)t[l]===`
`?(a++,s[a]=0):s[a]++;for(s[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,s[0],n),n=n&&n.slice(s[0]+1)),a&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+s[0],a),o=1;o<a;o++)s[o]>0?this.insertCharStyleObject(r.lineIndex+o,0,s[o],n):n&&this.styles[r.lineIndex+o]&&n[0]&&(this.styles[r.lineIndex+o][0]=n[0]),n=n&&n.slice(s[o]+1);s[o]>0&&this.insertCharStyleObject(r.lineIndex+o,0,s[o],n)}removeChars(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;r>n&&this.removeStyleFromTo(n,r);let s=this.graphemeSplit(t);this.insertNewStyleBlock(s,n,e),this._text=[...this._text.slice(0,n),...s,...this._text.slice(r)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,n){n<=t?(e===t?this._selectionDirection=dt:this._selectionDirection===Lt&&(this._selectionDirection=dt,this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?this._selectionDirection===Lt?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection=Lt:this._selectionDirection===dt&&(this._selectionDirection=Lt,this.selectionStart=e),this.selectionEnd=n)}},m_=class extends g_{initHiddenTextarea(){let t=this.canvas&&Mi(this.canvas.getElement())||al(),e=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[a,l]=o;return e.setAttribute(a,l)});let{top:n,left:r,fontSize:s}=this._calcTextareaPosition();e.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(r,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[a,l]=o;return e.addEventListener(a,this[l].bind(this))}),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;let e=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){let e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;let n=()=>{this.updateFromTextArea(),this.fire(mp),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void n();let r=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,s=this._text.length,o=r.length,a=this.selectionStart,l=this.selectionEnd,c=a!==l,u,d,h,p,f=o-s,y=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),_=a>y.selectionStart;c?(d=this._text.slice(a,l),f+=l-a):o<s&&(d=_?this._text.slice(l+f,l):this._text.slice(a,a-f));let b=r.slice(y.selectionEnd-f,y.selectionEnd);if(d&&d.length&&(b.length&&(u=this.getSelectionStyles(a,a+1,!1),u=b.map(()=>u[0])),c?(h=a,p=l):_?(h=l-d.length,p=l):(h=l,p=l+d.length),this.removeStyleFromTo(h,p)),b.length){let{copyPasteData:T}=hr();e&&b.join("")===T.copiedText&&!qe.disableStyleCopyPaste&&(u=T.copiedTextStyle),this.insertNewStyleBlock(b,a,u)}n()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t,{selectionStart:n,selectionEnd:r}=e;this.compositionStart=n,this.compositionEnd=r,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;let{copyPasteData:t}=hr();t.copiedText=this.getSelectedText(),qe.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let n,r=this._getLineLeftOffset(t);return e>0&&(n=this.__charBounds[t][e-1],r+=n.left+n.width),r}getDownCursorOffset(t,e){let n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),s=r.lineIndex;if(s===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-n;let o=r.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s+1,a);return this._textLines[s].slice(o).length+l+1+this.missingNewlineOffset(s)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){let n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),s=r.lineIndex;if(s===0||t.metaKey||t.keyCode===33)return-n;let o=r.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s-1,a),c=this._textLines[s].slice(0,o),u=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+l-c.length+(1-u)}_getIndexOnLine(t,e){let n=this._textLines[t],r,s,o=this._getLineLeftOffset(t),a=0;for(let l=0,c=n.length;l<c;l++)if(r=this.__charBounds[t][l].width,o+=r,o>e){s=!0;let u=o-r,d=o,h=Math.abs(u-e);a=Math.abs(d-e)<h?l:l-1;break}return s||(a=n.length-1),a}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,e){let n=this["get".concat(t,"CursorOffset")](e,this._selectionDirection===Lt);if(e.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){let r=this.text.length;this.selectionStart=Lo(0,this.selectionStart,r),this.selectionEnd=Lo(0,this.selectionEnd,r),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){let e=this._selectionDirection===dt?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,e,n){let r;if(t.altKey)r=this["findWordBoundary".concat(n)](this[e]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[e]+=n==="Left"?-1:1,!0;r=this["findLineBoundary".concat(n)](this[e])}return r!==void 0&&this[e]!==r&&(this[e]=r,!0)}_moveLeft(t,e){return this._move(t,e,"Left")}_moveRight(t,e){return this._move(t,e,"Right")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=dt,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===Lt&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=dt,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,e){let n="moveCursor".concat(t).concat(e.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===dt&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Lt,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=Lt,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}},Ny=i=>!!i.button,v_=class extends m_{constructor(){super(...arguments),x(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new f_(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}onMouseDown(t){if(!this.canvas)return;this.__newClickTime=+new Date;let e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),Yy(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y}doubleClickHandler(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))}tripleClickHandler(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))}_mouseDownHandler(t){let{e}=t;this.canvas&&this.editable&&!Ny(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(t){let{e}=t;this.canvas&&this.editable&&!Ny(e)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(t){let{e,transform:n}=t,r=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);let s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||Ny(e)||r||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(t){let e=this.getSelectionStartFromPointer(t),n=this.selectionStart,r=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(n,r,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){let e=this.canvas.getScenePoint(t).transform(jn(this.calcTransformMatrix())).add(new P(-this._getLeftOffset(),-this._getTopOffset())),n=0,r=0,s=0;for(let c=0;c<this._textLines.length&&n<=e.y;c++)n+=this.getHeightOfLine(c),s=c,c>0&&(r+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));let o=Math.abs(this._getLineLeftOffset(s)),a=this._textLines[s].length,l=this.__charBounds[s];for(let c=0;c<a;c++){let u=o+l[c].kernedWidth;if(e.x<=u){Math.abs(e.x-u)<=Math.abs(e.x-o)&&r++;break}o=u,r++}return Math.min(this.flipX?a-r:r,this._text.length)}},op="moveCursorUp",ap="moveCursorDown",lp="moveCursorLeft",cp="moveCursorRight",up="exitEditing",SH=S({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:up,27:up,33:op,34:ap,35:cp,36:lp,37:lp,38:op,39:cp,40:ap},keysMapRtl:{9:up,27:up,33:op,34:ap,35:lp,36:cp,37:cp,38:op,39:lp,40:ap},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1}),Ai=class i extends v_{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}get type(){let t=super.type;return t==="itext"?"i-text":t}constructor(t,e){super(t,S(S({},i.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(t==="canvas"&&(this.canvas instanceof ol&&this.canvas.textEditingManager.remove(this),e instanceof ol&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,n)}setSelectionStyles(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,n)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){let e=this.isEditing;this.isEditing=!1;let n=super.toCanvasElement(t);return this.isEditing=e,n}renderCursorOrSelection(){if(!this.isEditing)return;let t=this.clearContextTop(!0);if(!t)return;let e=this._getCursorBoundaries();this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),this.canvas.contextTopDirty=!0,t.restore()}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0,n=this._getLeftOffset(),r=this._getTopOffset(),s=this._getCursorBoundariesOffsets(t,e);return{left:n,top:r,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,n=0,{charIndex:r,lineIndex:s}=this.get2DCursorLocation(t);for(let c=0;c<s;c++)e+=this.getHeightOfLine(c);let o=this._getLineLeftOffset(s),a=this.__charBounds[s][r];a&&(n=a.left),this.charSpacing!==0&&r===this._textLines[s].length&&(n-=this._getWidthOfCharSpacing());let l={top:e,left:o+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===Lt||this.textAlign===ur||this.textAlign===Bc?l.left*=-1:this.textAlign===dt||this.textAlign===Vp?l.left=o-(n>0?n:0):this.textAlign!==Ae&&this.textAlign!==Hc||(l.left=o-(n>0?n:0))),l}renderCursorAt(t){let e=this._getCursorBoundaries(t,!0);this._renderCursor(this.canvas.contextTop,e,t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}_renderCursor(t,e,n){let r=this.get2DCursorLocation(n),s=r.lineIndex,o=r.charIndex>0?r.charIndex-1:0,a=this.getValueOfPropertyAt(s,o,"fontSize"),l=this.getObjectScaling().x*this.canvas.getZoom(),c=this.cursorWidth/l,u=this.getValueOfPropertyAt(s,o,"deltaY"),d=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(s)/this.lineHeight-a*(1-this._fontSizeFraction);this.inCompositionMode&&this.renderSelection(t,e),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(s,o,Nt),t.globalAlpha=this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-c/2,d+e.top+u,c,a)}renderSelection(t,e){let n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,n,e)}renderDragSourceEffect(){let t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){let e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,n){let r=e.selectionStart,s=e.selectionEnd,o=this.textAlign.includes(ur),a=this.get2DCursorLocation(r),l=this.get2DCursorLocation(s),c=a.lineIndex,u=l.lineIndex,d=a.charIndex<0?0:a.charIndex,h=l.charIndex<0?0:l.charIndex;for(let p=c;p<=u;p++){let f=this._getLineLeftOffset(p)||0,y=this.getHeightOfLine(p),_=0,b=0,T=0;if(p===c&&(b=this.__charBounds[c][d].left),p>=c&&p<u)T=o&&!this.isEndOfWrapping(p)?this.width:this.getLineWidth(p)||5;else if(p===u)if(h===0)T=this.__charBounds[u][h].left;else{let Z=this._getWidthOfCharSpacing();T=this.__charBounds[u][h-1].left+this.__charBounds[u][h-1].width-Z}_=y,(this.lineHeight<1||p===u&&this.lineHeight>1)&&(y/=this.lineHeight);let R=n.left+f+b,F=y,$=0,G=T-b;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",F=1,$=y):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Lt||this.textAlign===ur||this.textAlign===Bc?R=this.width-R-G:this.textAlign===dt||this.textAlign===Vp?R=n.left+f-T:this.textAlign!==Ae&&this.textAlign!==Hc||(R=n.left+f-T)),t.fillRect(R,n.top+n.topOffset+$,G,F),n.topOffset+=_}}getCurrentCharFontSize(){let t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){let t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,Nt)}_getCurrentCharIndex(){let t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this._exitEditing(),this.draggableTextDelegate.dispose(),super.dispose()}};x(Ai,"ownDefaults",SH),x(Ai,"type","IText"),ee.setClass(Ai),ee.setClass(Ai,"i-text");var el=class i extends Ai{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(t,e){super(t,S(S({},i.ownDefaults),e))}static createControls(){return{controls:eD()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(ur)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,n=0,r=0,s={};for(let o=0;o<t.graphemeLines.length;o++)t.graphemeText[r]===`
`&&o>0?(n=0,r++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[r])&&o>0&&(n++,r++),s[o]={line:e,offset:n},r+=t.graphemeLines[o].length,n+=t.graphemeLines[o].length;return s}styleHas(t,e){if(this._styleMap&&!this.isWrapping){let n=this._styleMap[e];n&&(e=n.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,n=0,r=t+1,s=!1,o=this._styleMap[t],a=this._styleMap[t+1];o&&(t=o.line,n=o.offset),a&&(r=a.line,s=r===t,e=a.offset);let l=t===void 0?this.styles:{line:this.styles[t]};for(let c in l)for(let u in l[c]){let d=parseInt(u,10);if(d>=n&&(!s||d<e))for(let h in l[c][u])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){let n=this._styleMap[t];if(!n)return{};t=n.line,e=n.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,n){let r=this._styleMap[t];super._setStyleDeclaration(r.line,r.offset+e,n)}_deleteStyleDeclaration(t,e){let n=this._styleMap[t];super._deleteStyleDeclaration(n.line,n.offset+e)}_getLineStyle(t){let e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){let e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;let n=this.getGraphemeDataForRender(t),r=[];for(let s=0;s<n.wordsData.length;s++)r.push(...this._wrapLine(s,e,n));return this.isWrapping=!1,r}getGraphemeDataForRender(t){let e=this.splitByGrapheme,n=e?"":" ",r=0;return{wordsData:t.map((s,o)=>{let a=0,l=e?this.graphemeSplit(s):this.wordSplit(s);return l.length===0?[{word:[],width:0}]:l.map(c=>{let u=e?[c]:this.graphemeSplit(c),d=this._measureWord(u,o,a);return r=Math.max(d,r),a+=u.length+n.length,{word:u,width:d}})}),largestWordWidth:r}}_measureWord(t,e){let n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let o=0,a=t.length;o<a;o++)s+=this._getGraphemeBox(t[o],e,o+r,n,!0).kernedWidth,n=t[o];return s}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,n){let{largestWordWidth:r,wordsData:s}=n,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,c=[],u=l?"":" ",d=0,h=[],p=0,f=0,y=!0;e-=o;let _=Math.max(e,r,this.dynamicMinWidth),b=s[t],T;for(p=0,T=0;T<b.length;T++){let{word:R,width:F}=b[T];p+=R.length,d+=f+F-a,d>_&&!y?(c.push(h),h=[],d=F,y=!0):d+=a,y||l||h.push(u),h=h.concat(R),f=l?0:this._measureWord([u],t,p),p++,y=!1}return T&&c.push(h),r+o>this.dynamicMinWidth&&(this.dynamicMinWidth=r-a+o),c}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){let e=super._splitTextIntoLines(t),n=this._wrapText(e.lines,this.width),r=new Array(n.length);for(let s=0;s<n.length;s++)r[s]=n[s].join("");return e.lines=r,e.graphemeLines=n,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){let t=new Map;for(let e in this._styleMap){let n=parseInt(e,10);if(this._textLines[n]){let r=this._styleMap[e].line;t.set("".concat(r),!0)}}for(let e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}};x(el,"type","Textbox"),x(el,"textLayoutProperties",[...Ai.textLayoutProperties,"width"]),x(el,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),ee.setClass(el);var Bp=class extends sl{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){let{target:n}=t,{clipPath:r,group:s}=n;if(!r||!this.shouldPerformLayout(t))return;let{width:o,height:a}=dr(lD(n,r)),l=new P(o,a);if(r.absolutePositioned)return{center:Vr(r.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:l};{let c=r.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){let{center:u=new P,correction:d=new P}=this.calcBoundingBox(e,t)||{};return{center:u.add(c),correction:d.subtract(c),size:l}}return{center:n.getRelativeCenterPoint().add(c),size:l}}}};x(Bp,"type","clip-path"),ee.setClass(Bp);var Hp=class extends sl{getInitialSize(t,e){let{target:n}=t,{size:r}=e;return new P(n.width||r.x,n.height||r.y)}};x(Hp,"type","fixed"),ee.setClass(Hp);var y_=class extends No{subscribeTargets(t){let e=t.target;t.targets.reduce((n,r)=>(r.parent&&n.add(r.parent),n),new Set).forEach(n=>{n.layoutManager.subscribeTargets({target:n,targets:[e]})})}unsubscribeTargets(t){let e=t.target,n=e.getObjects();t.targets.reduce((r,s)=>(s.parent&&r.add(s.parent),r),new Set).forEach(r=>{!n.some(s=>s.parent===r)&&r.layoutManager.unsubscribeTargets({target:r,targets:[e]})})}},ki=class i extends Sn{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,i.ownDefaults),this.setOptions(e);let{left:n,top:r,layoutManager:s}=e;this.groupInit(t,{left:n,top:r,layoutManager:s??new y_})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...e):e.forEach(r=>{let s=this._objects.findIndex(a=>a.isInFrontOf(r)),o=s===-1?this.size():s;this.insertAt(o,r)})}canEnterGroup(t){return this.getObjects().some(e=>e.isDescendantOf(t)||t.isDescendantOf(e))?(jr("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);let n=new Set;e.forEach(r=>{let{parent:s}=r;s&&n.add(s)}),t===z_?n.forEach(r=>{r._onAfterObjectsChange(kp,e)}):n.forEach(r=>{r._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,n){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;let r=S(S({hasControls:!1},n),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(t,r);super._renderControls(t,e),t.restore()}};x(ki,"type","ActiveSelection"),x(ki,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),ee.setClass(ki),ee.setClass(ki,"activeSelection");var __=class{constructor(){x(this,"resources",{})}applyFilters(t,e,n,r,s){let o=s.getContext("2d");if(!o)return;o.drawImage(e,0,0,n,r);let a={sourceWidth:n,sourceHeight:r,imageData:o.getImageData(0,0,n,r),originalEl:e,originalImageData:o.getImageData(0,0,n,r),canvasEl:s,ctx:o,filterBackend:this};t.forEach(c=>{c.applyTo(a)});let{imageData:l}=a;return l.width===n&&l.height===r||(s.width=l.width,s.height=l.height),o.putImageData(l,0,0),a}},Up=class{constructor(){let{tileSize:t=qe.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};x(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),x(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){let n=Vt();n.width=t,n.height=e;let r=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});r&&(r.clearColor(0,0,0,0),this.canvas=n,this.gl=r)}applyFilters(t,e,n,r,s,o){let a=this.gl,l=s.getContext("2d");if(!a||!l)return;let c;o&&(c=this.getCachedTexture(o,e));let u={originalWidth:e.width||e.originalWidth||0,originalHeight:e.height||e.originalHeight||0,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:a,sourceTexture:this.createTexture(a,n,r,c?void 0:e),targetTexture:this.createTexture(a,n,r),originalTexture:c||this.createTexture(a,n,r,c?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},d=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,d),t.forEach(h=>{h&&h.applyTo(u)}),function(h){let p=h.targetCanvas,f=p.width,y=p.height,_=h.destinationWidth,b=h.destinationHeight;f===_&&y===b||(p.width=_,p.height=b)}(u),this.copyGLTo2D(a,u),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(u.sourceTexture),a.deleteTexture(u.targetTexture),a.deleteFramebuffer(d),l.setTransform(1,0,0,1,0,0),u}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,n,r,s){let{NEAREST:o,TEXTURE_2D:a,RGBA:l,UNSIGNED_BYTE:c,CLAMP_TO_EDGE:u,TEXTURE_MAG_FILTER:d,TEXTURE_MIN_FILTER:h,TEXTURE_WRAP_S:p,TEXTURE_WRAP_T:f}=t,y=t.createTexture();return t.bindTexture(a,y),t.texParameteri(a,d,s||o),t.texParameteri(a,h,s||o),t.texParameteri(a,p,u),t.texParameteri(a,f,u),r?t.texImage2D(a,0,l,l,c,r):t.texImage2D(a,0,l,e,n,0,l,c,null),y}getCachedTexture(t,e,n){let{textureCache:r}=this;if(r[t])return r[t];{let s=this.createTexture(this.gl,e.width,e.height,e,n);return s&&(r[t]=s),s}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){let n=t.canvas,r=e.targetCanvas,s=r.getContext("2d");if(!s)return;s.translate(0,r.height),s.scale(1,-1);let o=n.height-r.height;s.drawImage(n,0,o,r.width,r.height,0,0,r.width,r.height)}copyGLTo2DPutImageData(t,e){let n=e.targetCanvas.getContext("2d"),r=e.destinationWidth,s=e.destinationHeight,o=r*s*4;if(!n)return;let a=new Uint8Array(this.imageBuffer,0,o),l=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,r,s,t.RGBA,t.UNSIGNED_BYTE,a);let c=new ImageData(l,r,s);n.putImageData(c,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;let t=this.gl,e={renderer:"",vendor:""};if(!t)return e;let n=t.getExtension("WEBGL_debug_renderer_info");if(n){let r=t.getParameter(n.UNMASKED_RENDERER_WEBGL),s=t.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(e.renderer=r.toLowerCase()),s&&(e.vendor=s.toLowerCase())}return this.gpuInfo=e,e}},Vy;function EH(){let{WebGLProbe:i}=hr();return i.queryWebGL(Vt()),qe.enableGLFiltering&&i.isSupported(qe.textureSize)?new Up({tileSize:qe.textureSize}):new __}function jy(){return!Vy&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Vy=EH()),Vy}var TH=["filters","resizeFilter","src","crossOrigin","type"],PD=["cropX","cropY"],ei=class i extends kt{static getDefaults(){return S(S({},super.getDefaults()),i.ownDefaults)}constructor(t,e){super(),x(this,"_lastScaleX",1),x(this,"_lastScaleY",1),x(this,"_filterScalingX",1),x(this,"_filterScalingY",1),this.filters=[],Object.assign(this,i.ownDefaults),this.setOptions(e),this.cacheKey="texture".concat(Ts()),this.setElement(typeof t=="string"?(this.canvas&&Mi(this.canvas.getElement())||al()).getElementById(t):t,e)}getElement(){return this._element}setElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(e),t.classList.add(i.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){let e=jy(!1);e instanceof Up&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{let e=this[t];e&&hr().dispose(e),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){let t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;let e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[];return this.filters.forEach(n=>{n&&e.push(n.toObject())}),S(S({},super.toObject([...PD,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let t=[],e=this._element,n=-this.width/2,r=-this.height/2,s=[],o=[],a="",l="";if(!e)return[];if(this.hasCrop()){let c=Ts();s.push('<clipPath id="imageCrop_'+c+`">
`,'	<rect x="'+n+'" y="'+r+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),a=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(r-this.cropY,'" width="').concat(e.width||e.naturalWidth,'" height="').concat(e.height||e.naturalHeight,'"').concat(l).concat(a,`></image>
`)),this.stroke||this.strokeDashArray){let c=this.fill;this.fill=null,o=['	<rect x="'.concat(n,'" y="').concat(r,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=c}return s=this.paintFirst!==Nt?s.concat(o,t):s.concat(t,o),s}getSrc(t){let e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src")||"":e.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return jc(t,{crossOrigin:e,signal:n}).then(r=>{e!==void 0&&this.set({crossOrigin:e}),this.setElement(r)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){let t=this.resizeFilter,e=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.x,s=n.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>e&&s>e)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=s);let a=Vt(),l=o.width,c=o.height;a.width=l,a.height=c,this._element=a,this._lastScaleX=t.scaleX=r,this._lastScaleY=t.scaleY=s,jy().applyFilters([t],o,l,c,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);let e=this._originalElement,n=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if(this._element===this._originalElement){let s=Vt();s.width=n,s.height=r,this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1);jy().applyFilters(t,this._originalElement,n,r,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){let e=this._element;if(!e)return;let n=this._filterScalingX,r=this._filterScalingY,s=this.width,o=this.height,a=Math.max(this.cropX,0),l=Math.max(this.cropY,0),c=e.naturalWidth||e.width,u=e.naturalHeight||e.height,d=a*n,h=l*r,p=Math.min(s*n,c-d),f=Math.min(o*r,u-h),y=-s/2,_=-o/2,b=Math.min(s,c/n-a),T=Math.min(o,u/r-l);e&&t.drawImage(e,d,h,p,f,y,_,b,T)}_needsResize(){let t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this.getOriginalSize();this.width=t||n.width,this.height=e||n.height}parsePreserveAspectRatioAttribute(){let t=k_(this.preserveAspectRatio||""),e=this.width,n=this.height,r={width:e,height:n},s,o=this._element.width,a=this._element.height,l=1,c=1,u=0,d=0,h=0,p=0;return!t||t.alignX===xn&&t.alignY===xn?(l=e/o,c=n/a):(t.meetOrSlice==="meet"&&(l=c=uD(this._element,r),s=(e-o*l)/2,t.alignX==="Min"&&(u=-s),t.alignX==="Max"&&(u=s),s=(n-a*c)/2,t.alignY==="Min"&&(d=-s),t.alignY==="Max"&&(d=s)),t.meetOrSlice==="slice"&&(l=c=dD(this._element,r),s=o-e/l,t.alignX==="Mid"&&(h=s/2),t.alignX==="Max"&&(h=s),s=a-n/c,t.alignY==="Mid"&&(p=s/2),t.alignY==="Max"&&(p=s),o=e/l,a=n/c)),{width:o,height:a,scaleX:l,scaleY:c,offsetLeft:u,offsetTop:d,cropX:h,cropY:p}}static fromObject(t,e){let{filters:n,resizeFilter:r,src:s,crossOrigin:o,type:a}=t,l=_t(t,TH);return Promise.all([jc(s,S(S({},e),{},{crossOrigin:o})),n&&il(n,e),r&&il([r],e),Zc(l,e)]).then(c=>{let[u,d=[],[h]=[],p={}]=c;return new this(u,S(S({},l),{},{src:s,filters:d,resizeFilter:h},p))})}static fromURL(t){let{crossOrigin:e=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return jc(t,{crossOrigin:e,signal:n}).then(s=>new this(s,r))}static fromElement(e){return rt(this,arguments,function*(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=Ur(t,this.ATTRIBUTE_NAMES,r);return this.fromURL(s["xlink:href"],n,s).catch(o=>(jr("log","Unable to parse Image",o),null))})}};function By(i){if(!iB.test(i.nodeName))return{};let t=i.getAttribute("viewBox"),e,n,r=1,s=1,o=0,a=0,l=i.getAttribute("width"),c=i.getAttribute("height"),u=i.getAttribute("x")||0,d=i.getAttribute("y")||0,h=!(t&&GE.test(t)),p=!l||!c||l==="100%"||c==="100%",f="",y=0,_=0;if(h&&(u||d)&&i.parentNode&&i.parentNode.nodeName!=="#document"&&(f=" translate("+Cn(u||"0")+" "+Cn(d||"0")+") ",e=(i.getAttribute("transform")||"")+f,i.setAttribute("transform",e),i.removeAttribute("x"),i.removeAttribute("y")),h&&p)return{width:0,height:0};let b={width:0,height:0};if(h)return b.width=Cn(l),b.height=Cn(c),b;let T=t.match(GE);o=-parseFloat(T[1]),a=-parseFloat(T[2]);let R=parseFloat(T[3]),F=parseFloat(T[4]);b.minX=o,b.minY=a,b.viewBoxWidth=R,b.viewBoxHeight=F,p?(b.width=R,b.height=F):(b.width=Cn(l),b.height=Cn(c),r=b.width/R,s=b.height/F);let $=k_(i.getAttribute("preserveAspectRatio")||"");if($.alignX!==xn&&($.meetOrSlice==="meet"&&(s=r=r>s?s:r),$.meetOrSlice==="slice"&&(s=r=r>s?r:s),y=b.width-R*r,_=b.height-F*r,$.alignX==="Mid"&&(y/=2),$.alignY==="Mid"&&(_/=2),$.alignX==="Min"&&(y=0),$.alignY==="Min"&&(_=0)),r===1&&s===1&&o===0&&a===0&&u===0&&d===0)return b;if((u||d)&&i.parentNode.nodeName!=="#document"&&(f=" translate("+Cn(u||"0")+" "+Cn(d||"0")+") "),e=f+" matrix("+r+" 0 0 "+s+" "+(o*r+y)+" "+(a*s+_)+") ",i.nodeName==="svg"){for(n=i.ownerDocument.createElementNS(Xy,"g");i.firstChild;)n.appendChild(i.firstChild);i.appendChild(n)}else n=i,n.removeAttribute("x"),n.removeAttribute("y"),e=n.getAttribute("transform")+e;return n.setAttribute("transform",e),b}x(ei,"type","Image"),x(ei,"cacheProperties",[...Hr,...PD]),x(ei,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),x(ei,"CSS_CANVAS","canvas-img"),x(ei,"ATTRIBUTE_NAMES",[...As,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),ee.setClass(ei),ee.setSVGClass(ei);var zp=i=>i.tagName.replace("svg:",""),DH=Qp(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);function FD(i,t){let e,n,r,s,o=[];for(r=0,s=t.length;r<s;r++)e=t[r],n=i.getElementsByTagNameNS("http://www.w3.org/2000/svg",e),o=o.concat(Array.from(n));return o}var MH=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Hy="xlink:href";function RD(i,t){var e;let n=((e=t.getAttribute(Hy))===null||e===void 0?void 0:e.slice(1))||"",r=i.getElementById(n);if(r&&r.getAttribute(Hy)&&RD(i,r),r&&(MH.forEach(s=>{let o=r.getAttribute(s);!t.hasAttribute(s)&&o&&t.setAttribute(s,o)}),!t.children.length)){let s=r.cloneNode(!0);for(;s.firstChild;)t.appendChild(s.firstChild)}t.removeAttribute(Hy)}var OH=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"];function AH(i){let t=i.getElementsByTagName("style"),e,n,r={};for(e=0,n=t.length;e<n;e++){let s=(t[e].textContent||"").replace(/\/\*[\s\S]*?\*\//g,"");s.trim()!==""&&s.split("}").filter((o,a,l)=>l.length>1&&o.trim()).forEach(o=>{if((o.match(/{/g)||[]).length>1&&o.trim().startsWith("@"))return;let a=o.split("{"),l={},c=a[1].trim().split(";").filter(function(u){return u.trim()});for(e=0,n=c.length;e<n;e++){let u=c[e].split(":"),d=u[0].trim(),h=u[1].trim();l[d]=h}(o=a[0].trim()).split(",").forEach(u=>{(u=u.replace(/^svg/i,"").trim())!==""&&(r[u]=S(S({},r[u]||{}),l))})})}return r}var lT=i=>ee.getSVGClass(zp(i).toLowerCase()),b_=class{constructor(t,e,n,r,s){this.elements=t,this.options=e,this.reviver=n,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=r,this.clipPaths=s,this.gradientDefs=function(o){let a=FD(o,OH),l={},c=a.length;for(;c--;){let u=a[c];u.getAttribute("xlink:href")&&RD(o,u);let d=u.getAttribute("id");d&&(l[d]=u)}return l}(r),this.cssRules=AH(r)}parse(){return Promise.all(this.elements.map(t=>this.createObject(t)))}createObject(t){return rt(this,null,function*(){let e=lT(t);if(e){let n=yield e.fromElement(t,this.options,this.cssRules);return this.resolveGradient(n,t,Nt),this.resolveGradient(n,t,In),n instanceof ei&&n._originalElement?fp(n,n.parsePreserveAspectRatioAttribute()):fp(n),yield this.resolveClipPath(n,t),this.reviver&&this.reviver(t,n),n}return null})}extractPropertyDefinition(t,e,n){let r=t[e],s=this.regexUrl;if(!s.test(r))return;s.lastIndex=0;let o=s.exec(r)[1];return s.lastIndex=0,n[o]}resolveGradient(t,e,n){let r=this.extractPropertyDefinition(t,n,this.gradientDefs);if(r){let s=e.getAttribute(n+"-opacity"),o=mo.fromElement(r,t,S(S({},this.options),{},{opacity:s}));t.set(n,o)}}resolveClipPath(t,e){return rt(this,null,function*(){let n=this.extractPropertyDefinition(t,"clipPath",this.clipPaths);if(n){let r=jn(t.calcTransformMatrix()),s=n[0].parentElement,o=e;for(;o.parentElement&&o.getAttribute("clip-path")!==t.clipPath;)o=o.parentElement;o.parentElement.appendChild(s);let a=Ap("".concat(o.getAttribute("transform")||""," ").concat(s.getAttribute("originalTransform")||""));s.setAttribute("transform","matrix(".concat(a.join(","),")"));let l=yield Promise.all(n.map(b=>lT(b).fromElement(b,this.options,this.cssRules).then(T=>(fp(T),T.fillRule=T.clipRule,delete T.clipRule,T)))),c=l.length===1?l[0]:new Sn(l),u=St(r,c.calcTransformMatrix());c.clipPath&&(yield this.resolveClipPath(c,o));let{scaleX:d,scaleY:h,angle:p,skewX:f,translateX:y,translateY:_}=Ro(u);c.set({flipX:!1,flipY:!1}),c.set({scaleX:d,scaleY:h,angle:p,skewX:f,skewY:0}),c.setPositionByOrigin(new P(y,_),Ae,Ae),t.clipPath=c}else delete t.clipPath})}},cT=i=>nB.test(zp(i)),uT=()=>({objects:[],elements:[],options:{},allElements:[]});function kH(e,n){return rt(this,arguments,function*(i,t){let{crossOrigin:r,signal:s}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s&&s.aborted)return jr("log",new Uc("parseSVGDocument")),uT();let o=i.documentElement;(function(h){let p=FD(h,["use","svg:use"]),f=["x","y","xlink:href","href","transform"];for(let y of p){let _=y.attributes,b={};for(let He of _)He.value&&(b[He.name]=He.value);let T=(b["xlink:href"]||b.href||"").slice(1);if(T==="")return;let R=h.getElementById(T);if(R===null)return;let F=R.cloneNode(!0),$=F.attributes,G={};for(let He of $)He.value&&(G[He.name]=He.value);let{x:Z=0,y:q=0,transform:Ne=""}=b,Ye="".concat(Ne," ").concat(G.transform||""," translate(").concat(Z,", ").concat(q,")");if(By(F),/^svg$/i.test(F.nodeName)){let He=F.ownerDocument.createElementNS(Xy,"g");Object.entries(G).forEach(Ue=>{let[Be,Ze]=Ue;return He.setAttributeNS(Xy,Be,Ze)}),He.append(...F.childNodes),F=He}for(let He of _){if(!He)continue;let{name:Ue,value:Be}=He;if(!f.includes(Ue))if(Ue==="style"){let Ze={};o_(Be,Ze),Object.entries(G).forEach(W=>{let[te,K]=W;Ze[te]=K}),o_(G.style||"",Ze);let Wt=Object.entries(Ze).map(W=>W.join(":")).join(";");F.setAttribute(Ue,Wt)}else!G[Ue]&&F.setAttribute(Ue,Be)}F.setAttribute("transform",Ye),F.setAttribute("instantiated_by_use","1"),F.removeAttribute("id"),y.parentNode.replaceChild(F,y)}})(i);let a=Array.from(o.getElementsByTagName("*")),l=S(S({},By(o)),{},{crossOrigin:r,signal:s}),c=a.filter(h=>(By(h),cT(h)&&!function(p){let f=p;for(;f&&(f=f.parentElement);)if(f&&f.nodeName&&DH.test(zp(f))&&!f.getAttribute("instantiated_by_use"))return!0;return!1}(h)));if(!c||c&&!c.length)return S(S({},uT()),{},{options:l,allElements:a});let u={};return a.filter(h=>zp(h)==="clipPath").forEach(h=>{h.setAttribute("originalTransform",h.getAttribute("transform")||"");let p=h.getAttribute("id");u[p]=Array.from(h.getElementsByTagName("*")).filter(f=>cT(f))}),{objects:yield new b_(c,l,t,i,u).parse(),elements:c,options:l,allElements:a}})}function LD(i,t,e){return kH(new(Xc()).DOMParser().parseFromString(i.trim(),"text/xml"),t,e)}var ND=vT,dT=i=>function(t,e,n){let{points:r,pathOffset:s}=n;return new P(r[i]).subtract(s).transform(St(n.getViewportTransform(),n.calcTransformMatrix()))},VD=(i,t,e,n)=>{let{target:r,pointIndex:s}=t,o=r,a=Vr(new P(e,n),void 0,o.calcOwnMatrix());return o.points[s]=a.add(o.pathOffset),o.setDimensions(),!0},jD=(i,t)=>function(e,n,r,s){let o=n.target,a=new P(o.points[(i>0?i:o.points.length)-1]),l=a.subtract(o.pathOffset).transform(o.calcOwnMatrix()),c=t(e,S(S({},n),{},{pointIndex:i}),r,s),u=a.subtract(o.pathOffset).transform(o.calcOwnMatrix()).subtract(l);return o.left-=u.x,o.top-=u.y,c},hT=i=>Os(ND,jD(i,VD)),C_=(i,t,e)=>{let{path:n,pathOffset:r}=i,s=n[t];return new P(s[e]-r.x,s[e+1]-r.y).transform(St(i.getViewportTransform(),i.calcTransformMatrix()))};function PH(i,t,e){let{commandIndex:n,pointIndex:r}=this;return C_(e,n,r)}function FH(i,t,e,n){let{target:r}=t,{commandIndex:s,pointIndex:o}=this,a=((l,c,u,d,h)=>{let{path:p,pathOffset:f}=l,y=p[(d>0?d:p.length)-1],_=new P(y[h],y[h+1]),b=_.subtract(f).transform(l.calcOwnMatrix()),T=Vr(new P(c,u),void 0,l.calcOwnMatrix());p[d][h]=T.x+f.x,p[d][h+1]=T.y+f.y,l.setDimensions();let R=_.subtract(l.pathOffset).transform(l.calcOwnMatrix()).subtract(b);return l.left-=R.x,l.top-=R.y,l.set("dirty",!0),!0})(r,e,n,s,o);return F_(this.actionName,S(S({},R_(i,t,e,n)),{},{commandIndex:s,pointIndex:o})),a}var $p=class extends bn{constructor(t){super(t)}render(t,e,n,r,s){let o=S(S({},r),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(t,e,n,o,s)}},w_=class extends $p{constructor(t){super(t)}render(t,e,n,r,s){let{path:o}=s,{commandIndex:a,pointIndex:l,connectToCommandIndex:c,connectToPointIndex:u}=this;t.save(),t.strokeStyle=this.controlStroke,this.connectionDashArray&&t.setLineDash(this.connectionDashArray);let[d]=o[a],h=C_(s,c,u);if(d==="Q"){let p=C_(s,a,l+2);t.moveTo(p.x,p.y),t.lineTo(e,n)}else t.moveTo(e,n);t.lineTo(h.x,h.y),t.stroke(),t.restore(),super.render(t,e,n,r,s)}},dp=(i,t,e,n,r,s)=>new(e?w_:$p)(S(S({commandIndex:i,pointIndex:t,actionName:"modifyPath",positionHandler:PH,actionHandler:FH,connectToCommandIndex:r,connectToPointIndex:s},n),e?n.controlPointStyle:n.pointStyle)),Mie=Object.freeze({__proto__:null,changeWidth:i_,createObjectDefaultControls:B_,createPathControls:function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={},n="M";return i.path.forEach((r,s)=>{let o=r[0];switch(o!=="Z"&&(e["c_".concat(s,"_").concat(o)]=dp(s,r.length-2,!1,t)),o){case"C":e["c_".concat(s,"_C_CP_1")]=dp(s,1,!0,t,s-1,(a=>a==="C"?5:a==="Q"?3:1)(n)),e["c_".concat(s,"_C_CP_2")]=dp(s,3,!0,t,s,5);break;case"Q":e["c_".concat(s,"_Q_CP_1")]=dp(s,1,!0,t,s,3)}n=o}),e},createPolyActionHandler:hT,createPolyControls:function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={};for(let n=0;n<(typeof i=="number"?i:i.points.length);n++)e["p".concat(n)]=new bn(S({actionName:ND,positionHandler:dT(n),actionHandler:hT(n)},t));return e},createPolyPositionHandler:dT,createResizeControls:JT,createTextboxDefaultControls:eD,dragHandler:RT,factoryPolyActionHandler:jD,getLocalPoint:Xp,polyActionHandler:VD,renderCircleControl:HT,renderSquareControl:UT,rotationStyleHandler:zT,rotationWithSnapping:$T,scaleCursorStyleHandler:Qa,scaleOrSkewActionName:Lc,scaleSkewCursorStyleHandler:go,scalingEqually:Rc,scalingX:qT,scalingXOrSkewingY:r_,scalingY:YT,scalingYOrSkewingX:s_,skewCursorStyleHandler:KT,skewHandlerX:QT,skewHandlerY:ZT,wrapWithFireEvent:Os,wrapWithFixedAnchor:jo}),nf=i=>i.webgl!==void 0;var W_="precision highp float",RH=`
    `.concat(W_,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),LH=["type"],NH=["type"],VH=new RegExp(W_,"g"),Pt=class{get type(){return this.constructor.type}constructor(){let t=_t(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},LH);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return RH}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource(),{WebGLProbe:{GLPrecision:r="highp"}}=hr();r!=="highp"&&(e=e.replace(VH,W_.replace("highp",r)));let s=t.createShader(t.VERTEX_SHADER),o=t.createShader(t.FRAGMENT_SHADER),a=t.createProgram();if(!s||!o||!a)throw new yi("Vertex, fragment shader or program creation error");if(t.shaderSource(s,n),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS))throw new yi("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(s)));if(t.shaderSource(o,e),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new yi("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(o)));if(t.attachShader(a,s),t.attachShader(a,o),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new yi('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(a)));let l=this.getUniformLocations(t,a)||{};return l.uStepW=t.getUniformLocation(a,"uStepW"),l.uStepH=t.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(t,a),uniformLocations:l}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}}getUniformLocations(t,e){let n=this.constructor.uniformLocations,r={};for(let s=0;s<n.length;s++)r[n[s]]=t.getUniformLocation(e,n[s]);return r}sendAttributeData(t,e,n){let r=e.aPosition,s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)}_setupFrameBuffer(t){let e=t.context;if(t.passes>1){let n=t.destinationWidth,r=t.destinationHeight;t.sourceWidth===n&&t.sourceHeight===r||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,n,r)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;let e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){nf(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){let e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){let e=t.context,n=this.retrieveShader(t);t.pass===0&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(n.program),this.sendAttributeData(e,n.attributeLocations,t.aPosition),e.uniform1f(n.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(n.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,n.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,n){t.activeTexture(n),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){let e=Vt();e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}}toObject(){let t=Object.keys(this.constructor.defaults||{});return S({type:this.type},t.reduce((e,n)=>(e[n]=this[n],e),{}))}toJSON(){return this.toObject()}static fromObject(t,e){return rt(this,null,function*(){return new this(_t(t,NH))})}};x(Pt,"type","BaseFilter"),x(Pt,"uniformLocations",[]);var jH={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `},vo=class extends Pt{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(jH[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:e}}=t,n=new un(this.color).getSource(),r=n[0]*this.alpha,s=n[1]*this.alpha,o=n[2]*this.alpha,a=1-this.alpha;for(let l=0;l<e.length;l+=4){let c=e[l],u=e[l+1],d=e[l+2];switch(this.mode){case"multiply":e[l]=c*r/255,e[l+1]=u*s/255,e[l+2]=d*o/255;break;case"screen":e[l]=255-(255-c)*(255-r)/255,e[l+1]=255-(255-u)*(255-s)/255,e[l+2]=255-(255-d)*(255-o)/255;break;case"add":e[l]=c+r,e[l+1]=u+s,e[l+2]=d+o;break;case"difference":e[l]=Math.abs(c-r),e[l+1]=Math.abs(u-s),e[l+2]=Math.abs(d-o);break;case"subtract":e[l]=c-r,e[l+1]=u-s,e[l+2]=d-o;break;case"darken":e[l]=Math.min(c,r),e[l+1]=Math.min(u,s),e[l+2]=Math.min(d,o);break;case"lighten":e[l]=Math.max(c,r),e[l+1]=Math.max(u,s),e[l+2]=Math.max(d,o);break;case"overlay":e[l]=r<128?2*c*r/255:255-2*(255-c)*(255-r)/255,e[l+1]=s<128?2*u*s/255:255-2*(255-u)*(255-s)/255,e[l+2]=o<128?2*d*o/255:255-2*(255-d)*(255-o)/255;break;case"exclusion":e[l]=r+c-2*r*c/255,e[l+1]=s+u-2*s*u/255,e[l+2]=o+d-2*o*d/255;break;case"tint":e[l]=r+c*a,e[l+1]=s+u*a,e[l+2]=o+d*a}}}sendUniformData(t,e){let n=new un(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,t.uniform4fv(e.uColor,n)}};x(vo,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),x(vo,"type","BlendColor"),x(vo,"uniformLocations",["uColor"]),ee.setClass(vo);var BH={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},HH=["type","image"],yo=class extends Pt{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return BH[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){let e=t.context,n=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,n,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){let t=this.image,{width:e,height:n}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/n,1]}applyTo2d(t){let{imageData:{data:e,width:n,height:r},filterBackend:{resources:s}}=t,o=this.image;s.blendImage||(s.blendImage=Vt());let a=s.blendImage,l=a.getContext("2d");a.width!==n||a.height!==r?(a.width=n,a.height=r):l.clearRect(0,0,n,r),l.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),l.drawImage(o.getElement(),0,0,n,r);let c=l.getImageData(0,0,n,r).data;for(let u=0;u<e.length;u+=4){let d=e[u],h=e[u+1],p=e[u+2],f=e[u+3],y=c[u],_=c[u+1],b=c[u+2],T=c[u+3];switch(this.mode){case"multiply":e[u]=d*y/255,e[u+1]=h*_/255,e[u+2]=p*b/255,e[u+3]=f*T/255;break;case"mask":e[u+3]=T}}}sendUniformData(t,e){let n=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,n)}toObject(){return S(S({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static fromObject(t,e){return rt(this,null,function*(){let{type:n,image:r}=t,s=_t(t,HH);return ei.fromObject(r,e).then(o=>new this(S(S({},s),{},{image:o})))})}};x(yo,"type","BlendImage"),x(yo,"defaults",{mode:"multiply",alpha:1}),x(yo,"uniformLocations",["uTransformMatrix","uImage"]),ee.setClass(yo);var _o=class extends Pt{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(t){nf(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){t.imageData=this.simpleBlur(t)}simpleBlur(t){let{ctx:e,imageData:n,filterBackend:{resources:r}}=t,{width:s,height:o}=n;r.blurLayer1||(r.blurLayer1=Vt(),r.blurLayer2=Vt());let a=r.blurLayer1,l=r.blurLayer2;a.width===s&&a.height===o||(l.width=a.width=s,l.height=a.height=o);let c=a.getContext("2d"),u=l.getContext("2d"),d=15,h=.06*this.blur*.5,p,f,y,_;for(c.putImageData(n,0,0),u.clearRect(0,0,s,o),_=-15;_<=d;_++)p=(Math.random()-.5)/4,f=_/d,y=h*f*s+p,u.globalAlpha=1-Math.abs(f),u.drawImage(a,y,p),c.drawImage(l,0,0),u.globalAlpha=1,u.clearRect(0,0,l.width,l.height);for(_=-15;_<=d;_++)p=(Math.random()-.5)/4,f=_/d,y=h*f*o+p,u.globalAlpha=1-Math.abs(f),u.drawImage(a,p,y),c.drawImage(l,0,0),u.globalAlpha=1,u.clearRect(0,0,l.width,l.height);e.drawImage(a,0,0);let b=e.getImageData(0,0,a.width,a.height);return c.globalAlpha=1,c.clearRect(0,0,a.width,a.height),b}sendUniformData(t,e){let n=this.chooseRightDelta();t.uniform2fv(e.uDelta,n)}isNeutralState(){return this.blur===0}chooseRightDelta(){let t=1,e=[0,0];this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio);let n=t*this.blur*.12;return this.horizontal?e[0]=n:e[1]=n,e}};x(_o,"type","Blur"),x(_o,"defaults",{blur:0}),x(_o,"uniformLocations",["uDelta"]),ee.setClass(_o);var bo=class extends Pt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,n=Math.round(255*this.brightness);for(let r=0;r<e.length;r+=4)e[r]=e[r]+n,e[r+1]=e[r+1]+n,e[r+2]=e[r+2]+n}isNeutralState(){return this.brightness===0}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}};x(bo,"type","Brightness"),x(bo,"defaults",{brightness:0}),x(bo,"uniformLocations",["uBrightness"]),ee.setClass(bo);var Nr=class extends Pt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){let e=t.imageData.data,n=this.matrix,r=this.colorsOnly;for(let s=0;s<e.length;s+=4){let o=e[s],a=e[s+1],l=e[s+2];if(r)e[s]=o*n[0]+a*n[1]+l*n[2]+255*n[4],e[s+1]=o*n[5]+a*n[6]+l*n[7]+255*n[9],e[s+2]=o*n[10]+a*n[11]+l*n[12]+255*n[14];else{let c=e[s+3];e[s]=o*n[0]+a*n[1]+l*n[2]+c*n[3]+255*n[4],e[s+1]=o*n[5]+a*n[6]+l*n[7]+c*n[8]+255*n[9],e[s+2]=o*n[10]+a*n[11]+l*n[12]+c*n[13]+255*n[14],e[s+3]=o*n[15]+a*n[16]+l*n[17]+c*n[18]+255*n[19]}}}sendUniformData(t,e){let n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],s=[n[4],n[9],n[14],n[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,r),t.uniform4fv(e.uConstants,s)}toObject(){return S(S({},super.toObject()),{},{matrix:[...this.matrix]})}};function Bo(i,t){var e;let n=(x(e=class extends Nr{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",i),x(e,"defaults",{colorsOnly:!1,matrix:t}),e);return ee.setClass(n,i),n}x(Nr,"type","ColorMatrix"),x(Nr,"defaults",{matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0}),x(Nr,"uniformLocations",["uColorMatrix","uConstants"]),ee.setClass(Nr);var UH=Bo("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),zH=Bo("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),$H=Bo("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),GH=Bo("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),WH=Bo("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),qH=Bo("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),YH=Bo("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]),Kc=class extends Pt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){nf(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(e=>{e.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,e){return Promise.all((t.subFilters||[]).map(n=>ee.getClass(n.type).fromObject(n,e))).then(n=>new this({subFilters:n}))}};x(Kc,"type","Composed"),ee.setClass(Kc);var Co=class extends Pt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:e}}=t,n=Math.floor(255*this.contrast),r=259*(n+255)/(255*(259-n));for(let s=0;s<e.length;s+=4)e[s]=r*(e[s]-128)+128,e[s+1]=r*(e[s+1]-128)+128,e[s+2]=r*(e[s+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}};x(Co,"type","Contrast"),x(Co,"defaults",{contrast:0}),x(Co,"uniformLocations",["uContrast"]),ee.setClass(Co);var KH={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `},wo=class extends Pt{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return KH[this.getCacheKey()]}applyTo2d(t){let e=t.imageData,n=e.data,r=this.matrix,s=Math.round(Math.sqrt(r.length)),o=Math.floor(s/2),a=e.width,l=e.height,c=t.ctx.createImageData(a,l),u=c.data,d=this.opaque?1:0,h,p,f,y,_,b,T,R,F,$,G,Z,q;for(G=0;G<l;G++)for($=0;$<a;$++){for(_=4*(G*a+$),h=0,p=0,f=0,y=0,q=0;q<s;q++)for(Z=0;Z<s;Z++)T=G+q-o,b=$+Z-o,T<0||T>=l||b<0||b>=a||(R=4*(T*a+b),F=r[q*s+Z],h+=n[R]*F,p+=n[R+1]*F,f+=n[R+2]*F,d||(y+=n[R+3]*F));u[_]=h,u[_+1]=p,u[_+2]=f,u[_+3]=d?n[_+3]:y}t.imageData=c}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return S(S({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}};x(wo,"type","Convolute"),x(wo,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),x(wo,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),ee.setClass(wo);var BD="Gamma",xo=class extends Pt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t,n=this.gamma,r=1/n[0],s=1/n[1],o=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});let a=this.rgbValues;for(let l=0;l<256;l++)a.r[l]=255*Math.pow(l/255,r),a.g[l]=255*Math.pow(l/255,s),a.b[l]=255*Math.pow(l/255,o);for(let l=0;l<e.length;l+=4)e[l]=a.r[e[l]],e[l+1]=a.g[e[l+1]],e[l+2]=a.b[e[l+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){let{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:BD,gamma:this.gamma.concat()}}};x(xo,"type",BD),x(xo,"defaults",{gamma:[1,1,1]}),x(xo,"uniformLocations",["uGamma"]),ee.setClass(xo);var XH={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `},Io=class extends Pt{applyTo2d(t){let{imageData:{data:e}}=t;for(let n,r=0;r<e.length;r+=4){switch(this.mode){case"average":n=(e[r]+e[r+1]+e[r+2])/3;break;case"lightness":n=(Math.min(e[r],e[r+1],e[r+2])+Math.max(e[r],e[r+1],e[r+2]))/2;break;case"luminosity":n=.21*e[r]+.72*e[r+1]+.07*e[r+2]}e[r]=n,e[r+1]=n,e[r+2]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return XH[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}};x(Io,"type","Grayscale"),x(Io,"defaults",{mode:"average"}),x(Io,"uniformLocations",["uMode"]),ee.setClass(Io);var nl=class extends Nr{calculateMatrix(){let t=this.rotation*Math.PI,e=Fi(t),n=Ri(t),r=1/3,s=Math.sqrt(r)*n,o=1-e;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=e+o/3,this.matrix[1]=r*o-s,this.matrix[2]=r*o+s,this.matrix[5]=r*o+s,this.matrix[6]=e+r*o,this.matrix[7]=r*o-s,this.matrix[10]=r*o-s,this.matrix[11]=r*o+s,this.matrix[12]=e+r*o}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}};x(nl,"type","HueRotation"),x(nl,"defaults",{rotation:0}),ee.setClass(nl);var So=class extends Pt{applyTo2d(t){let{imageData:{data:e}}=t;for(let n=0;n<e.length;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2],this.alpha&&(e[n+3]=255-e[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}};x(So,"type","Invert"),x(So,"defaults",{alpha:!1,invert:!0}),x(So,"uniformLocations",["uInvert","uAlpha"]),ee.setClass(So);var Eo=class extends Pt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,n=this.noise;for(let r=0;r<e.length;r+=4){let s=(.5-Math.random())*n;e[r]+=s,e[r+1]+=s,e[r+2]+=s}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return this.noise===0}};x(Eo,"type","Noise"),x(Eo,"defaults",{noise:0}),x(Eo,"uniformLocations",["uNoise","uSeed"]),ee.setClass(Eo);var To=class extends Pt{applyTo2d(t){let{imageData:{data:e,width:n,height:r}}=t;for(let s=0;s<r;s+=this.blocksize)for(let o=0;o<n;o+=this.blocksize){let a=4*s*n+4*o,l=e[a],c=e[a+1],u=e[a+2],d=e[a+3];for(let h=s;h<Math.min(s+this.blocksize,r);h++)for(let p=o;p<Math.min(o+this.blocksize,n);p++){let f=4*h*n+4*p;e[f]=l,e[f+1]=c,e[f+2]=u,e[f+3]=d}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}};x(To,"type","Pixelate"),x(To,"defaults",{blocksize:4}),x(To,"uniformLocations",["uBlocksize"]),ee.setClass(To);var Do=class extends Pt{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:e}}=t,n=255*this.distance,r=new un(this.color).getSource(),s=[r[0]-n,r[1]-n,r[2]-n],o=[r[0]+n,r[1]+n,r[2]+n];for(let a=0;a<e.length;a+=4){let l=e[a],c=e[a+1],u=e[a+2];l>s[0]&&c>s[1]&&u>s[2]&&l<o[0]&&c<o[1]&&u<o[2]&&(e[a+3]=0)}}sendUniformData(t,e){let n=new un(this.color).getSource(),r=this.distance,s=[0+n[0]/255-r,0+n[1]/255-r,0+n[2]/255-r,1],o=[n[0]/255+r,n[1]/255+r,n[2]/255+r,1];t.uniform4fv(e.uLow,s),t.uniform4fv(e.uHigh,o)}};x(Do,"type","RemoveColor"),x(Do,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),x(Do,"uniformLocations",["uLow","uHigh"]),ee.setClass(Do);var Mo=class extends Pt{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){let t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){let t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){let t=this.getFilterWindow();return this.generateShader(t)}getTaps(){let t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,n=this.getFilterWindow(),r=new Array(n);for(let s=1;s<=n;s++)r[s-1]=t(s*e);return r}generateShader(t){let e=new Array(t);for(let n=1;n<=t;n++)e[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(e.map((n,r)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(r,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(r,`];
              sum += 2.0 * uTaps[`).concat(r,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){nf(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<11920929e-14&&e>-11920929e-14)return 1;let n=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(n)/n}}applyTo2d(t){let e=t.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;let s=e.width,o=e.height,a=Math.round(s*n),l=Math.round(o*r),c;c=this.resizeType==="sliceHack"?this.sliceByTwo(t,s,o,a,l):this.resizeType==="hermite"?this.hermiteFastResize(t,s,o,a,l):this.resizeType==="bilinear"?this.bilinearFiltering(t,s,o,a,l):this.resizeType==="lanczos"?this.lanczosResize(t,s,o,a,l):new ImageData(a,l),t.imageData=c}sliceByTwo(t,e,n,r,s){let o=t.imageData,a=.5,l=!1,c=!1,u=e*a,d=n*a,h=t.filterBackend.resources,p=0,f=0,y=e,_=0;h.sliceByTwo||(h.sliceByTwo=Vt());let b=h.sliceByTwo;(b.width<1.5*e||b.height<n)&&(b.width=1.5*e,b.height=n);let T=b.getContext("2d");for(T.clearRect(0,0,1.5*e,n),T.putImageData(o,0,0),r=Math.floor(r),s=Math.floor(s);!l||!c;)e=u,n=d,r<Math.floor(u*a)?u=Math.floor(u*a):(u=r,l=!0),s<Math.floor(d*a)?d=Math.floor(d*a):(d=s,c=!0),T.drawImage(b,p,f,e,n,y,_,u,d),p=y,f=_,_+=d;return T.getImageData(p,f,r,s)}lanczosResize(t,e,n,r,s){let o=t.imageData.data,a=t.ctx.createImageData(r,s),l=a.data,c=this.lanczosCreate(this.lanczosLobes),u=this.rcpScaleX,d=this.rcpScaleY,h=2/this.rcpScaleX,p=2/this.rcpScaleY,f=Math.ceil(u*this.lanczosLobes/2),y=Math.ceil(d*this.lanczosLobes/2),_={},b={x:0,y:0},T={x:0,y:0};return function R(F){let $,G,Z,q,Ne,Ye,He,Ue,Be,Ze,Wt;for(b.x=(F+.5)*u,T.x=Math.floor(b.x),$=0;$<s;$++){for(b.y=($+.5)*d,T.y=Math.floor(b.y),Ne=0,Ye=0,He=0,Ue=0,Be=0,G=T.x-f;G<=T.x+f;G++)if(!(G<0||G>=e)){Ze=Math.floor(1e3*Math.abs(G-b.x)),_[Ze]||(_[Ze]={});for(let W=T.y-y;W<=T.y+y;W++)W<0||W>=n||(Wt=Math.floor(1e3*Math.abs(W-b.y)),_[Ze][Wt]||(_[Ze][Wt]=c(Math.sqrt(Math.pow(Ze*h,2)+Math.pow(Wt*p,2))/1e3)),Z=_[Ze][Wt],Z>0&&(q=4*(W*e+G),Ne+=Z,Ye+=Z*o[q],He+=Z*o[q+1],Ue+=Z*o[q+2],Be+=Z*o[q+3]))}q=4*($*r+F),l[q]=Ye/Ne,l[q+1]=He/Ne,l[q+2]=Ue/Ne,l[q+3]=Be/Ne}return++F<r?R(F):a}(0)}bilinearFiltering(t,e,n,r,s){let o,a,l,c,u,d,h,p,f,y,_,b,T,R=0,F=this.rcpScaleX,$=this.rcpScaleY,G=4*(e-1),Z=t.imageData.data,q=t.ctx.createImageData(r,s),Ne=q.data;for(h=0;h<s;h++)for(p=0;p<r;p++)for(u=Math.floor(F*p),d=Math.floor($*h),f=F*p-u,y=$*h-d,T=4*(d*e+u),_=0;_<4;_++)o=Z[T+_],a=Z[T+4+_],l=Z[T+G+_],c=Z[T+G+4+_],b=o*(1-f)*(1-y)+a*f*(1-y)+l*y*(1-f)+c*f*y,Ne[R++]=b;return q}hermiteFastResize(t,e,n,r,s){let o=this.rcpScaleX,a=this.rcpScaleY,l=Math.ceil(o/2),c=Math.ceil(a/2),u=t.imageData.data,d=t.ctx.createImageData(r,s),h=d.data;for(let p=0;p<s;p++)for(let f=0;f<r;f++){let y=4*(f+p*r),_=0,b=0,T=0,R=0,F=0,$=0,G=0,Z=(p+.5)*a;for(let q=Math.floor(p*a);q<(p+1)*a;q++){let Ne=Math.abs(Z-(q+.5))/c,Ye=(f+.5)*o,He=Ne*Ne;for(let Ue=Math.floor(f*o);Ue<(f+1)*o;Ue++){let Be=Math.abs(Ye-(Ue+.5))/l,Ze=Math.sqrt(He+Be*Be);Ze>1&&Ze<-1||(_=2*Ze*Ze*Ze-3*Ze*Ze+1,_>0&&(Be=4*(Ue+q*e),G+=_*u[Be+3],T+=_,u[Be+3]<255&&(_=_*u[Be+3]/250),R+=_*u[Be],F+=_*u[Be+1],$+=_*u[Be+2],b+=_))}}h[y]=R/b,h[y+1]=F/b,h[y+2]=$/b,h[y+3]=G/T}return d}};x(Mo,"type","Resize"),x(Mo,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),x(Mo,"uniformLocations",["uDelta","uTaps"]),ee.setClass(Mo);var Oo=class extends Pt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,n=-this.saturation;for(let r=0;r<e.length;r+=4){let s=Math.max(e[r],e[r+1],e[r+2]);e[r]+=s!==e[r]?(s-e[r])*n:0,e[r+1]+=s!==e[r+1]?(s-e[r+1])*n:0,e[r+2]+=s!==e[r+2]?(s-e[r+2])*n:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}};x(Oo,"type","Saturation"),x(Oo,"defaults",{saturation:0}),x(Oo,"uniformLocations",["uSaturation"]),ee.setClass(Oo);var Ao=class extends Pt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,n=-this.vibrance;for(let r=0;r<e.length;r+=4){let s=Math.max(e[r],e[r+1],e[r+2]),o=(e[r]+e[r+1]+e[r+2])/3,a=2*Math.abs(s-o)/255*n;e[r]+=s!==e[r]?(s-e[r])*a:0,e[r+1]+=s!==e[r+1]?(s-e[r+1])*a:0,e[r+2]+=s!==e[r+2]?(s-e[r+2])*a:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}};x(Ao,"type","Vibrance"),x(Ao,"defaults",{vibrance:0}),x(Ao,"uniformLocations",["uVibrance"]),ee.setClass(Ao);var Oie=Object.freeze({__proto__:null,BaseFilter:Pt,BlackWhite:YH,BlendColor:vo,BlendImage:yo,Blur:_o,Brightness:bo,Brownie:UH,ColorMatrix:Nr,Composed:Kc,Contrast:Co,Convolute:wo,Gamma:xo,Grayscale:Io,HueRotation:nl,Invert:So,Kodachrome:$H,Noise:Eo,Pixelate:To,Polaroid:WH,RemoveColor:Do,Resize:Mo,Saturation:Oo,Sepia:qH,Technicolor:GH,Vibrance:Ao,Vintage:zH});function rf(i){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(i)}var ZH=/^\s+/,JH=/\s+$/;function de(i,t){if(i=i||"",t=t||{},i instanceof de)return i;if(!(this instanceof de))return new de(i,t);var e=eU(i);this._originalInput=i,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||e.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=e.ok}de.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),e,n,r,s,o,a;return e=t.r/255,n=t.g/255,r=t.b/255,e<=.03928?s=e/12.92:s=Math.pow((e+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(t){return this._a=qD(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=UD(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=UD(this._r,this._g,this._b),e=Math.round(t.h*360),n=Math.round(t.s*100),r=Math.round(t.v*100);return this._a==1?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=HD(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=HD(this._r,this._g,this._b),e=Math.round(t.h*360),n=Math.round(t.s*100),r=Math.round(t.l*100);return this._a==1?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return zD(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return rU(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bt(this._r,255)*100)+"%",g:Math.round(bt(this._g,255)*100)+"%",b:Math.round(bt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bt(this._r,255)*100)+"%, "+Math.round(bt(this._g,255)*100)+"%, "+Math.round(bt(this._b,255)*100)+"%)":"rgba("+Math.round(bt(this._r,255)*100)+"%, "+Math.round(bt(this._g,255)*100)+"%, "+Math.round(bt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:mU[zD(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+$D(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var s=de(t);n="#"+$D(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,s=!e&&r&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return de(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(lU,arguments)},brighten:function(){return this._applyModification(cU,arguments)},darken:function(){return this._applyModification(uU,arguments)},desaturate:function(){return this._applyModification(sU,arguments)},saturate:function(){return this._applyModification(oU,arguments)},greyscale:function(){return this._applyModification(aU,arguments)},spin:function(){return this._applyModification(dU,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(fU,arguments)},complement:function(){return this._applyCombination(hU,arguments)},monochromatic:function(){return this._applyCombination(gU,arguments)},splitcomplement:function(){return this._applyCombination(pU,arguments)},triad:function(){return this._applyCombination(GD,[3])},tetrad:function(){return this._applyCombination(GD,[4])}};de.fromRatio=function(i,t){if(rf(i)=="object"){var e={};for(var n in i)i.hasOwnProperty(n)&&(n==="a"?e[n]=i[n]:e[n]=eu(i[n]));i=e}return de(i,t)};function eU(i){var t={r:0,g:0,b:0},e=1,n=null,r=null,s=null,o=!1,a=!1;return typeof i=="string"&&(i=bU(i)),rf(i)=="object"&&(zr(i.r)&&zr(i.g)&&zr(i.b)?(t=tU(i.r,i.g,i.b),o=!0,a=String(i.r).substr(-1)==="%"?"prgb":"rgb"):zr(i.h)&&zr(i.s)&&zr(i.v)?(n=eu(i.s),r=eu(i.v),t=iU(i.h,n,r),o=!0,a="hsv"):zr(i.h)&&zr(i.s)&&zr(i.l)&&(n=eu(i.s),s=eu(i.l),t=nU(i.h,n,s),o=!0,a="hsl"),i.hasOwnProperty("a")&&(e=i.a)),e=qD(e),{ok:o,format:i.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}function tU(i,t,e){return{r:bt(i,255)*255,g:bt(t,255)*255,b:bt(e,255)*255}}function HD(i,t,e){i=bt(i,255),t=bt(t,255),e=bt(e,255);var n=Math.max(i,t,e),r=Math.min(i,t,e),s,o,a=(n+r)/2;if(n==r)s=o=0;else{var l=n-r;switch(o=a>.5?l/(2-n-r):l/(n+r),n){case i:s=(t-e)/l+(t<e?6:0);break;case t:s=(e-i)/l+2;break;case e:s=(i-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function nU(i,t,e){var n,r,s;i=bt(i,360),t=bt(t,100),e=bt(e,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)n=r=s=e;else{var a=e<.5?e*(1+t):e+t-e*t,l=2*e-a;n=o(l,a,i+1/3),r=o(l,a,i),s=o(l,a,i-1/3)}return{r:n*255,g:r*255,b:s*255}}function UD(i,t,e){i=bt(i,255),t=bt(t,255),e=bt(e,255);var n=Math.max(i,t,e),r=Math.min(i,t,e),s,o,a=n,l=n-r;if(o=n===0?0:l/n,n==r)s=0;else{switch(n){case i:s=(t-e)/l+(t<e?6:0);break;case t:s=(e-i)/l+2;break;case e:s=(i-t)/l+4;break}s/=6}return{h:s,s:o,v:a}}function iU(i,t,e){i=bt(i,360)*6,t=bt(t,100),e=bt(e,100);var n=Math.floor(i),r=i-n,s=e*(1-t),o=e*(1-r*t),a=e*(1-(1-r)*t),l=n%6,c=[e,o,s,s,a,e][l],u=[a,e,e,o,s,s][l],d=[s,s,a,e,e,o][l];return{r:c*255,g:u*255,b:d*255}}function zD(i,t,e,n){var r=[Ni(Math.round(i).toString(16)),Ni(Math.round(t).toString(16)),Ni(Math.round(e).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function rU(i,t,e,n,r){var s=[Ni(Math.round(i).toString(16)),Ni(Math.round(t).toString(16)),Ni(Math.round(e).toString(16)),Ni(YD(n))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function $D(i,t,e,n){var r=[Ni(YD(n)),Ni(Math.round(i).toString(16)),Ni(Math.round(t).toString(16)),Ni(Math.round(e).toString(16))];return r.join("")}de.equals=function(i,t){return!i||!t?!1:de(i).toRgbString()==de(t).toRgbString()};de.random=function(){return de.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function sU(i,t){t=t===0?0:t||10;var e=de(i).toHsl();return e.s-=t/100,e.s=sf(e.s),de(e)}function oU(i,t){t=t===0?0:t||10;var e=de(i).toHsl();return e.s+=t/100,e.s=sf(e.s),de(e)}function aU(i){return de(i).desaturate(100)}function lU(i,t){t=t===0?0:t||10;var e=de(i).toHsl();return e.l+=t/100,e.l=sf(e.l),de(e)}function cU(i,t){t=t===0?0:t||10;var e=de(i).toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(t/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(t/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(t/100)))),de(e)}function uU(i,t){t=t===0?0:t||10;var e=de(i).toHsl();return e.l-=t/100,e.l=sf(e.l),de(e)}function dU(i,t){var e=de(i).toHsl(),n=(e.h+t)%360;return e.h=n<0?360+n:n,de(e)}function hU(i){var t=de(i).toHsl();return t.h=(t.h+180)%360,de(t)}function GD(i,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var e=de(i).toHsl(),n=[de(i)],r=360/t,s=1;s<t;s++)n.push(de({h:(e.h+s*r)%360,s:e.s,l:e.l}));return n}function pU(i){var t=de(i).toHsl(),e=t.h;return[de(i),de({h:(e+72)%360,s:t.s,l:t.l}),de({h:(e+216)%360,s:t.s,l:t.l})]}function fU(i,t,e){t=t||6,e=e||30;var n=de(i).toHsl(),r=360/e,s=[de(i)];for(n.h=(n.h-(r*t>>1)+720)%360;--t;)n.h=(n.h+r)%360,s.push(de(n));return s}function gU(i,t){t=t||6;for(var e=de(i).toHsv(),n=e.h,r=e.s,s=e.v,o=[],a=1/t;t--;)o.push(de({h:n,s:r,v:s})),s=(s+a)%1;return o}de.mix=function(i,t,e){e=e===0?0:e||50;var n=de(i).toRgb(),r=de(t).toRgb(),s=e/100,o={r:(r.r-n.r)*s+n.r,g:(r.g-n.g)*s+n.g,b:(r.b-n.b)*s+n.b,a:(r.a-n.a)*s+n.a};return de(o)};de.readability=function(i,t){var e=de(i),n=de(t);return(Math.max(e.getLuminance(),n.getLuminance())+.05)/(Math.min(e.getLuminance(),n.getLuminance())+.05)};de.isReadable=function(i,t,e){var n=de.readability(i,t),r,s;switch(s=!1,r=CU(e),r.level+r.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};de.mostReadable=function(i,t,e){var n=null,r=0,s,o,a,l;e=e||{},o=e.includeFallbackColors,a=e.level,l=e.size;for(var c=0;c<t.length;c++)s=de.readability(i,t[c]),s>r&&(r=s,n=de(t[c]));return de.isReadable(i,n,{level:a,size:l})||!o?n:(e.includeFallbackColors=!1,de.mostReadable(i,["#fff","#000"],e))};var q_=de.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},mU=de.hexNames=vU(q_);function vU(i){var t={};for(var e in i)i.hasOwnProperty(e)&&(t[i[e]]=e);return t}function qD(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function bt(i,t){yU(i)&&(i="100%");var e=_U(i);return i=Math.min(t,Math.max(0,parseFloat(i))),e&&(i=parseInt(i*t,10)/100),Math.abs(i-t)<1e-6?1:i%t/parseFloat(t)}function sf(i){return Math.min(1,Math.max(0,i))}function ni(i){return parseInt(i,16)}function yU(i){return typeof i=="string"&&i.indexOf(".")!=-1&&parseFloat(i)===1}function _U(i){return typeof i=="string"&&i.indexOf("%")!=-1}function Ni(i){return i.length==1?"0"+i:""+i}function eu(i){return i<=1&&(i=i*100+"%"),i}function YD(i){return Math.round(parseFloat(i)*255).toString(16)}function WD(i){return ni(i)/255}var Li=function(){var i="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",e="(?:"+t+")|(?:"+i+")",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function zr(i){return!!Li.CSS_UNIT.exec(i)}function bU(i){i=i.replace(ZH,"").replace(JH,"").toLowerCase();var t=!1;if(q_[i])i=q_[i],t=!0;else if(i=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e;return(e=Li.rgb.exec(i))?{r:e[1],g:e[2],b:e[3]}:(e=Li.rgba.exec(i))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=Li.hsl.exec(i))?{h:e[1],s:e[2],l:e[3]}:(e=Li.hsla.exec(i))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=Li.hsv.exec(i))?{h:e[1],s:e[2],v:e[3]}:(e=Li.hsva.exec(i))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=Li.hex8.exec(i))?{r:ni(e[1]),g:ni(e[2]),b:ni(e[3]),a:WD(e[4]),format:t?"name":"hex8"}:(e=Li.hex6.exec(i))?{r:ni(e[1]),g:ni(e[2]),b:ni(e[3]),format:t?"name":"hex"}:(e=Li.hex4.exec(i))?{r:ni(e[1]+""+e[1]),g:ni(e[2]+""+e[2]),b:ni(e[3]+""+e[3]),a:WD(e[4]+""+e[4]),format:t?"name":"hex8"}:(e=Li.hex3.exec(i))?{r:ni(e[1]+""+e[1]),g:ni(e[2]+""+e[2]),b:ni(e[3]+""+e[3]),format:t?"name":"hex"}:!1}function CU(i){var t,e;return i=i||{level:"AA",size:"small"},t=(i.level||"AA").toUpperCase(),e=(i.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),e!=="small"&&e!=="large"&&(e="small"),{level:t,size:e}}var ks=class i{canvas;zoomLevel=1;gridSize=50;snapToGridEnabled=!1;gridVisible=!0;selectedElement=null;stateCanvas;undoStack=[];isLoading=!1;_clipboard=null;imageSignal=mt(null);colorSignal;lineWidthSignal;currentLine=null;objectsLocked=!1;drawingMode=null;noEvent=!1;constructor(){kt.prototype.objectCaching=!0,kt.prototype.toObject=function(t){return function(){return Object.assign({},t.call(this),{id:this.id||null,data:this.data||null})}}(kt.prototype.toObject),this.colorSignal=mt("#000000"),this.lineWidthSignal=mt(3),cs(()=>{let t=this.colorSignal();this.canvas?.isDrawingMode&&this.canvas.freeDrawingBrush&&(this.canvas.freeDrawingBrush.color=t,this.canvas.renderAll())}),cs(()=>{let t=this.lineWidthSignal();this.canvas?.isDrawingMode&&this.canvas.freeDrawingBrush&&(this.canvas.freeDrawingBrush.width=t,this.canvas.renderAll())})}getImageSignal(){return this.imageSignal}isDrawing(){return this.canvas.isDrawingMode}initCanvas(t,e,n){this.canvas=new ol(t,{width:e,height:n}),this.drawGrid(),this.canvas&&this.addCanvasEvents()}addCanvasEvents(){if(!this.canvas)return;["object:modified","object:added","object:removed","selection:created"].forEach(e=>{this.noEvent||this.canvas.on(e,()=>this.saveStateToUndoStack())}),this.canvas.on("mouse:down",e=>this.onMouseDown(e)),this.canvas.on("mouse:move",e=>this.onMouseMove(e)),this.canvas.on("mouse:up",()=>this.onMouseUp()),this.canvas.on("object:moving",e=>this.snapObjectToGrid(e)),this.canvas.on("object:scaling",e=>this.snapObjectToGrid(e))}saveStateToUndoStack(){if(this.isLoading||!this.canvas)return;let t=JSON.stringify(this.canvas.toJSON());(this.undoStack.length===0||this.undoStack[this.undoStack.length-1]!==t)&&this.undoStack.push(t)}saveState(){this.canvas&&(this.stateCanvas=JSON.stringify(this.canvas.toJSON()))}loadCanvasFromJSONExpress(){return rt(this,null,function*(){if(!this.stateCanvas){console.log("\u041D\u0435\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F.");return}this.canvas&&this.loadCanvasFromJSON(this.stateCanvas,!1).then(()=>{this.isLoading=!1,this.canvas?.renderAll()})})}undo(){if(!this.canvas||this.undoStack.length===0)return;let t=this.undoStack.pop();t&&(this.isLoading=!0,this.loadCanvasFromJSON(t,!1).then(()=>{this.isLoading=!1,this.canvas?.renderAll()}))}loadCanvasFromJSON(t,e=!0){return rt(this,null,function*(){if(this.canvas){this.isLoading=!0;let n=JSON.parse(t);n.objects=n.objects.map(r=>(r.type==="IText"&&(r.text=r.text||r.data.text||"",r.styles=r.styles||{},r.fontSize=r.fontSize||20,r.left=r.left||50,r.top=r.top||50,r.visible=r.visible!==void 0?r.visible:!0),r)),yield this.canvas.loadFromJSON(n,(r,s)=>{let o=s;r.id&&o.set("id",r.id),r.data&&o.set("data",r.data)}),this.canvas.renderAll(),this.isLoading=!1,e&&this.saveStateToUndoStack()}})}getSelectedElement(){if(this.canvas){let t=this.canvas.getActiveObject();if(this.selectedElement=t||null,t)return this.selectedElement}return null}renderCanvas(){this.canvas&&this.canvas.renderAll()}removeSelectedElement(){this.canvas&&this.selectedElement&&(this.canvas.remove(this.selectedElement),this.canvas.renderAll(),this.selectedElement=null)}removeSelectedGroup(){if(this.canvas){let t=this.canvas.getActiveObject();if(!t){console.log("\u041D\u0435\u0442 \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0433\u043E \u043E\u0431\u044A\u0435\u043A\u0442\u0430 \u0434\u043B\u044F \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F.");return}t instanceof ki&&(t.forEachObject(e=>{this.canvas?.remove(e)}),this.canvas.discardActiveObject(),this.canvas.renderAll())}}toggleGridVisibility(t){this.gridVisible=t,this.canvas&&(t?this.drawGrid():(this.canvas.backgroundColor="",this.canvas.renderAll()))}toggleSnapToGrid(t){this.snapToGridEnabled=t}snapObjectToGrid(t){if(!this.snapToGridEnabled||!this.canvas)return;let e=t.target,n=this.gridSize/this.zoomLevel,r=Math.round(e.left/n)*n;e.set("left",r);let s=Math.round(e.top/n)*n;e.set("top",s),e.setCoords(),this.canvas.renderAll()}addSvg(t){return rt(this,null,function*(){try{let n=yield(yield fetch(t.url)).text(),{objects:r,options:s}=yield LD(n),o=r.filter(l=>l!==null),a=bD.groupSVGElements(o,s);this.canvas&&(a.set("data",t),this.canvas.add(a),this.sortObjectsByIndex(),this.canvas.renderAll())}catch(e){console.error("Error loading SVG:",e)}})}sortObjectsByIndex(){if(this.canvas){let t=this.canvas.getObjects();t.sort((n,r)=>{let s=n.get("data")&&n.get("data").index||0,o=r.get("data")&&r.get("data").index||0;return s-o});let e=this.canvas.backgroundColor;this.canvas.clear(),this.canvas.backgroundColor=e,t.forEach(n=>this.canvas?.add(n)),this.canvas.renderAll()}}createGridPattern(){let t=document.createElement("canvas");t.width=this.gridSize,t.height=this.gridSize;let e=t.getContext("2d");return e&&(e.strokeStyle="#e0e0e0",e.lineWidth=1,e.beginPath(),e.moveTo(this.gridSize,0),e.lineTo(this.gridSize,this.gridSize),e.stroke(),e.beginPath(),e.moveTo(0,this.gridSize),e.lineTo(this.gridSize,this.gridSize),e.stroke()),new Fo({source:t,repeat:"repeat"})}drawGrid(){if(this.noEvent=!0,!this.canvas)return;let t=this.createGridPattern();this.canvas.backgroundColor=t,this.canvas.renderAll(),this.noEvent=!1}zoomIn(){this.canvas&&(this.zoomLevel+=.1,this.applyZoom())}zoomOut(){this.canvas&&this.zoomLevel>.1&&(this.zoomLevel-=.1,this.applyZoom())}applyZoom(){this.canvas&&(this.canvas.setViewportTransform([this.zoomLevel,0,0,this.zoomLevel,0,0]),this.drawGrid(),this.canvas.requestRenderAll())}clearCanvas(){this.canvas&&(this.canvas.clear(),this.drawGrid())}setColorElementWithShades(t){if(!this.selectedElement){console.log("\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u0434\u043B\u044F \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0446\u0432\u0435\u0442\u0430");return}let e=de(t).darken(10).toString(),n=!1,r=(h,p,f)=>(h.get("id")||"").replace(/\d+$/,"")===p?(h.get("fill")?h.set("fill",f):h.get("stroke")&&h.set("stroke",f),!0):!1;if(this.selectedElement instanceof Sn||this.selectedElement instanceof ki?this.selectedElement.getObjects().forEach(h=>{r(h,"color-",t)&&(n=!0),r(h,"color-dark-",e)&&(n=!0)}):(r(this.selectedElement,"color-",t)&&(n=!0),r(this.selectedElement,"color-dark-",e)&&(n=!0)),n){this.renderCanvas();return}let s={},o={},a=[],l=(h,p,f)=>{h&&(s[h]=(s[h]||0)+p,o[h]||(o[h]=[]),o[h].push(f))},c=h=>{let p=h.getBoundingRect(),f=p.width*p.height;a.push({obj:h,area:f});let y=h.get("fill"),_=h.get("stroke");y&&typeof y=="string"&&l(y,f,h),_&&typeof _=="string"&&l(_,f,h)};this.selectedElement instanceof Sn||this.selectedElement instanceof ki?this.selectedElement.getObjects().forEach(h=>c(h)):c(this.selectedElement);let u=Object.keys(s).reduce((h,p)=>s[h]>s[p]?h:p),d=Object.keys(s).filter(h=>h!==u).reduce((h,p)=>s[h]>s[p]?h:p,"");o[u]?.forEach(h=>{h.get("fill")===u?h.set("fill",e):h.get("stroke")===u&&h.set("stroke",e)}),d&&o[d]?.forEach(h=>{h.get("fill")===d?h.set("fill",t):h.get("stroke")===d&&h.set("stroke",t)}),this.renderCanvas()}flipSelectedElement(t){this.selectedElement&&(this.selectedElement.set(t==="X"?"flipX":"flipY",!this.selectedElement[`flip${t}`]),this.renderCanvas())}setTrafficLightColor(t){if(!this.selectedElement){console.log("\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430");return}let e=this.selectedElement;if(!(e instanceof Sn)){console.error("\u0412\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u044D\u043B\u0435\u043C\u0435\u043D\u0442 \u043D\u0435 \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0433\u0440\u0443\u043F\u043F\u043E\u0439 \u0441\u0432\u0435\u0442\u043E\u0444\u043E\u0440\u0430");return}let n=e.getObjects().find(c=>c.id==="red"),r=e.getObjects().find(c=>c.id==="green"),s=e.getObjects().find(c=>c.id==="yellow"),o=e.getObjects().find(c=>c.id==="green-arrow"),a=e.getObjects().find(c=>c.id==="green-left"),l=e.getObjects().find(c=>c.id==="green-right");if(!n||!r){console.error("\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B \u043E\u0431\u044A\u0435\u043A\u0442\u044B \u0441\u0432\u0435\u0442\u043E\u0444\u043E\u0440\u0430");return}switch(n.set("fill","white"),r.set("fill","white"),s?.set("fill","white"),o?.set("fill","black"),a?.set("fill","black"),l?.set("fill","black"),t){case"red":n.set("fill","red");break;case"yellow":s?.set("fill","yellow");break;case"green":r.set("fill","green");break;case"green-arrow":o?.set("fill","green");break;case"green-arrow-turn+":r.set("fill","green"),o?.set("fill","green");break;case"yellow-arrow-turn+":s?.set("fill","yellow"),o?.set("fill","green");break;case"red-arrow-turn+":n.set("fill","red"),o?.set("fill","green");break;case"green-all":r.set("fill","green"),a?.set("fill","green"),l?.set("fill","green");break;case"green-arrow-left":a?.set("fill","green");break;case"green-arrow-turn-left":r.set("fill","green"),a?.set("fill","green");break;case"yellow-arrow-turn-left":s?.set("fill","yellow"),a?.set("fill","green");break;case"red-arrow-turn-left":n.set("fill","red"),a?.set("fill","green");break;case"green-arrow-right":l?.set("fill","green");break;case"green-arrow-turn-right":r.set("fill","green"),l?.set("fill","green");break;case"yellow-arrow-turn-right":s?.set("fill","yellow"),l?.set("fill","green");break;case"red-arrow-turn-right":n.set("fill","red"),l?.set("fill","green");break}this.canvas?.renderAll()}copyAndPasteSelectedElement(){return rt(this,null,function*(){if(this.selectedElement&&this.canvas){let t=this.selectedElement;try{let e=yield t.clone(["id","data"]);this._clipboard=e;let n=20,r=0;e?.data?.id?(e.set({id:t.id||null,data:t.data||null,left:(t.left||0)+n,top:(t.top||0)+n}),this.canvas.add(e)):e.forEachObject((s,o)=>{let a=t.item(o);r=o*10,s.set({id:a.id||null,data:a.data||null,left:(a.left||0)+n+r,top:(a.top||0)+n+r}),this.canvas.add(s),s.setCoords()}),this._clipboard?.set({left:(this._clipboard?.left||0)+n,top:(this._clipboard?.top||0)+n}),this.canvas.setActiveObject(e),this.canvas.requestRenderAll(),this.sortObjectsByIndex()}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438 \u0438 \u0432\u0441\u0442\u0430\u0432\u043A\u0435 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:",e)}}else console.log("\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u043E\u0431\u044A\u0435\u043A\u0442\u0430 \u0434\u043B\u044F \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F.")})}copyAndPasteSelectedText(){return rt(this,null,function*(){if(this.selectedElement&&this.canvas){let t=this.selectedElement;try{let e=new Ai(t.text,{left:(t.left||0)+20,top:(t.top||0)+20,fontSize:t.fontSize,fontFamily:t.fontFamily,fill:t.fill,scaleX:t.scaleX,scaleY:t.scaleY,id:t.id,data:t.data});this.canvas.add(e),this.canvas.setActiveObject(e),this.canvas.requestRenderAll()}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438 \u0438 \u0432\u0441\u0442\u0430\u0432\u043A\u0435 \u0442\u0435\u043A\u0441\u0442\u043E\u0432\u043E\u0433\u043E \u043E\u0431\u044A\u0435\u043A\u0442\u0430:",e)}}else console.log("\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0442\u0435\u043A\u0441\u0442\u043E\u0432\u043E\u0433\u043E \u043E\u0431\u044A\u0435\u043A\u0442\u0430 \u0434\u043B\u044F \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F.")})}toggleLockSelectedElement(){if(this.selectedElement&&this.canvas){let t=this.selectedElement;t instanceof ki?t.getObjects().every(n=>n.lockMovementX&&n.lockMovementY)?t.getObjects().forEach(n=>this.unlockObject(n)):t.getObjects().forEach(n=>this.lockObject(n)):t.lockMovementX&&t.lockMovementY?this.unlockObject(t):this.lockObject(t),this.canvas.requestRenderAll()}else console.log("\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u043E\u0431\u044A\u0435\u043A\u0442\u0430 \u0434\u043B\u044F \u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u043A\u0438/\u0440\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u043A\u0438.")}lockObject(t){t.set({evented:!1,lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockRotation:!0}),console.log("\u041E\u0431\u044A\u0435\u043A\u0442 \u0437\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D")}unlockObject(t){t.set({evented:!0,lockMovementX:!1,lockMovementY:!1,lockScalingX:!1,lockScalingY:!1,lockRotation:!1}),console.log("\u041E\u0431\u044A\u0435\u043A\u0442 \u0440\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D")}addTextBox(){return rt(this,null,function*(){let t="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442",e=new Ai(t,{left:50,top:50,fontSize:20,fill:"#000000",editable:!0,borderColor:"gray",cornerColor:"blue",cornerSize:6,hasControls:!0,lockScalingFlip:!0,id:"text"});e.set("data",{isText:!0,id:"text",index:1e3,text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442"}),e.on("changed",()=>{let n=e.get("data");n&&(n.text=e.text,n.left=e.left,n.top=e.top,e.set("data",n)),this.saveStateToUndoStack()}),this.canvas.add(e),this.canvas.fire("object:added",{target:e}),this.canvas.setActiveObject(e),yield this.canvas.renderAll(),this.saveStateToUndoStack(),e.enterEditing(),e.selectAll()})}getIsDrawing(){return this.canvas.isDrawingMode||!!this.drawingMode}toggleDrawingMode(t){t?(this.drawingMode=this.drawingMode===t?null:t,this.canvas.isDrawingMode=!this.drawingMode):(this.drawingMode=null,this.canvas.isDrawingMode=!this.canvas.isDrawingMode),this.canvas.selection=!this.canvas.isDrawingMode&&!this.drawingMode,this.canvas.isDrawingMode||this.drawingMode?(this.lockCanvasObjects(),this.drawingMode||(this.canvas.freeDrawingBrush=new Np(this.canvas),this.canvas.freeDrawingBrush.width=this.lineWidthSignal(),this.canvas.freeDrawingBrush.color=this.colorSignal())):this.unlockCanvasObjects(),this.canvas.on("object:added",e=>{let n=e.target;n.data={index:100,isDrawing:!0,id:"object"},(this.canvas.isDrawingMode||this.drawingMode)&&this.blockObject(n)}),this.canvas.renderAll(),console.log(`\u0420\u0435\u0436\u0438\u043C: ${this.drawingMode||(this.canvas.isDrawingMode?"\u0441\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435":"\u0432\u044B\u043A\u043B\u044E\u0447\u0435\u043D")}`)}onMouseDown(t){let e=this.canvas.getPointer(t.e);if(this.drawingMode==="line"||this.drawingMode==="arrow"){let n=[e.x,e.y,e.x,e.y];this.currentLine=new vi(n,{stroke:this.colorSignal(),strokeWidth:this.lineWidthSignal(),selectable:!0,evented:!0,data:{isDrawing:!0,index:100,id:"line-or-arrow"}}),this.canvas.add(this.currentLine)}if(this.drawingMode==="dashed-line"&&this.canvas){let n=[e.x,e.y,e.x,e.y];this.currentLine=new vi(n,{stroke:this.colorSignal(),strokeWidth:this.lineWidthSignal(),strokeDashArray:[3,3],selectable:!0,evented:!0,data:{isDrawing:!0,index:100,id:"dashed-line"}}),this.canvas.add(this.currentLine)}}onMouseMove(t){if(!this.currentLine)return;let e=this.canvas.getPointer(t.e);this.currentLine.set({x2:e.x,y2:e.y}),this.canvas.renderAll()}onMouseUp(){if(this.currentLine){if(this.drawingMode==="arrow"){let t=this.currentLine;this.addArrowHead(t)}this.currentLine.setCoords(),this.currentLine=null,this.canvas.renderAll()}}addArrowHead(t){let e=Math.atan2(t.y2-t.y1,t.x2-t.x1)*(180/Math.PI),n=this.lineWidthSignal(),r=n*2,s=n*3,o=new Is({left:t.x2,top:t.y2,angle:e+90,width:r,height:s,fill:this.colorSignal(),selectable:!0,evented:!0,originX:"center",originY:"center",data:{isDrawing:!0}}),a=new Sn([t,o],{selectable:!0,evented:!0});a.data={index:100,isDrawing:!0},this.canvas.add(a),this.canvas.renderAll()}lockCanvasObjects(){!this.canvas||this.objectsLocked||(this.canvas.getObjects().forEach(t=>{this.blockObject(t)}),this.objectsLocked=!0,this.canvas.renderAll())}unlockCanvasObjects(){!this.canvas||!this.objectsLocked||(this.canvas.getObjects().forEach(t=>{this.unblockObject(t)}),this.objectsLocked=!1,this.canvas.renderAll())}blockObject(t){t.set({lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockRotation:!0,hasControls:!1,selectable:!1})}unblockObject(t){t.set({lockMovementX:!1,lockMovementY:!1,lockScalingX:!1,lockScalingY:!1,lockRotation:!1,hasControls:!0,selectable:!0})}drawShape(t){if(!this.canvas)return;let e=this.colorSignal(),n=this.lineWidthSignal(),r=this.canvas.getCenter(),s=null;switch(t){case"Cross":let o=new vi([r.left-50,r.top,r.left+50,r.top],{stroke:e,strokeWidth:n,selectable:!0,evented:!0}),a=new vi([r.left,r.top-50,r.left,r.top+50],{stroke:e,strokeWidth:n,selectable:!0,evented:!0});o.data={index:100,isDrawing:!0},a.data={index:100,isDrawing:!0};let l=new Sn([o,a],{selectable:!0,evented:!0});l.data={index:100,isDrawing:!0},this.canvas.add(l),this.canvas.renderAll();break;case"Circle":s=new cr({left:r.left-50,top:r.top-50,radius:50,fill:"transparent",stroke:e,strokeWidth:n,selectable:!0,evented:!0,data:{index:100,isDrawing:!0}});break;case"Square":s=new gi({left:r.left-50,top:r.top-50,width:100,height:100,fill:"transparent",stroke:e,strokeWidth:n,selectable:!0,evented:!0,data:{index:100,isDrawing:!0}});break;default:console.error("\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0442\u0438\u043F \u0444\u0438\u0433\u0443\u0440\u044B");return}s&&(this.canvas.add(s),this.canvas.renderAll())}generatePngImage(){if(!this.canvas){console.error("Canvas \u043D\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D");return}let t=this.canvas.backgroundColor,e=this.gridVisible;this.toggleGridVisibility(!1),this.canvas.backgroundColor="#ffffff";let n=this.canvas.getWidth(),r=this.canvas.getHeight(),s=new gi({left:0,top:0,width:n,height:r,fill:"transparent",stroke:"#dee2e6",strokeWidth:2,selectable:!1,evented:!1});this.canvas.add(s),this.canvas.renderAll(),this.imageSignal.set(this.canvas.toDataURL({format:"png",multiplier:1})),this.canvas.remove(s),this.toggleGridVisibility(e),this.canvas.backgroundColor=t,this.canvas.renderAll()}downloadPngImage(){let t=this.imageSignal();if(t){let e=document.createElement("a");e.href=t,e.download="canvas_image.png",e.click()}else console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u0438 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F")}loadImageOntoCanvas(t){let e=new FileReader;e.onload=n=>{let r=new Image;r.src=n.target.result,r.onload=()=>{if(this.canvas){let s=new ei(r,{left:100,top:100,angle:0,opacity:1,data:{id:"image",index:110}});this.canvas.add(s),this.canvas.renderAll()}}},e.readAsDataURL(t)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})};function wU(i,t){if(i&1){let e=ce();C(0,"div")(1,"p-colorPicker",14),Qi("ngModelChange",function(r){A(e);let s=v();return Er(s.selectedColor,r)||(s.selectedColor=r),k(r)}),w()(),C(2,"div")(3,"p-inputNumber",15),Qi("ngModelChange",function(r){A(e);let s=v();return Er(s.selectedWidthLine,r)||(s.selectedWidthLine=r),k(r)}),w(),C(4,"p-slider",16),Qi("ngModelChange",function(r){A(e);let s=v();return Er(s.selectedWidthLine,r)||(s.selectedWidthLine=r),k(r)}),w()()}if(i&2){let e=v();m(),Xi("ngModel",e.selectedColor),m(2),Xi("ngModel",e.selectedWidthLine),g("showButtons",!0)("min",0)("max",100),m(),g("min",1)("max",100),Xi("ngModel",e.selectedWidthLine)}}function xU(i,t){if(i&1){let e=ce();C(0,"p-button",17),N("onClick",function(r){let s=A(e).chooseCallback,o=v();return k(o.choose(r,s))}),w()}}function IU(i,t){if(i&1){let e=ce();C(0,"p-button",18),N("click",function(){A(e);let r=v();return k(r.downloadPngImage())}),w(),O(1,"p-image",19),C(2,"p-button",20),N("click",function(){A(e);let r=v();return k(r.sendErap())}),w()}if(i&2){let e=v();m(),xa("src",e.image()),g("preview",!0)}}var of=class i{constructor(t){this.canvasService=t;this.image=this.canvasService.getImageSignal(),this.selectedColor=this.canvasService.colorSignal,this.selectedWidthLine=this.canvasService.lineWidthSignal}snapToGridEnabled=!1;gridVisible=!0;isDrawing="secondary";image;selectedColor;selectedWidthLine;pngDataUrl="";undo(){this.canvasService.undo()}saveState(){this.canvasService.saveState()}getState(){this.canvasService.loadCanvasFromJSONExpress().then()}onSnapToGridChange(){this.canvasService.toggleSnapToGrid(this.snapToGridEnabled)}onGridVisibilityChange(){this.canvasService.toggleGridVisibility(this.gridVisible)}zoomIn(){this.canvasService.zoomIn()}zoomOut(){this.canvasService.zoomOut()}clearCanvas(){this.canvasService.clearCanvas()}addTextBox(){this.canvasService.addTextBox()}toggleFreeDrawing(){this.canvasService.toggleDrawingMode(),this.getStateDrawing()}getStateDrawing(){this.isDrawing=this.canvasService.isDrawing()?"success":"secondary",this.canvasService.colorSignal.set("#000000"),this.canvasService.lineWidthSignal.set(3)}generatePngImage(){this.canvasService.generatePngImage()}downloadPngImage(){this.canvasService.downloadPngImage()}sendErap(){this.canvasService.downloadPngImage()}onImageSelected(t){let e=t.files[0];this.canvasService.loadImageOntoCanvas(e)}choose(t,e){e()}static \u0275fac=function(e){return new(e||i)(D(ks))};static \u0275cmp=B({type:i,selectors:[["app-interface"]],standalone:!0,features:[J],decls:22,vars:5,consts:[[1,"flex","justify-content-start","align-items-start","gap-3","mb-2","pr-5"],[1,"flex","align-items-center","gap-1"],[3,"ngModelChange","onChange","ngModel"],["icon","pi pi-pen-to-square","severity","secondary","pTooltip","\u0420\u0430\u0431\u043E\u0442\u0430 \u0441 \u0442\u0435\u043A\u0441\u0442\u043E\u043C","tooltipPosition","bottom",3,"click"],["icon","pi pi-search-plus","severity","secondary","pTooltip","\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u0441\u0446\u0435\u043D\u0443","tooltipPosition","bottom",3,"click"],["icon","pi pi-search-minus","severity","secondary","pTooltip","\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C \u0441\u0446\u0435\u043D\u0443","tooltipPosition","bottom",3,"click"],["icon","pi pi-save","severity","secondary","pTooltip","\u0412\u0440\u0435\u043C\u0435\u043D\u043D\u043E\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0435 \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u044F","tooltipPosition","bottom",3,"click"],["icon","pi pi-download","severity","secondary","pTooltip","\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0441\u0446\u0435\u043D\u0443","tooltipPosition","bottom",3,"click"],["icon","pi pi-replay","severity","secondary","pTooltip","\u0428\u0430\u0433 \u043D\u0430\u0437\u0430\u0434","tooltipPosition","bottom",3,"click"],["icon","pi pi-trash","severity","secondary","pTooltip","\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0441\u0446\u0435\u043D\u0443","tooltipPosition","bottom",3,"click"],["icon","pi pi-pencil","pTooltip","\u0420\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435","tooltipPosition","bottom",3,"click","severity"],["name","image[]","accept","image/*","maxFileSize","1000000",3,"onSelect"],["pTemplate","header"],["icon","pi pi-image","severity","secondary","pTooltip","\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435","tooltipPosition","bottom",3,"click"],["pTooltip","\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0446\u0432\u0435\u0442","tooltipPosition","bottom",3,"ngModelChange","ngModel"],["inputId","minmax-buttons",3,"ngModelChange","ngModel","showButtons","min","max"],[1,"w-full",3,"ngModelChange","min","max","ngModel"],["icon","pi pi-images","severity","secondary","pTooltip","\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043D\u0430 \u0441\u0446\u0435\u043D\u0443","tooltipPosition","bottom",3,"onClick"],["icon","pi pi-download","severity","secondary","pTooltip","\u0421\u043A\u0430\u0447\u0430\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043D\u0430 \u041F\u041A","tooltipPosition","bottom",3,"click"],["alt","Image","width","60",1,"imageRad",3,"src","preview"],["icon","pi pi-file-import","severity","secondary","pTooltip","\u041F\u0440\u0438\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u043A \u0434\u0435\u043B\u0443","tooltipPosition","bottom",3,"click"]],template:function(e,n){e&1&&(C(0,"p-toolbar",0)(1,"div",1)(2,"p-inputSwitch",2),Qi("ngModelChange",function(s){return Er(n.snapToGridEnabled,s)||(n.snapToGridEnabled=s),s}),N("onChange",function(){return n.onSnapToGridChange()}),w(),C(3,"label"),et(4,"\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435"),w()(),C(5,"div",1)(6,"p-inputSwitch",2),Qi("ngModelChange",function(s){return Er(n.gridVisible,s)||(n.gridVisible=s),s}),N("onChange",function(){return n.onGridVisibilityChange()}),w(),C(7,"label"),et(8,"\u0421\u0435\u0442\u043A\u0430"),w()(),C(9,"p-button",3),N("click",function(){return n.addTextBox()}),w(),C(10,"p-button",4),N("click",function(){return n.zoomIn()}),w(),C(11,"p-button",5),N("click",function(){return n.zoomOut()}),w(),C(12,"p-button",6),N("click",function(){return n.saveState()}),w(),C(13,"p-button",7),N("click",function(){return n.getState()}),w(),C(14,"p-button",8),N("click",function(){return n.undo()}),w(),C(15,"p-button",9),N("click",function(){return n.clearCanvas()}),w(),C(16,"p-button",10),N("click",function(){return n.toggleFreeDrawing()}),w(),E(17,wU,5,8),C(18,"p-fileUpload",11),N("onSelect",function(s){return n.onImageSelected(s)}),E(19,xU,1,0,"ng-template",12),w(),C(20,"p-button",13),N("click",function(){return n.generatePngImage()}),w(),E(21,IU,3,2),w()),e&2&&(m(2),Xi("ngModel",n.snapToGridEnabled),m(4),Xi("ngModel",n.gridVisible),m(10),g("severity",n.isDrawing),m(),Zs(n.isDrawing==="success"?17:-1),m(4),Zs(n.image()?21:-1))},dependencies:[co,QS,Dc,ho,Ac,tt,cE,ty,di,qa,ip,np,dE,ny,pE,ry,rp,IE,fy,DE,TE,kE,AE,Zx]})};var hl=class i{messageSignal=mt(null);getSvg(){return this.messageSignal()}setSvg(t){this.messageSignal.set(t)}constructor(){}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})};var SU=["menu"],af=class i{constructor(t,e){this.svgService=t;this.canvasService=e}contextMenuItems=[];target;contextMenu;ngOnInit(){this.contextMenuItems=[]}ngAfterViewInit(){this.canvasService.initCanvas("canvas",1e3,700)}showContextMenu(t){this.target=this.canvasService.getSelectedElement(),console.log(this.target),this.target?this.contextMenuItems=oE(this.target,()=>this.deleteElement(),()=>this.deleteGroup(),()=>this.flipSelectedElementHorizontally(),()=>this.flipSelectedElementVertically(),e=>this.changeColor(e),e=>this.setTrafficLightColor(e),()=>this.copySelectedElement(),()=>this.toggleLockSelectedElement()):this.canvasService.getIsDrawing()&&(this.contextMenuItems=aE(e=>this.canvasService.toggleDrawingMode(e),e=>this.canvasService.drawShape(e))),(this.target||this.canvasService.getIsDrawing())&&this.contextMenu.show(t),t.preventDefault()}deleteElement(){this.canvasService.removeSelectedElement()}deleteGroup(){this.canvasService.removeSelectedGroup()}changeColor(t){this.canvasService.setColorElementWithShades(t)}flipSelectedElementHorizontally(){this.canvasService.flipSelectedElement("X")}flipSelectedElementVertically(){this.canvasService.flipSelectedElement("Y")}setTrafficLightColor(t){this.canvasService.setTrafficLightColor(t)}copySelectedElement(){this.target.data.isText?this.canvasService.copyAndPasteSelectedText().then():this.canvasService.copyAndPasteSelectedElement().then()}toggleLockSelectedElement(){this.canvasService.toggleLockSelectedElement()}static \u0275fac=function(e){return new(e||i)(D(hl),D(ks))};static \u0275cmp=B({type:i,selectors:[["app-fabric"]],viewQuery:function(e,n){if(e&1&&be(SU,5),e&2){let r;X(r=Q())&&(n.contextMenu=r.first)}},standalone:!0,features:[J],decls:5,vars:1,consts:[["menu",""],[3,"model"],[3,"contextmenu"],["id","canvas"]],template:function(e,n){if(e&1){let r=ce();O(0,"app-interface")(1,"p-contextMenu",1,0),C(3,"div",2),N("contextmenu",function(o){return A(r),k(n.showContextMenu(o))}),O(4,"canvas",3),w()}e&2&&(m(),g("model",n.contextMenuItems))},dependencies:[co,sE,Jv,di,of],styles:["#canvas[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:3px}"]})};var tu=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(r){return(e||(e=me(i)))(r||i)}})();static \u0275cmp=B({type:i,selectors:[["ChevronRightIcon"]],standalone:!0,features:[fe,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(n,r){n&1&&(_e(),C(0,"svg",0),O(1,"path",1),w()),n&2&&(H(r.getClassNames()),I("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var EU=["*",[["p-header"]]],TU=["*","p-header"],DU=i=>({$implicit:i}),XD=i=>({transitionParams:i}),MU=i=>({value:"visible",params:i}),OU=i=>({value:"hidden",params:i});function AU(i,t){if(i&1&&O(0,"span",11),i&2){let e=v(3);H(e.accordion.collapseIcon),g("ngClass",e.iconClass),I("aria-hidden",!0)}}function kU(i,t){if(i&1&&O(0,"ChevronDownIcon",11),i&2){let e=v(3);g("ngClass",e.iconClass),I("aria-hidden",!0)}}function PU(i,t){if(i&1&&(se(0),E(1,AU,1,4,"span",9)(2,kU,1,2,"ChevronDownIcon",10),oe()),i&2){let e=v(2);m(),g("ngIf",e.accordion.collapseIcon),m(),g("ngIf",!e.accordion.collapseIcon)}}function FU(i,t){if(i&1&&O(0,"span",11),i&2){let e=v(3);H(e.accordion.expandIcon),g("ngClass",e.iconClass),I("aria-hidden",!0)}}function RU(i,t){if(i&1&&O(0,"ChevronRightIcon",11),i&2){let e=v(3);g("ngClass",e.iconClass),I("aria-hidden",!0)}}function LU(i,t){if(i&1&&(se(0),E(1,FU,1,4,"span",9)(2,RU,1,2,"ChevronRightIcon",10),oe()),i&2){let e=v(2);m(),g("ngIf",e.accordion.expandIcon),m(),g("ngIf",!e.accordion.expandIcon)}}function NU(i,t){if(i&1&&(se(0),E(1,PU,3,2,"ng-container",3)(2,LU,3,2,"ng-container",3),oe()),i&2){let e=v();m(),g("ngIf",e.selected),m(),g("ngIf",!e.selected)}}function VU(i,t){}function jU(i,t){i&1&&E(0,VU,0,0,"ng-template")}function BU(i,t){if(i&1&&(C(0,"span",12),et(1),w()),i&2){let e=v();m(),Ii(" ",e.header," ")}}function HU(i,t){i&1&&Te(0)}function UU(i,t){i&1&&on(0,1,["*ngIf","hasHeaderFacet"])}function zU(i,t){i&1&&Te(0)}function $U(i,t){if(i&1&&(se(0),E(1,zU,1,0,"ng-container",6),oe()),i&2){let e=v();m(),g("ngTemplateOutlet",e.contentTemplate)}}var GU=["*"],K_=(()=>{class i{el;changeDetector;id;header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}headerAriaLevel=2;selectedChange=new U;headerFacet;templates;_selected=!1;get iconClass(){return this.iconPos==="end"?"p-accordion-toggle-icon-end":"p-accordion-toggle-icon"}contentTemplate;headerTemplate;iconTemplate;loaded=!1;accordion;constructor(e,n,r){this.el=n,this.changeDetector=r,this.accordion=e,this.id=ut()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}toggle(e){if(this.disabled)return!1;let n=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:n});else{if(!this.accordion.multiple)for(var r=0;r<this.accordion.tabs.length;r++)this.accordion.tabs[r].selected&&(this.accordion.tabs[r].selected=!1,this.accordion.tabs[r].selectedChange.emit(!1),this.accordion.tabs[r].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:n})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e?.preventDefault()}findTabIndex(){let e=-1;for(var n=0;n<this.accordion.tabs.length;n++)if(this.accordion.tabs[n]==this){e=n;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){switch(e.code){case"Enter":case"Space":this.toggle(e),e.preventDefault();break;default:break}}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}static \u0275fac=function(n){return new(n||i)(D(Ft(()=>X_)),D(pe),D(je))};static \u0275cmp=B({type:i,selectors:[["p-accordionTab"]],contentQueries:function(n,r,s){if(n&1&&(at(s,rE,4),at(s,tt,4)),n&2){let o;X(o=Q())&&(r.headerFacet=o),X(o=Q())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{id:"id",header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:[2,"disabled","disabled",V],cache:[2,"cache","cache",V],transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected",headerAriaLevel:[2,"headerAriaLevel","headerAriaLevel",we]},outputs:{selectedChange:"selectedChange"},features:[Re],ngContentSelectors:TU,decls:12,vars:44,consts:[[1,"p-accordion-tab",3,"ngClass","ngStyle"],["role","heading",1,"p-accordion-header"],["role","button",1,"p-accordion-header-link",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content",3,"ngClass","ngStyle"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-accordion-header-text"]],template:function(n,r){n&1&&(mn(EU),C(0,"div",0)(1,"div",1)(2,"a",2),N("click",function(o){return r.toggle(o)})("keydown",function(o){return r.onKeydown(o)}),E(3,NU,3,2,"ng-container",3)(4,jU,1,0,null,4)(5,BU,2,1,"span",5)(6,HU,1,0,"ng-container",6)(7,UU,1,0,"ng-content",3),w()(),C(8,"div",7)(9,"div",8),on(10),E(11,$U,2,1,"ng-container",3),w()()()),n&2&&(sn("p-accordion-tab-active",r.selected),g("ngClass",r.tabStyleClass)("ngStyle",r.tabStyle),I("data-pc-name","accordiontab"),m(),sn("p-highlight",r.selected)("p-disabled",r.disabled),I("aria-level",r.headerAriaLevel)("data-p-disabled",r.disabled)("data-pc-section","header"),m(),g("ngClass",r.headerStyleClass)("ngStyle",r.headerStyle),I("tabindex",r.disabled?null:0)("id",r.getTabHeaderActionId(r.id))("aria-controls",r.getTabContentId(r.id))("aria-expanded",r.selected)("aria-disabled",r.disabled)("data-pc-section","headeraction"),m(),g("ngIf",!r.iconTemplate),m(),g("ngTemplateOutlet",r.iconTemplate)("ngTemplateOutletContext",he(34,DU,r.selected)),m(),g("ngIf",!r.hasHeaderFacet),m(),g("ngTemplateOutlet",r.headerTemplate),m(),g("ngIf",r.hasHeaderFacet),m(),g("@tabContent",r.selected?he(38,MU,he(36,XD,r.transitionOptions)):he(42,OU,he(40,XD,r.transitionOptions))),I("id",r.getTabContentId(r.id))("aria-hidden",!r.selected)("aria-labelledby",r.getTabHeaderActionId(r.id))("data-pc-section","toggleablecontent"),m(),g("ngClass",r.contentStyleClass)("ngStyle",r.contentStyle),m(2),g("ngIf",r.contentTemplate&&(r.cache?r.loaded:r.selected)))},dependencies:()=>[Ke,lt,vt,Xe,tu,_s],styles:[`@layer primeng{.p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}.p-accordion-toggle-icon-end{order:1;margin-left:auto}.p-accordion-toggle-icon{order:0}}
`],encapsulation:2,data:{animation:[qn("tabContent",[A0("hidden",It({height:"0",visibility:"hidden"})),A0("visible",It({height:"*",visibility:"visible"})),Ht("visible <=> hidden",[Yt("{{transitionParams}}")]),Ht("void => *",Yt(0))])]},changeDetection:0})}return i})(),X_=(()=>{class i{el;changeDetector;multiple=!1;style;styleClass;expandIcon;collapseIcon;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.updateSelectionState()}selectOnFocus=!1;get headerAriaLevel(){return this._headerAriaLevel}set headerAriaLevel(e){typeof e=="number"&&e>0?this._headerAriaLevel=e:this._headerAriaLevel!==2&&(this._headerAriaLevel=2)}onClose=new U;onOpen=new U;activeIndexChange=new U;tabList;tabListSubscription=null;_activeIndex;_headerAriaLevel=2;preventActiveIndexPropagation=!1;tabs=[];constructor(e,n){this.el=e,this.changeDetector=n}onKeydown(e){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":e.shiftKey||this.onTabHomeKey(e);break;case"End":e.shiftKey||this.onTabEndKey(e);break}}focusedElementIsAccordionHeader(){return document.activeElement.tagName.toLowerCase()==="a"&&document.activeElement.classList.contains("p-accordion-header-link")}onTabArrowDownKey(e){if(this.focusedElementIsAccordionHeader()){let n=this.findNextHeaderAction(e.target.parentElement.parentElement.parentElement);n?this.changeFocusedTab(n):this.onTabHomeKey(e),e.preventDefault()}}onTabArrowUpKey(e){if(this.focusedElementIsAccordionHeader()){let n=this.findPrevHeaderAction(e.target.parentElement.parentElement.parentElement);n?this.changeFocusedTab(n):this.onTabEndKey(e),e.preventDefault()}}onTabHomeKey(e){let n=this.findFirstHeaderAction();this.changeFocusedTab(n),e.preventDefault()}changeFocusedTab(e){e&&(M.focus(e),this.selectOnFocus&&this.tabs.forEach((n,r)=>{let s=this.multiple?this._activeIndex.includes(r):r===this._activeIndex;this.multiple?(this._activeIndex||(this._activeIndex=[]),n.id==e.id&&(n.selected=!n.selected,this._activeIndex.includes(r)?this._activeIndex=this._activeIndex.filter(o=>o!==r):this._activeIndex.push(r))):n.id==e.id?(n.selected=!n.selected,this._activeIndex=r):n.selected=!1,n.selectedChange.emit(s),this.activeIndexChange.emit(this._activeIndex),n.changeDetector.markForCheck()}))}findNextHeaderAction(e,n=!1){let r=n?e:e.nextElementSibling,s=M.findSingle(r,'[data-pc-section="header"]');return s?M.getAttribute(s,"data-p-disabled")?this.findNextHeaderAction(s.parentElement.parentElement):M.findSingle(s,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,n=!1){let r=n?e:e.previousElementSibling,s=M.findSingle(r,'[data-pc-section="header"]');return s?M.getAttribute(s,"data-p-disabled")?this.findPrevHeaderAction(s.parentElement.parentElement):M.findSingle(s,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes[0];return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes,n=e[e.length-1];return this.findPrevHeaderAction(n,!0)}onTabEndKey(e){let n=this.findLastHeaderAction();this.changeFocusedTab(n),e.preventDefault()}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.tabs.forEach(e=>{e.headerAriaLevel=this._headerAriaLevel}),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&this._activeIndex!=null)for(let e=0;e<this.tabs.length;e++){let n=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;n!==this.tabs[e].selected&&(this.tabs[e].selected=n,this.tabs[e].selectedChange.emit(n),this.tabs[e].changeDetector.markForCheck())}}isTabActive(e){return this.multiple?this._activeIndex&&this._activeIndex.includes(e):this._activeIndex===e}getTabProp(e,n){return e.props?e.props[n]:void 0}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((n,r)=>{if(n.selected)if(this.multiple)e.push(r);else{e=r;return}}),this.preventActiveIndexPropagation=!0,this._activeIndex=e,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(D(pe),D(je))};static \u0275cmp=B({type:i,selectors:[["p-accordion"]],contentQueries:function(n,r,s){if(n&1&&at(s,K_,5),n&2){let o;X(o=Q())&&(r.tabList=o)}},hostAttrs:[1,"p-element"],hostBindings:function(n,r){n&1&&N("keydown",function(o){return r.onKeydown(o)})},inputs:{multiple:[2,"multiple","multiple",V],style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",V],headerAriaLevel:"headerAriaLevel"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},features:[Re],ngContentSelectors:GU,decls:2,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(n,r){n&1&&(mn(),C(0,"div",0),on(1),w()),n&2&&(H(r.styleClass),g("ngClass","p-accordion p-component")("ngStyle",r.style))},dependencies:[Ke,Xe],encapsulation:2,changeDetection:0})}return i})(),QD=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,tu,_s,Qe]})}return i})();var lf=class i{constructor(t,e){this.svgService=t;this.canvasService=e}item;add(){return rt(this,null,function*(){yield this.canvasService.addSvg(this.item)})}static \u0275fac=function(e){return new(e||i)(D(hl),D(ks))};static \u0275cmp=B({type:i,selectors:[["app-menu-item"]],inputs:{item:"item"},standalone:!0,features:[J],decls:1,vars:3,consts:[[3,"click"]],template:function(e,n){e&1&&(C(0,"p",0),N("click",function(){return n.add()}),w()),e&2&&fx("pi ",n.item.icon," w-12 cursor-pointer")}})};var ZD=[{id:"c-people",index:110,url:"svg/figures/people.svg",label:"",icon:"pi pi-f-human-people"},{id:"c-human-red",index:110,url:"svg/figures/human-red.svg",label:"",icon:"pi pi-f-human-red"},{id:"c-human-green",index:110,url:"svg/figures/human-green.svg",label:"",icon:"pi pi-f-human-green"},{id:"c-human-blue",index:110,url:"svg/figures/human-blue.svg",label:"",icon:"pi pi-f-human-blue"}];var JD=[{id:"c-green-car",index:100,url:"svg/figures/green-car.svg",icon:"pi pi-f-green-car"},{id:"c-red-car",index:100,url:"svg/figures/red-car.svg",icon:"pi pi-f-red-car"},{id:"c-taxi",index:100,url:"svg/figures/taxi.svg",icon:"pi pi-f-taxi"},{id:"c-taxi-old",index:100,url:"svg/figures/taxi-old.svg",icon:"pi pi-f-taxi-old"}];var e2=[{id:"c-bus",index:100,url:"svg/figures/bus.svg",icon:"pi pi-f-bus"},{id:"c-trolleybus",index:100,url:"svg/figures/trolleybus.svg",icon:"pi pi-f-trolleybus"},{id:"c-tram",index:100,url:"svg/figures/tram.svg",icon:"pi pi-f-tram"}];var t2=[{id:"c-truck",index:100,url:"svg/figures/truck.svg",icon:"pi pi-f-truck"},{id:"c-truck-old",index:100,url:"svg/figures/truck-old.svg",icon:"pi pi-f-truck-old"},{id:"c-tractor",index:100,url:"svg/figures/tractor.svg",icon:"pi pi-f-tractor"}];var n2=[{id:"c-fire-engine",index:100,url:"svg/figures/fire-engine.svg",icon:"pi pi-f-fire-engine"},{id:"c-fire-engine-new",index:100,url:"svg/figures/fire-engine-new.svg",icon:"pi pi-f-fire-engine-new"},{id:"c-ambulance-new",index:100,url:"svg/figures/ambulance-new.svg",icon:"pi pi-f-ambulance-new"},{id:"c-ambulance-old",index:100,url:"svg/figures/ambulance-old.svg",icon:"pi pi-f-ambulance-old"},{id:"c-police",index:100,url:"svg/figures/police.svg",icon:"pi pi-f-police"},{id:"c-police-old",index:100,url:"svg/figures/police-old.svg",icon:"pi pi-f-police-old"},{id:"c-military",index:100,url:"svg/figures/military.svg",icon:"pi pi-f-military"}];var i2=[{id:"c-motorcycle",index:100,url:"svg/figures/motorcycle.svg",icon:"pi pi-f-motorcycle"},{id:"c-motorcycle-sport",index:100,url:"svg/figures/motorcycle-sport.svg",icon:"pi pi-f-motorcycle-sport"},{id:"c-moped-green",index:100,url:"svg/figures/moped-green.svg",icon:"pi pi-f-moped-green"},{id:"c-moped-red",index:100,url:"svg/figures/moped-red.svg",icon:"pi pi-f-moped-red"},{id:"c-bicycle-green",index:100,url:"svg/figures/bicycle-green.svg",icon:"pi pi-f-bicycle-green"},{id:"c-bicycle-brown",index:100,url:"svg/figures/bicycle-brown.svg",icon:"pi pi-f-bicycle-brown"},{id:"c-scooter",index:100,url:"svg/figures/scooter.svg",icon:"pi pi-f-scooter"}];var r2=[{id:"1",label:"\u041B\u044E\u0434\u0438",items:ZD,w:"w-5"},{id:"2",label:"\u041B\u0435\u0433\u043A\u043E\u0432\u043E\u0439 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",items:JD,w:"w-5"},{id:"3",label:"\u041E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",items:e2,w:"w-5"},{id:"4",label:"\u0413\u0440\u0443\u0437\u043E\u0432\u043E\u0439 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",items:t2,w:"w-5"},{id:"5",label:"\u0421\u043F\u0435\u0446. \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",items:n2,w:"w-5"},{id:"6",label:"\u0414\u0432\u0443\u0445\u043A\u043E\u043B\u0435\u0441\u043D\u044B\u0439 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",items:i2,w:"w-5"}];var s2=[{id:"road-straight",index:10,url:"svg/roads/two-lane/straight.svg",label:"",icon:"pi pi-r-straight"},{id:"road-straight-road-with-a-turn",index:10,url:"svg/roads/two-lane/straight-road-with-a-turn.svg",label:"",icon:"pi pi-r-straight-road-with-a-turn"},{id:"road-short-smooth-turn",index:10,url:"svg/roads/two-lane/short-smooth-turn.svg",label:"",icon:"pi pi-r-short-smooth-turn"},{id:"road-long-smooth-turn",index:10,url:"svg/roads/two-lane/long-smooth-turn.svg",label:"",icon:"pi pi-r-long-smooth-turn"},{id:"road-straight-and-smooth-turn",index:10,url:"svg/roads/two-lane/straight-and-smooth-turn.svg",label:"",icon:"pi pi-r-straight-and-smooth-turn"},{id:"road-straight-sharp-exit",index:10,url:"svg/roads/two-lane/straight-sharp-exit.svg",label:"",icon:"pi pi-r-straight-sharp-exit"},{id:"road-two-lane-intersection",index:10,url:"svg/roads/two-lane/two-lane-intersection.svg",label:"",icon:"pi pi-r-two-lane-intersection"},{id:"road-two-lane-roundabout",index:10,url:"svg/roads/two-lane/two-lane-roundabout.svg",label:"",icon:"pi pi-r-two-lane-roundabout"},{id:"bus-line",index:11,url:"svg/roads/two-lane/bus-line.svg",label:"",icon:"pi pi-r-bus-line"},{id:"line",index:11,url:"svg/roads/two-lane/line.svg",label:"",icon:"pi pi-r-line"},{id:"markup1",index:10,url:"svg/roads/two-lane/markup1.svg",label:"",icon:"pi pi-r-markup1"},{id:"markup1-1",index:10,url:"svg/roads/two-lane/markup1-1.svg",label:"",icon:"pi pi-r-markup1-1"},{id:"markup2",index:10,url:"svg/roads/two-lane/markup2.svg",label:"",icon:"pi pi-r-markup2"},{id:"markup2-2",index:10,url:"svg/roads/two-lane/markup2-2.svg",label:"",icon:"pi pi-r-markup2-2"},{id:"markup3",index:10,url:"svg/roads/two-lane/markup3.svg",label:"",icon:"pi pi-r-markup3"},{id:"markup3-3",index:10,url:"svg/roads/two-lane/markup3-3.svg",label:"",icon:"pi pi-r-markup3-3"},{id:"oblique-exit",index:10,url:"svg/roads/two-lane/oblique-exit.svg",label:"",icon:"pi pi-r-oblique-exit"},{id:"one-oblique",index:10,url:"svg/roads/two-lane/one-oblique.svg",label:"",icon:"pi pi-r-one-oblique"},{id:"pedestrian-crossing",index:10,url:"svg/roads/two-lane/pedestrian-crossing.svg",label:"",icon:"pi pi-r-pedestrian-crossing"},{id:"road-straight-and-smooth-turn-line",index:10,url:"svg/roads/two-lane/road-straight-and-smooth-turn-line.svg",label:"",icon:"pi pi-r-road-straight-and-smooth-turn-line"},{id:"roundabout-exit-to-single-lane",index:10,url:"svg/roads/two-lane/roundabout-exit-to-single-lane.svg",label:"",icon:"pi pi-r-roundabout-exit-to-single-lane"},{id:"single-quarter",index:10,url:"svg/roads/two-lane/single-quarter.svg",label:"",icon:"pi pi-r-single-quarter"},{id:"solid-double",index:10,url:"svg/roads/two-lane/solid-double.svg",label:"",icon:"pi pi-r-solid-double"},{id:"solid-line",index:10,url:"svg/roads/two-lane/solid-line.svg",label:"",icon:"pi pi-r-solid-line"},{id:"turn-to-single",index:10,url:"svg/roads/two-lane/turn-to-single.svg",label:"",icon:"pi pi-r-turn-to-single"}];var o2=[{id:"three-lane",index:10,url:"svg/roads/three-line/three-lane.svg",label:"",icon:"pi pi-r-three-lane"}];var a2=[{id:"four-lane",index:10,url:"svg/roads/three-line/four-lane.svg",label:"",icon:"pi pi-r-four-lane"},{id:"four-lane-2",index:10,url:"svg/roads/four-line/four-lane-2.svg",label:"",icon:"pi pi-r-four-lane-2"},{id:"four-line-2-2",index:10,url:"svg/roads/four-line/four-line-2-2.svg",label:"",icon:"pi pi-r-four-line-2-2"},{id:"four-lane-intersection-1",index:10,url:"svg/roads/four-line/four-lane-intersection-1.svg",label:"",icon:"pi pi-r-four-lane-intersection-1"},{id:"four-lane-intersection-2",index:10,url:"svg/roads/four-line/four-lane-intersection-2.svg",label:"",icon:"pi pi-r-four-lane-intersection-2"},{id:"four-lane-intersection-3",index:10,url:"svg/roads/four-line/four-lane-intersection-3.svg",label:"",icon:"pi pi-r-four-lane-intersection-3"},{id:"four-lane-intersection-4",index:10,url:"svg/roads/four-line/four-lane-intersection-4.svg",label:"",icon:"pi pi-r-four-lane-intersection-4"},{id:"four-lane-turn-1",index:10,url:"svg/roads/four-line/four-lane-turn-1.svg",label:"",icon:"pi pi-r-four-lane-turn-1"},{id:"four-lane-turn-2",index:10,url:"svg/roads/four-line/four-lane-turn-2.svg",label:"",icon:"pi pi-r-four-lane-turn-2"}];var l2=[{id:"1",label:"\u0414\u0432\u0443\u0445\u043F\u043E\u043B\u043E\u0441\u043D\u044B\u0435",items:s2,w:"w-5"},{id:"2",label:"\u0422\u0440\u0435\u0445\u043F\u043E\u043B\u043E\u0441\u043D\u044B\u0435",items:o2,w:"w-5"},{id:"3",label:"\u0427\u0435\u0442\u044B\u0440\u0435\u0445\u043F\u043E\u043B\u043E\u0441\u043D\u044B\u0435",items:a2,w:"w-5"}];var c2=[{id:"traffic-light-classic",index:110,url:"svg/traffic-light/traffic-light-classic.svg",icon:"pi pi-tl-traffic-light-classic"},{id:"traffic-light-classic-turn",index:110,url:"svg/traffic-light/traffic-light-classic-turn.svg",icon:"pi pi-tl-traffic-light-classic-turn"},{id:"traffic-light-classic-arrow",index:110,url:"svg/traffic-light/traffic-light-classic-arrow.svg",icon:"pi pi-tl-traffic-light-classic-arrow"},{id:"traffic-light-classic-left-right",index:110,url:"svg/traffic-light/traffic-light-classic-left-right.svg",icon:"pi pi-tl-traffic-light-classic-left-right"},{id:"traffic-light-classic-turn-back",index:110,url:"svg/traffic-light/traffic-light-classic-turn-back.svg",icon:"pi pi-tl-traffic-light-classic-turn-back"},{id:"traffic-light-pedestrian",index:110,url:"svg/traffic-light/traffic-light-pedestrian.svg",icon:"pi pi-tl-traffic-light-pedestrian"}];var u2=[{id:"road-markings-1",index:12,url:"svg/road-markings/road-markings-1.svg",icon:"pi pi-rm-road-markings-1"},{id:"road-markings-2",index:12,url:"svg/road-markings/road-markings-2.svg",icon:"pi pi-rm-road-markings-2"},{id:"road-markings-3",index:12,url:"svg/road-markings/road-markings-3.svg",icon:"pi pi-rm-road-markings-3"},{id:"road-markings-4",index:12,url:"svg/road-markings/road-markings-4.svg",icon:"pi pi-rm-road-markings-4"},{id:"road-markings-5",index:12,url:"svg/road-markings/road-markings-5.svg",icon:"pi pi-rm-road-markings-5"},{id:"road-markings-6",index:12,url:"svg/road-markings/road-markings-6.svg",icon:"pi pi-rm-road-markings-6"},{id:"road-markings-7",index:12,url:"svg/road-markings/road-markings-7.svg",icon:"pi pi-rm-road-markings-7"},{id:"road-markings-8",index:12,url:"svg/road-markings/road-markings-8.svg",icon:"pi pi-rm-road-markings-8"},{id:"road-markings-9",index:12,url:"svg/road-markings/road-markings-9.svg",icon:"pi pi-rm-road-markings-9"},{id:"road-markings-10",index:12,url:"svg/road-markings/road-markings-10.svg",icon:"pi pi-rm-road-markings-10"},{id:"road-markings-11",index:12,url:"svg/road-markings/road-markings-11.svg",icon:"pi pi-rm-road-markings-11"},{id:"road-markings-12",index:12,url:"svg/road-markings/road-markings-12.svg",icon:"pi pi-rm-road-markings-12"},{id:"road-markings-13",index:12,url:"svg/road-markings/road-markings-13.svg",icon:"pi pi-rm-road-markings-13"},{id:"road-markings-14",index:12,url:"svg/road-markings/road-markings-14.svg",icon:"pi pi-rm-road-markings-14"},{id:"road-markings-15",index:12,url:"svg/road-markings/road-markings-15.svg",icon:"pi pi-rm-road-markings-15"},{id:"road-markings-16",index:12,url:"svg/road-markings/road-markings-16.svg",icon:"pi pi-rm-road-markings-16"},{id:"road-markings-17",index:12,url:"svg/road-markings/road-markings-17.svg",icon:"pi pi-rm-road-markings-17"},{id:"road-markings-18",index:12,url:"svg/road-markings/road-markings-18.svg",icon:"pi pi-rm-road-markings-18"},{id:"road-markings-19",index:12,url:"svg/road-markings/road-markings-19.svg",icon:"pi pi-rm-road-markings-19"},{id:"road-markings-20",index:12,url:"svg/road-markings/road-markings-20.svg",icon:"pi pi-rm-road-markings-20"},{id:"road-markings-21",index:12,url:"svg/road-markings/road-markings-21.svg",icon:"pi pi-rm-road-markings-21"},{id:"road-markings-22",index:12,url:"svg/road-markings/road-markings-22.svg",icon:"pi pi-rm-road-markings-22"},{id:"road-markings-23",index:12,url:"svg/road-markings/road-markings-23.svg",icon:"pi pi-rm-road-markings-23"},{id:"road-markings-24",index:12,url:"svg/road-markings/road-markings-24.svg",icon:"pi pi-rm-road-markings-24"},{id:"road-markings-25",index:12,url:"svg/road-markings/road-markings-25.svg",icon:"pi pi-rm-road-markings-25"},{id:"road-markings-26",index:12,url:"svg/road-markings/road-markings-26.svg",icon:"pi pi-rm-road-markings-26"},{id:"road-markings-27",index:12,url:"svg/road-markings/road-markings-27.svg",icon:"pi pi-rm-road-markings-27"},{id:"road-markings-28",index:12,url:"svg/road-markings/road-markings-28.svg",icon:"pi pi-rm-road-markings-28"},{id:"road-markings-29",index:12,url:"svg/road-markings/road-markings-29.svg",icon:"pi pi-rm-road-markings-29"},{id:"road-markings-30",index:12,url:"svg/road-markings/road-markings-30.svg",icon:"pi pi-rm-road-markings-30"},{id:"road-markings-31",index:12,url:"svg/road-markings/road-markings-31.svg",icon:"pi pi-rm-road-markings-31"},{id:"road-markings-32",index:12,url:"svg/road-markings/road-markings-32.svg",icon:"pi pi-rm-road-markings-32"},{id:"road-markings-33",index:12,url:"svg/road-markings/road-markings-33.svg",icon:"pi pi-rm-road-markings-33"}];var d2=[{id:"warning-signs-1",index:100,url:"svg/warning-signs/warning-signs-1.svg",icon:"pi pi-ws-warning-signs-1"},{id:"warning-signs-2",index:100,url:"svg/warning-signs/warning-signs-2.svg",icon:"pi pi-ws-warning-signs-2"},{id:"warning-signs-3",index:100,url:"svg/warning-signs/warning-signs-3.svg",icon:"pi pi-ws-warning-signs-3"},{id:"warning-signs-4",index:100,url:"svg/warning-signs/warning-signs-4.svg",icon:"pi pi-ws-warning-signs-4"},{id:"warning-signs-5",index:100,url:"svg/warning-signs/warning-signs-5.svg",icon:"pi pi-ws-warning-signs-5"},{id:"warning-signs-6",index:100,url:"svg/warning-signs/warning-signs-6.svg",icon:"pi pi-ws-warning-signs-6"},{id:"warning-signs-7",index:100,url:"svg/warning-signs/warning-signs-7.svg",icon:"pi pi-ws-warning-signs-7"},{id:"warning-signs-8",index:100,url:"svg/warning-signs/warning-signs-8.svg",icon:"pi pi-ws-warning-signs-8"},{id:"warning-signs-9",index:100,url:"svg/warning-signs/warning-signs-9.svg",icon:"pi pi-ws-warning-signs-9"},{id:"warning-signs-10",index:100,url:"svg/warning-signs/warning-signs-10.svg",icon:"pi pi-ws-warning-signs-10"},{id:"warning-signs-11",index:100,url:"svg/warning-signs/warning-signs-11.svg",icon:"pi pi-ws-warning-signs-11"},{id:"warning-signs-12",index:100,url:"svg/warning-signs/warning-signs-12.svg",icon:"pi pi-ws-warning-signs-12"},{id:"warning-signs-13",index:100,url:"svg/warning-signs/warning-signs-13.svg",icon:"pi pi-ws-warning-signs-13"},{id:"warning-signs-14",index:100,url:"svg/warning-signs/warning-signs-14.svg",icon:"pi pi-ws-warning-signs-14"},{id:"warning-signs-15",index:100,url:"svg/warning-signs/warning-signs-15.svg",icon:"pi pi-ws-warning-signs-15"},{id:"warning-signs-16",index:100,url:"svg/warning-signs/warning-signs-16.svg",icon:"pi pi-ws-warning-signs-16"},{id:"warning-signs-17",index:100,url:"svg/warning-signs/warning-signs-17.svg",icon:"pi pi-ws-warning-signs-17"},{id:"warning-signs-18",index:100,url:"svg/warning-signs/warning-signs-18.svg",icon:"pi pi-ws-warning-signs-18"},{id:"warning-signs-19",index:100,url:"svg/warning-signs/warning-signs-19.svg",icon:"pi pi-ws-warning-signs-19"},{id:"warning-signs-20",index:100,url:"svg/warning-signs/warning-signs-20.svg",icon:"pi pi-ws-warning-signs-20"},{id:"warning-signs-21",index:100,url:"svg/warning-signs/warning-signs-21.svg",icon:"pi pi-ws-warning-signs-21"},{id:"warning-signs-22",index:100,url:"svg/warning-signs/warning-signs-22.svg",icon:"pi pi-ws-warning-signs-22"},{id:"warning-signs-23",index:100,url:"svg/warning-signs/warning-signs-23.svg",icon:"pi pi-ws-warning-signs-23"},{id:"warning-signs-24",index:100,url:"svg/warning-signs/warning-signs-24.svg",icon:"pi pi-ws-warning-signs-24"},{id:"warning-signs-25",index:100,url:"svg/warning-signs/warning-signs-25.svg",icon:"pi pi-ws-warning-signs-25"},{id:"warning-signs-26",index:100,url:"svg/warning-signs/warning-signs-26.svg",icon:"pi pi-ws-warning-signs-26"},{id:"warning-signs-27",index:100,url:"svg/warning-signs/warning-signs-27.svg",icon:"pi pi-ws-warning-signs-27"},{id:"warning-signs-28",index:100,url:"svg/warning-signs/warning-signs-28.svg",icon:"pi pi-ws-warning-signs-28"},{id:"warning-signs-29",index:100,url:"svg/warning-signs/warning-signs-29.svg",icon:"pi pi-ws-warning-signs-29"},{id:"warning-signs-30",index:100,url:"svg/warning-signs/warning-signs-30.svg",icon:"pi pi-ws-warning-signs-30"},{id:"warning-signs-31",index:100,url:"svg/warning-signs/warning-signs-31.svg",icon:"pi pi-ws-warning-signs-31"},{id:"warning-signs-32",index:100,url:"svg/warning-signs/warning-signs-32.svg",icon:"pi pi-ws-warning-signs-32"},{id:"warning-signs-33",index:100,url:"svg/warning-signs/warning-signs-33.svg",icon:"pi pi-ws-warning-signs-33"},{id:"warning-signs-34",index:100,url:"svg/warning-signs/warning-signs-34.svg",icon:"pi pi-ws-warning-signs-34"},{id:"warning-signs-35",index:100,url:"svg/warning-signs/warning-signs-35.svg",icon:"pi pi-ws-warning-signs-35"},{id:"warning-signs-36",index:100,url:"svg/warning-signs/warning-signs-36.svg",icon:"pi pi-ws-warning-signs-36"},{id:"warning-signs-37",index:100,url:"svg/warning-signs/warning-signs-37.svg",icon:"pi pi-ws-warning-signs-37"},{id:"warning-signs-38",index:100,url:"svg/warning-signs/warning-signs-38.svg",icon:"pi pi-ws-warning-signs-38"},{id:"warning-signs-39",index:100,url:"svg/warning-signs/warning-signs-39.svg",icon:"pi pi-ws-warning-signs-39"},{id:"warning-signs-40",index:100,url:"svg/warning-signs/warning-signs-40.svg",icon:"pi pi-ws-warning-signs-40"},{id:"warning-signs-41",index:100,url:"svg/warning-signs/warning-signs-41.svg",icon:"pi pi-ws-warning-signs-41"},{id:"warning-signs-42",index:100,url:"svg/warning-signs/warning-signs-42.svg",icon:"pi pi-ws-warning-signs-42"},{id:"warning-signs-43",index:100,url:"svg/warning-signs/warning-signs-43.svg",icon:"pi pi-ws-warning-signs-43"},{id:"warning-signs-44",index:100,url:"svg/warning-signs/warning-signs-44.svg",icon:"pi pi-ws-warning-signs-44"},{id:"warning-signs-45",index:100,url:"svg/warning-signs/warning-signs-45.svg",icon:"pi pi-ws-warning-signs-45"}];var h2=[{id:"priority-signs-1",index:100,url:"svg/priority-signs/priority-signs-1.svg",icon:"pi pi-ps-priority-signs-1"},{id:"priority-signs-2",index:100,url:"svg/priority-signs/priority-signs-2.svg",icon:"pi pi-ps-priority-signs-2"},{id:"priority-signs-3",index:100,url:"svg/priority-signs/priority-signs-3.svg",icon:"pi pi-ps-priority-signs-3"},{id:"priority-signs-4",index:100,url:"svg/priority-signs/priority-signs-4.svg",icon:"pi pi-ps-priority-signs-4"},{id:"priority-signs-5",index:100,url:"svg/priority-signs/priority-signs-5.svg",icon:"pi pi-ps-priority-signs-5"},{id:"priority-signs-6",index:100,url:"svg/priority-signs/priority-signs-6.svg",icon:"pi pi-ps-priority-signs-6"},{id:"priority-signs-7",index:100,url:"svg/priority-signs/priority-signs-7.svg",icon:"pi pi-ps-priority-signs-7"},{id:"priority-signs-8",index:100,url:"svg/priority-signs/priority-signs-8.svg",icon:"pi pi-ps-priority-signs-8"},{id:"priority-signs-9",index:100,url:"svg/priority-signs/priority-signs-9.svg",icon:"pi pi-ps-priority-signs-9"},{id:"priority-signs-10",index:100,url:"svg/priority-signs/priority-signs-10.svg",icon:"pi pi-ps-priority-signs-10"},{id:"priority-signs-11",index:100,url:"svg/priority-signs/priority-signs-11.svg",icon:"pi pi-ps-priority-signs-11"},{id:"priority-signs-12",index:100,url:"svg/priority-signs/priority-signs-12.svg",icon:"pi pi-ps-priority-signs-12"},{id:"priority-signs-13",index:100,url:"svg/priority-signs/priority-signs-13.svg",icon:"pi pi-ps-priority-signs-13"}];var p2=[{id:"prohibitory-signs-1",index:100,url:"svg/prohibitory-signs/prohibitory-signs-1.svg",icon:"pi pi-pps-prohibitory-signs-1"},{id:"prohibitory-signs-2",index:100,url:"svg/prohibitory-signs/prohibitory-signs-2.svg",icon:"pi pi-pps-prohibitory-signs-2"},{id:"prohibitory-signs-3",index:100,url:"svg/prohibitory-signs/prohibitory-signs-3.svg",icon:"pi pi-pps-prohibitory-signs-3"},{id:"prohibitory-signs-4",index:100,url:"svg/prohibitory-signs/prohibitory-signs-4.svg",icon:"pi pi-pps-prohibitory-signs-4"},{id:"prohibitory-signs-5",index:100,url:"svg/prohibitory-signs/prohibitory-signs-5.svg",icon:"pi pi-pps-prohibitory-signs-5"},{id:"prohibitory-signs-6",index:100,url:"svg/prohibitory-signs/prohibitory-signs-6.svg",icon:"pi pi-pps-prohibitory-signs-6"},{id:"prohibitory-signs-7",index:100,url:"svg/prohibitory-signs/prohibitory-signs-7.svg",icon:"pi pi-pps-prohibitory-signs-7"},{id:"prohibitory-signs-8",index:100,url:"svg/prohibitory-signs/prohibitory-signs-8.svg",icon:"pi pi-pps-prohibitory-signs-8"},{id:"prohibitory-signs-9",index:100,url:"svg/prohibitory-signs/prohibitory-signs-9.svg",icon:"pi pi-pps-prohibitory-signs-9"},{id:"prohibitory-signs-10",index:100,url:"svg/prohibitory-signs/prohibitory-signs-10.svg",icon:"pi pi-pps-prohibitory-signs-10"},{id:"prohibitory-signs-11",index:100,url:"svg/prohibitory-signs/prohibitory-signs-11.svg",icon:"pi pi-pps-prohibitory-signs-11"},{id:"prohibitory-signs-12",index:100,url:"svg/prohibitory-signs/prohibitory-signs-12.svg",icon:"pi pi-pps-prohibitory-signs-12"},{id:"prohibitory-signs-13",index:100,url:"svg/prohibitory-signs/prohibitory-signs-13.svg",icon:"pi pi-pps-prohibitory-signs-13"},{id:"prohibitory-signs-14",index:100,url:"svg/prohibitory-signs/prohibitory-signs-14.svg",icon:"pi pi-pps-prohibitory-signs-14"},{id:"prohibitory-signs-15",index:100,url:"svg/prohibitory-signs/prohibitory-signs-15.svg",icon:"pi pi-pps-prohibitory-signs-15"},{id:"prohibitory-signs-16",index:100,url:"svg/prohibitory-signs/prohibitory-signs-16.svg",icon:"pi pi-pps-prohibitory-signs-16"},{id:"prohibitory-signs-17",index:100,url:"svg/prohibitory-signs/prohibitory-signs-17.svg",icon:"pi pi-pps-prohibitory-signs-17"},{id:"prohibitory-signs-18",index:100,url:"svg/prohibitory-signs/prohibitory-signs-18.svg",icon:"pi pi-pps-prohibitory-signs-18"},{id:"prohibitory-signs-19",index:100,url:"svg/prohibitory-signs/prohibitory-signs-19.svg",icon:"pi pi-pps-prohibitory-signs-19"},{id:"prohibitory-signs-20",index:100,url:"svg/prohibitory-signs/prohibitory-signs-20.svg",icon:"pi pi-pps-prohibitory-signs-20"},{id:"prohibitory-signs-21",index:100,url:"svg/prohibitory-signs/prohibitory-signs-21.svg",icon:"pi pi-pps-prohibitory-signs-21"},{id:"prohibitory-signs-22",index:100,url:"svg/prohibitory-signs/prohibitory-signs-22.svg",icon:"pi pi-pps-prohibitory-signs-22"},{id:"prohibitory-signs-23",index:100,url:"svg/prohibitory-signs/prohibitory-signs-23.svg",icon:"pi pi-pps-prohibitory-signs-23"},{id:"prohibitory-signs-24",index:100,url:"svg/prohibitory-signs/prohibitory-signs-24.svg",icon:"pi pi-pps-prohibitory-signs-24"},{id:"prohibitory-signs-25",index:100,url:"svg/prohibitory-signs/prohibitory-signs-25.svg",icon:"pi pi-pps-prohibitory-signs-25"},{id:"prohibitory-signs-26",index:100,url:"svg/prohibitory-signs/prohibitory-signs-26.svg",icon:"pi pi-pps-prohibitory-signs-26"},{id:"prohibitory-signs-27",index:100,url:"svg/prohibitory-signs/prohibitory-signs-27.svg",icon:"pi pi-pps-prohibitory-signs-27"},{id:"prohibitory-signs-28",index:100,url:"svg/prohibitory-signs/prohibitory-signs-28.svg",icon:"pi pi-pps-prohibitory-signs-28"},{id:"prohibitory-signs-29",index:100,url:"svg/prohibitory-signs/prohibitory-signs-29.svg",icon:"pi pi-pps-prohibitory-signs-29"},{id:"prohibitory-signs-30",index:100,url:"svg/prohibitory-signs/prohibitory-signs-30.svg",icon:"pi pi-pps-prohibitory-signs-30"},{id:"prohibitory-signs-31",index:100,url:"svg/prohibitory-signs/prohibitory-signs-31.svg",icon:"pi pi-pps-prohibitory-signs-31"},{id:"prohibitory-signs-32",index:100,url:"svg/prohibitory-signs/prohibitory-signs-32.svg",icon:"pi pi-pps-prohibitory-signs-32"},{id:"prohibitory-signs-33",index:100,url:"svg/prohibitory-signs/prohibitory-signs-33.svg",icon:"pi pi-pps-prohibitory-signs-33"},{id:"prohibitory-signs-34",index:100,url:"svg/prohibitory-signs/prohibitory-signs-34.svg",icon:"pi pi-pps-prohibitory-signs-34"},{id:"prohibitory-signs-35",index:100,url:"svg/prohibitory-signs/prohibitory-signs-35.svg",icon:"pi pi-pps-prohibitory-signs-35"}];var f2=[{id:"mandatory-signs-1",index:100,url:"svg/mandatory-signs/mandatory-signs-1.svg",icon:"pi pi-ms-mandatory-signs-1"},{id:"mandatory-signs-2",index:100,url:"svg/mandatory-signs/mandatory-signs-2.svg",icon:"pi pi-ms-mandatory-signs-2"},{id:"mandatory-signs-3",index:100,url:"svg/mandatory-signs/mandatory-signs-3.svg",icon:"pi pi-ms-mandatory-signs-3"},{id:"mandatory-signs-4",index:100,url:"svg/mandatory-signs/mandatory-signs-4.svg",icon:"pi pi-ms-mandatory-signs-4"},{id:"mandatory-signs-5",index:100,url:"svg/mandatory-signs/mandatory-signs-5.svg",icon:"pi pi-ms-mandatory-signs-5"},{id:"mandatory-signs-6",index:100,url:"svg/mandatory-signs/mandatory-signs-6.svg",icon:"pi pi-ms-mandatory-signs-6"},{id:"mandatory-signs-7",index:100,url:"svg/mandatory-signs/mandatory-signs-7.svg",icon:"pi pi-ms-mandatory-signs-7"},{id:"mandatory-signs-8",index:100,url:"svg/mandatory-signs/mandatory-signs-8.svg",icon:"pi pi-ms-mandatory-signs-8"},{id:"mandatory-signs-9",index:100,url:"svg/mandatory-signs/mandatory-signs-9.svg",icon:"pi pi-ms-mandatory-signs-9"},{id:"mandatory-signs-10",index:100,url:"svg/mandatory-signs/mandatory-signs-10.svg",icon:"pi pi-ms-mandatory-signs-10"},{id:"mandatory-signs-11",index:100,url:"svg/mandatory-signs/mandatory-signs-11.svg",icon:"pi pi-ms-mandatory-signs-11"},{id:"mandatory-signs-12",index:100,url:"svg/mandatory-signs/mandatory-signs-12.svg",icon:"pi pi-ms-mandatory-signs-12"},{id:"mandatory-signs-13",index:100,url:"svg/mandatory-signs/mandatory-signs-13.svg",icon:"pi pi-ms-mandatory-signs-13"},{id:"mandatory-signs-14",index:100,url:"svg/mandatory-signs/mandatory-signs-14.svg",icon:"pi pi-ms-mandatory-signs-14"},{id:"mandatory-signs-15",index:100,url:"svg/mandatory-signs/mandatory-signs-15.svg",icon:"pi pi-ms-mandatory-signs-15"},{id:"mandatory-signs-16",index:100,url:"svg/mandatory-signs/mandatory-signs-16.svg",icon:"pi pi-ms-mandatory-signs-16"},{id:"mandatory-signs-17",index:100,url:"svg/mandatory-signs/mandatory-signs-17.svg",icon:"pi pi-ms-mandatory-signs-17"},{id:"mandatory-signs-18",index:100,url:"svg/mandatory-signs/mandatory-signs-18.svg",icon:"pi pi-ms-mandatory-signs-18"},{id:"mandatory-signs-19",index:100,url:"svg/mandatory-signs/mandatory-signs-19.svg",icon:"pi pi-ms-mandatory-signs-19"},{id:"mandatory-signs-20",index:100,url:"svg/mandatory-signs/mandatory-signs-20.svg",icon:"pi pi-ms-mandatory-signs-20"},{id:"mandatory-signs-21",index:100,url:"svg/mandatory-signs/mandatory-signs-21.svg",icon:"pi pi-ms-mandatory-signs-21"},{id:"mandatory-signs-22",index:100,url:"svg/mandatory-signs/mandatory-signs-22.svg",icon:"pi pi-ms-mandatory-signs-22"}];var g2=[{id:"information-signs-1",index:100,url:"svg/information-signs/information-signs-1.svg",icon:"pi pi-is-information-signs-1"},{id:"information-signs-2",index:100,url:"svg/information-signs/information-signs-2.svg",icon:"pi pi-is-information-signs-2"},{id:"information-signs-3",index:100,url:"svg/information-signs/information-signs-3.svg",icon:"pi pi-is-information-signs-3"},{id:"information-signs-4",index:100,url:"svg/information-signs/information-signs-4.svg",icon:"pi pi-is-information-signs-4"},{id:"information-signs-5",index:100,url:"svg/information-signs/information-signs-5.svg",icon:"pi pi-is-information-signs-5"},{id:"information-signs-6",index:100,url:"svg/information-signs/information-signs-6.svg",icon:"pi pi-is-information-signs-6"},{id:"information-signs-7",index:100,url:"svg/information-signs/information-signs-7.svg",icon:"pi pi-is-information-signs-7"},{id:"information-signs-8",index:100,url:"svg/information-signs/information-signs-8.svg",icon:"pi pi-is-information-signs-8"},{id:"information-signs-9",index:100,url:"svg/information-signs/information-signs-9.svg",icon:"pi pi-is-information-signs-9"},{id:"information-signs-10",index:100,url:"svg/information-signs/information-signs-10.svg",icon:"pi pi-is-information-signs-10"},{id:"information-signs-11",index:100,url:"svg/information-signs/information-signs-11.svg",icon:"pi pi-is-information-signs-11"},{id:"information-signs-12",index:100,url:"svg/information-signs/information-signs-12.svg",icon:"pi pi-is-information-signs-12"},{id:"information-signs-13",index:100,url:"svg/information-signs/information-signs-13.svg",icon:"pi pi-is-information-signs-13"},{id:"information-signs-14",index:100,url:"svg/information-signs/information-signs-14.svg",icon:"pi pi-is-information-signs-14"},{id:"information-signs-15",index:100,url:"svg/information-signs/information-signs-15.svg",icon:"pi pi-is-information-signs-15"},{id:"information-signs-16",index:100,url:"svg/information-signs/information-signs-16.svg",icon:"pi pi-is-information-signs-16"},{id:"information-signs-17",index:100,url:"svg/information-signs/information-signs-17.svg",icon:"pi pi-is-information-signs-17"},{id:"information-signs-18",index:100,url:"svg/information-signs/information-signs-18.svg",icon:"pi pi-is-information-signs-18"},{id:"information-signs-19",index:100,url:"svg/information-signs/information-signs-19.svg",icon:"pi pi-is-information-signs-19"},{id:"information-signs-20",index:100,url:"svg/information-signs/information-signs-20.svg",icon:"pi pi-is-information-signs-20"},{id:"information-signs-21",index:100,url:"svg/information-signs/information-signs-21.svg",icon:"pi pi-is-information-signs-21"},{id:"information-signs-22",index:100,url:"svg/information-signs/information-signs-22.svg",icon:"pi pi-is-information-signs-22"},{id:"information-signs-23",index:100,url:"svg/information-signs/information-signs-23.svg",icon:"pi pi-is-information-signs-23"},{id:"information-signs-24",index:100,url:"svg/information-signs/information-signs-24.svg",icon:"pi pi-is-information-signs-24"},{id:"information-signs-25",index:100,url:"svg/information-signs/information-signs-25.svg",icon:"pi pi-is-information-signs-25"},{id:"information-signs-26",index:100,url:"svg/information-signs/information-signs-26.svg",icon:"pi pi-is-information-signs-26"},{id:"information-signs-27",index:100,url:"svg/information-signs/information-signs-27.svg",icon:"pi pi-is-information-signs-27"},{id:"information-signs-28",index:100,url:"svg/information-signs/information-signs-28.svg",icon:"pi pi-is-information-signs-28"},{id:"information-signs-29",index:100,url:"svg/information-signs/information-signs-29.svg",icon:"pi pi-is-information-signs-29"},{id:"information-signs-30",index:100,url:"svg/information-signs/information-signs-30.svg",icon:"pi pi-is-information-signs-30"},{id:"information-signs-31",index:100,url:"svg/information-signs/information-signs-31.svg",icon:"pi pi-is-information-signs-31"},{id:"information-signs-32",index:100,url:"svg/information-signs/information-signs-32.svg",icon:"pi pi-is-information-signs-32"},{id:"information-signs-33",index:100,url:"svg/information-signs/information-signs-33.svg",icon:"pi pi-is-information-signs-33"},{id:"information-signs-34",index:100,url:"svg/information-signs/information-signs-34.svg",icon:"pi pi-is-information-signs-34"},{id:"information-signs-35",index:100,url:"svg/information-signs/information-signs-35.svg",icon:"pi pi-is-information-signs-35"},{id:"information-signs-36",index:100,url:"svg/information-signs/information-signs-36.svg",icon:"pi pi-is-information-signs-36"},{id:"information-signs-37",index:100,url:"svg/information-signs/information-signs-37.svg",icon:"pi pi-is-information-signs-37"},{id:"information-signs-38",index:100,url:"svg/information-signs/information-signs-38.svg",icon:"pi pi-is-information-signs-38"},{id:"information-signs-39",index:100,url:"svg/information-signs/information-signs-39.svg",icon:"pi pi-is-information-signs-39"},{id:"information-signs-40",index:100,url:"svg/information-signs/information-signs-40.svg",icon:"pi pi-is-information-signs-40"},{id:"information-signs-41",index:100,url:"svg/information-signs/information-signs-41.svg",icon:"pi pi-is-information-signs-41"},{id:"information-signs-42",index:100,url:"svg/information-signs/information-signs-42.svg",icon:"pi pi-is-information-signs-42"},{id:"information-signs-43",index:100,url:"svg/information-signs/information-signs-43.svg",icon:"pi pi-is-information-signs-43"},{id:"information-signs-44",index:100,url:"svg/information-signs/information-signs-44.svg",icon:"pi pi-is-information-signs-44"},{id:"information-signs-45",index:100,url:"svg/information-signs/information-signs-45.svg",icon:"pi pi-is-information-signs-45"},{id:"information-signs-46",index:100,url:"svg/information-signs/information-signs-46.svg",icon:"pi pi-is-information-signs-46"},{id:"information-signs-47",index:100,url:"svg/information-signs/information-signs-47.svg",icon:"pi pi-is-information-signs-47"},{id:"information-signs-48",index:100,url:"svg/information-signs/information-signs-48.svg",icon:"pi pi-is-information-signs-48"},{id:"information-signs-49",index:100,url:"svg/information-signs/information-signs-49.svg",icon:"pi pi-is-information-signs-49"},{id:"information-signs-50",index:100,url:"svg/information-signs/information-signs-50.svg",icon:"pi pi-is-information-signs-50"},{id:"information-signs-51",index:100,url:"svg/information-signs/information-signs-51.svg",icon:"pi pi-is-information-signs-51"},{id:"information-signs-52",index:100,url:"svg/information-signs/information-signs-52.svg",icon:"pi pi-is-information-signs-52"},{id:"information-signs-53",index:100,url:"svg/information-signs/information-signs-53.svg",icon:"pi pi-is-information-signs-53"},{id:"information-signs-54",index:100,url:"svg/information-signs/information-signs-54.svg",icon:"pi pi-is-information-signs-54"},{id:"information-signs-55",index:100,url:"svg/information-signs/information-signs-55.svg",icon:"pi pi-is-information-signs-55"},{id:"information-signs-56",index:100,url:"svg/information-signs/information-signs-56.svg",icon:"pi pi-is-information-signs-56"},{id:"information-signs-57",index:100,url:"svg/information-signs/information-signs-57.svg",icon:"pi pi-is-information-signs-57"},{id:"information-signs-58",index:100,url:"svg/information-signs/information-signs-58.svg",icon:"pi pi-is-information-signs-58"},{id:"information-signs-59",index:100,url:"svg/information-signs/information-signs-59.svg",icon:"pi pi-is-information-signs-59"},{id:"information-signs-60",index:100,url:"svg/information-signs/information-signs-60.svg",icon:"pi pi-is-information-signs-60"},{id:"information-signs-61",index:100,url:"svg/information-signs/information-signs-61.svg",icon:"pi pi-is-information-signs-61"},{id:"information-signs-62",index:100,url:"svg/information-signs/information-signs-62.svg",icon:"pi pi-is-information-signs-62"},{id:"information-signs-63",index:100,url:"svg/information-signs/information-signs-63.svg",icon:"pi pi-is-information-signs-63"},{id:"information-signs-64",index:100,url:"svg/information-signs/information-signs-64.svg",icon:"pi pi-is-information-signs-64"},{id:"information-signs-65",index:100,url:"svg/information-signs/information-signs-65.svg",icon:"pi pi-is-information-signs-65"},{id:"information-signs-66",index:100,url:"svg/information-signs/information-signs-66.svg",icon:"pi pi-is-information-signs-66"},{id:"information-signs-67",index:100,url:"svg/information-signs/information-signs-67.svg",icon:"pi pi-is-information-signs-67"},{id:"information-signs-68",index:100,url:"svg/information-signs/information-signs-68.svg",icon:"pi pi-is-information-signs-68"},{id:"information-signs-69",index:100,url:"svg/information-signs/information-signs-69.svg",icon:"pi pi-is-information-signs-69"},{id:"information-signs-70",index:100,url:"svg/information-signs/information-signs-70.svg",icon:"pi pi-is-information-signs-70"},{id:"information-signs-71",index:100,url:"svg/information-signs/information-signs-71.svg",icon:"pi pi-is-information-signs-71"},{id:"information-signs-72",index:100,url:"svg/information-signs/information-signs-72.svg",icon:"pi pi-is-information-signs-72"},{id:"information-signs-73",index:100,url:"svg/information-signs/information-signs-73.svg",icon:"pi pi-is-information-signs-73"},{id:"information-signs-74",index:100,url:"svg/information-signs/information-signs-74.svg",icon:"pi pi-is-information-signs-74"},{id:"information-signs-75",index:100,url:"svg/information-signs/information-signs-75.svg",icon:"pi pi-is-information-signs-75"},{id:"information-signs-76",index:100,url:"svg/information-signs/information-signs-76.svg",icon:"pi pi-is-information-signs-76"},{id:"information-signs-77",index:100,url:"svg/information-signs/information-signs-77.svg",icon:"pi pi-is-information-signs-77"},{id:"information-signs-78",index:100,url:"svg/information-signs/information-signs-78.svg",icon:"pi pi-is-information-signs-78"},{id:"information-signs-79",index:100,url:"svg/information-signs/information-signs-79.svg",icon:"pi pi-is-information-signs-79"},{id:"information-signs-80",index:100,url:"svg/information-signs/information-signs-80.svg",icon:"pi pi-is-information-signs-80"},{id:"information-signs-81",index:100,url:"svg/information-signs/information-signs-81.svg",icon:"pi pi-is-information-signs-81"},{id:"information-signs-82",index:100,url:"svg/information-signs/information-signs-82.svg",icon:"pi pi-is-information-signs-82"},{id:"information-signs-83",index:100,url:"svg/information-signs/information-signs-83.svg",icon:"pi pi-is-information-signs-83"},{id:"information-signs-84",index:100,url:"svg/information-signs/information-signs-84.svg",icon:"pi pi-is-information-signs-84"},{id:"information-signs-85",index:100,url:"svg/information-signs/information-signs-85.svg",icon:"pi pi-is-information-signs-85"}];var m2=[{id:"service-signs-1",index:100,url:"svg/service-signs/service-signs-1.svg",icon:"pi pi-ss-service-signs-1"},{id:"service-signs-2",index:100,url:"svg/service-signs/service-signs-2.svg",icon:"pi pi-ss-service-signs-2"},{id:"service-signs-3",index:100,url:"svg/service-signs/service-signs-3.svg",icon:"pi pi-ss-service-signs-3"},{id:"service-signs-4",index:100,url:"svg/service-signs/service-signs-4.svg",icon:"pi pi-ss-service-signs-4"},{id:"service-signs-5",index:100,url:"svg/service-signs/service-signs-5.svg",icon:"pi pi-ss-service-signs-5"},{id:"service-signs-6",index:100,url:"svg/service-signs/service-signs-6.svg",icon:"pi pi-ss-service-signs-6"},{id:"service-signs-7",index:100,url:"svg/service-signs/service-signs-7.svg",icon:"pi pi-ss-service-signs-7"},{id:"service-signs-8",index:100,url:"svg/service-signs/service-signs-8.svg",icon:"pi pi-ss-service-signs-8"},{id:"service-signs-9",index:100,url:"svg/service-signs/service-signs-9.svg",icon:"pi pi-ss-service-signs-9"},{id:"service-signs-10",index:100,url:"svg/service-signs/service-signs-10.svg",icon:"pi pi-ss-service-signs-10"},{id:"service-signs-11",index:100,url:"svg/service-signs/service-signs-11.svg",icon:"pi pi-ss-service-signs-11"},{id:"service-signs-12",index:100,url:"svg/service-signs/service-signs-12.svg",icon:"pi pi-ss-service-signs-12"},{id:"service-signs-13",index:100,url:"svg/service-signs/service-signs-13.svg",icon:"pi pi-ss-service-signs-13"},{id:"service-signs-14",index:100,url:"svg/service-signs/service-signs-14.svg",icon:"pi pi-ss-service-signs-14"},{id:"service-signs-15",index:100,url:"svg/service-signs/service-signs-15.svg",icon:"pi pi-ss-service-signs-15"},{id:"service-signs-16",index:100,url:"svg/service-signs/service-signs-16.svg",icon:"pi pi-ss-service-signs-16"},{id:"service-signs-17",index:100,url:"svg/service-signs/service-signs-17.svg",icon:"pi pi-ss-service-signs-17"},{id:"service-signs-18",index:100,url:"svg/service-signs/service-signs-18.svg",icon:"pi pi-ss-service-signs-18"},{id:"service-signs-19",index:100,url:"svg/service-signs/service-signs-19.svg",icon:"pi pi-ss-service-signs-19"},{id:"service-signs-20",index:100,url:"svg/service-signs/service-signs-20.svg",icon:"pi pi-ss-service-signs-20"},{id:"service-signs-21",index:100,url:"svg/service-signs/service-signs-21.svg",icon:"pi pi-ss-service-signs-21"},{id:"service-signs-22",index:100,url:"svg/service-signs/service-signs-22.svg",icon:"pi pi-ss-service-signs-22"}];var v2=[{id:"additional-signs-1",index:100,url:"svg/additional-signs/additional-signs-1.svg",icon:"pi pi-as-additional-signs-1"},{id:"additional-signs-2",index:100,url:"svg/additional-signs/additional-signs-2.svg",icon:"pi pi-as-additional-signs-2"},{id:"additional-signs-3",index:100,url:"svg/additional-signs/additional-signs-3.svg",icon:"pi pi-as-additional-signs-3"},{id:"additional-signs-4",index:100,url:"svg/additional-signs/additional-signs-4.svg",icon:"pi pi-as-additional-signs-4"},{id:"additional-signs-5",index:100,url:"svg/additional-signs/additional-signs-5.svg",icon:"pi pi-as-additional-signs-5"},{id:"additional-signs-6",index:100,url:"svg/additional-signs/additional-signs-6.svg",icon:"pi pi-as-additional-signs-6"},{id:"additional-signs-7",index:100,url:"svg/additional-signs/additional-signs-7.svg",icon:"pi pi-as-additional-signs-7"},{id:"additional-signs-8",index:100,url:"svg/additional-signs/additional-signs-8.svg",icon:"pi pi-as-additional-signs-8"},{id:"additional-signs-9",index:100,url:"svg/additional-signs/additional-signs-9.svg",icon:"pi pi-as-additional-signs-9"},{id:"additional-signs-10",index:100,url:"svg/additional-signs/additional-signs-10.svg",icon:"pi pi-as-additional-signs-10"},{id:"additional-signs-11",index:100,url:"svg/additional-signs/additional-signs-11.svg",icon:"pi pi-as-additional-signs-11"},{id:"additional-signs-12",index:100,url:"svg/additional-signs/additional-signs-12.svg",icon:"pi pi-as-additional-signs-12"},{id:"additional-signs-13",index:100,url:"svg/additional-signs/additional-signs-13.svg",icon:"pi pi-as-additional-signs-13"},{id:"additional-signs-14",index:100,url:"svg/additional-signs/additional-signs-14.svg",icon:"pi pi-as-additional-signs-14"},{id:"additional-signs-15",index:100,url:"svg/additional-signs/additional-signs-15.svg",icon:"pi pi-as-additional-signs-15"},{id:"additional-signs-16",index:100,url:"svg/additional-signs/additional-signs-16.svg",icon:"pi pi-as-additional-signs-16"},{id:"additional-signs-17",index:100,url:"svg/additional-signs/additional-signs-17.svg",icon:"pi pi-as-additional-signs-17"},{id:"additional-signs-18",index:100,url:"svg/additional-signs/additional-signs-18.svg",icon:"pi pi-as-additional-signs-18"},{id:"additional-signs-19",index:100,url:"svg/additional-signs/additional-signs-19.svg",icon:"pi pi-as-additional-signs-19"},{id:"additional-signs-20",index:100,url:"svg/additional-signs/additional-signs-20.svg",icon:"pi pi-as-additional-signs-20"},{id:"additional-signs-21",index:100,url:"svg/additional-signs/additional-signs-21.svg",icon:"pi pi-as-additional-signs-21"},{id:"additional-signs-22",index:100,url:"svg/additional-signs/additional-signs-22.svg",icon:"pi pi-as-additional-signs-22"},{id:"additional-signs-23",index:100,url:"svg/additional-signs/additional-signs-23.svg",icon:"pi pi-as-additional-signs-23"},{id:"additional-signs-24",index:100,url:"svg/additional-signs/additional-signs-24.svg",icon:"pi pi-as-additional-signs-24"},{id:"additional-signs-25",index:100,url:"svg/additional-signs/additional-signs-25.svg",icon:"pi pi-as-additional-signs-25"},{id:"additional-signs-26",index:100,url:"svg/additional-signs/additional-signs-26.svg",icon:"pi pi-as-additional-signs-26"},{id:"additional-signs-27",index:100,url:"svg/additional-signs/additional-signs-27.svg",icon:"pi pi-as-additional-signs-27"},{id:"additional-signs-28",index:100,url:"svg/additional-signs/additional-signs-28.svg",icon:"pi pi-as-additional-signs-28"},{id:"additional-signs-29",index:100,url:"svg/additional-signs/additional-signs-29.svg",icon:"pi pi-as-additional-signs-29"},{id:"additional-signs-30",index:100,url:"svg/additional-signs/additional-signs-30.svg",icon:"pi pi-as-additional-signs-30"},{id:"additional-signs-31",index:100,url:"svg/additional-signs/additional-signs-31.svg",icon:"pi pi-as-additional-signs-31"},{id:"additional-signs-32",index:100,url:"svg/additional-signs/additional-signs-32.svg",icon:"pi pi-as-additional-signs-32"},{id:"additional-signs-33",index:100,url:"svg/additional-signs/additional-signs-33.svg",icon:"pi pi-as-additional-signs-33"},{id:"additional-signs-34",index:100,url:"svg/additional-signs/additional-signs-34.svg",icon:"pi pi-as-additional-signs-34"},{id:"additional-signs-35",index:100,url:"svg/additional-signs/additional-signs-35.svg",icon:"pi pi-as-additional-signs-35"},{id:"additional-signs-36",index:100,url:"svg/additional-signs/additional-signs-36.svg",icon:"pi pi-as-additional-signs-36"},{id:"additional-signs-37",index:100,url:"svg/additional-signs/additional-signs-37.svg",icon:"pi pi-as-additional-signs-37"},{id:"additional-signs-38",index:100,url:"svg/additional-signs/additional-signs-38.svg",icon:"pi pi-as-additional-signs-38"},{id:"additional-signs-39",index:100,url:"svg/additional-signs/additional-signs-39.svg",icon:"pi pi-as-additional-signs-39"},{id:"additional-signs-40",index:100,url:"svg/additional-signs/additional-signs-40.svg",icon:"pi pi-as-additional-signs-40"},{id:"additional-signs-41",index:100,url:"svg/additional-signs/additional-signs-41.svg",icon:"pi pi-as-additional-signs-41"},{id:"additional-signs-42",index:100,url:"svg/additional-signs/additional-signs-42.svg",icon:"pi pi-as-additional-signs-42"},{id:"additional-signs-43",index:100,url:"svg/additional-signs/additional-signs-43.svg",icon:"pi pi-as-additional-signs-43"},{id:"additional-signs-44",index:100,url:"svg/additional-signs/additional-signs-44.svg",icon:"pi pi-as-additional-signs-44"},{id:"additional-signs-45",index:100,url:"svg/additional-signs/additional-signs-45.svg",icon:"pi pi-as-additional-signs-45"},{id:"additional-signs-46",index:100,url:"svg/additional-signs/additional-signs-46.svg",icon:"pi pi-as-additional-signs-46"},{id:"additional-signs-47",index:100,url:"svg/additional-signs/additional-signs-47.svg",icon:"pi pi-as-additional-signs-47"},{id:"additional-signs-48",index:100,url:"svg/additional-signs/additional-signs-48.svg",icon:"pi pi-as-additional-signs-48"},{id:"additional-signs-49",index:100,url:"svg/additional-signs/additional-signs-49.svg",icon:"pi pi-as-additional-signs-49"},{id:"additional-signs-50",index:100,url:"svg/additional-signs/additional-signs-50.svg",icon:"pi pi-as-additional-signs-50"},{id:"additional-signs-51",index:100,url:"svg/additional-signs/additional-signs-51.svg",icon:"pi pi-as-additional-signs-51"},{id:"additional-signs-52",index:100,url:"svg/additional-signs/additional-signs-52.svg",icon:"pi pi-as-additional-signs-52"},{id:"additional-signs-53",index:100,url:"svg/additional-signs/additional-signs-53.svg",icon:"pi pi-as-additional-signs-53"},{id:"additional-signs-54",index:100,url:"svg/additional-signs/additional-signs-54.svg",icon:"pi pi-as-additional-signs-54"},{id:"additional-signs-55",index:100,url:"svg/additional-signs/additional-signs-55.svg",icon:"pi pi-as-additional-signs-55"},{id:"additional-signs-56",index:100,url:"svg/additional-signs/additional-signs-56.svg",icon:"pi pi-as-additional-signs-56"},{id:"additional-signs-57",index:100,url:"svg/additional-signs/additional-signs-57.svg",icon:"pi pi-as-additional-signs-57"},{id:"additional-signs-58",index:100,url:"svg/additional-signs/additional-signs-58.svg",icon:"pi pi-as-additional-signs-58"},{id:"additional-signs-59",index:100,url:"svg/additional-signs/additional-signs-59.svg",icon:"pi pi-as-additional-signs-59"},{id:"additional-signs-60",index:100,url:"svg/additional-signs/additional-signs-60.svg",icon:"pi pi-as-additional-signs-60"},{id:"additional-signs-61",index:100,url:"svg/additional-signs/additional-signs-61.svg",icon:"pi pi-as-additional-signs-61"},{id:"additional-signs-62",index:100,url:"svg/additional-signs/additional-signs-62.svg",icon:"pi pi-as-additional-signs-62"},{id:"additional-signs-63",index:100,url:"svg/additional-signs/additional-signs-63.svg",icon:"pi pi-as-additional-signs-63"},{id:"additional-signs-64",index:100,url:"svg/additional-signs/additional-signs-64.svg",icon:"pi pi-as-additional-signs-64"},{id:"additional-signs-65",index:100,url:"svg/additional-signs/additional-signs-65.svg",icon:"pi pi-as-additional-signs-65"},{id:"additional-signs-66",index:100,url:"svg/additional-signs/additional-signs-66.svg",icon:"pi pi-as-additional-signs-66"}];var y2=[{id:"identification-marks-1",index:100,url:"svg/identification-marks/identification-marks-1.svg",icon:"pi pi-im-identification-marks-1"},{id:"identification-marks-2",index:100,url:"svg/identification-marks/identification-marks-2.svg",icon:"pi pi-im-identification-marks-2"},{id:"identification-marks-3",index:100,url:"svg/identification-marks/identification-marks-3.svg",icon:"pi pi-im-identification-marks-3"},{id:"identification-marks-4",index:100,url:"svg/identification-marks/identification-marks-4.svg",icon:"pi pi-im-identification-marks-4"},{id:"identification-marks-5",index:100,url:"svg/identification-marks/identification-marks-5.svg",icon:"pi pi-im-identification-marks-5"},{id:"identification-marks-6",index:100,url:"svg/identification-marks/identification-marks-6.svg",icon:"pi pi-im-identification-marks-6"}];var _2=[{id:"1",label:"\u041F\u0440\u0435\u0434\u0443\u043F\u0440\u0435\u0436\u0434\u0430\u044E\u0449\u0438\u0435 \u0437\u043D\u0430\u043A\u0438",items:d2,w:"w-3"},{id:"2",label:"\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442\u043D\u044B\u0435 \u0437\u043D\u0430\u043A\u0438",items:h2,w:"w-3"},{id:"3",label:"\u0417\u0430\u043F\u0440\u0435\u0449\u0430\u044E\u0449\u0438\u0435 \u0437\u043D\u0430\u043A\u0438",items:p2,w:"w-3"},{id:"4",label:"\u041F\u0440\u0435\u0434\u043F\u0438\u0441\u044B\u0432\u0430\u044E\u0449\u0438\u0435 \u0437\u043D\u0430\u043A\u0438",items:f2,w:"w-3"},{id:"5",label:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u0435 \u0437\u043D\u0430\u043A\u0438",items:g2,w:"w-3"},{id:"6",label:"\u0421\u0435\u0440\u0432\u0438\u0441\u043D\u044B\u0435 \u0437\u043D\u0430\u043A\u0438",items:m2,w:"w-3"},{id:"7",label:"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",items:v2,w:"w-3"},{id:"8",label:"\u041E\u043F\u043E\u0437\u043D\u0430\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0437\u043D\u0430\u043A\u0438",items:y2,w:"w-3"}];function b2(){return[{id:"1",isElement:!1,label:"\u0414\u043E\u0440\u043E\u0433\u0438",items:l2,w:"w-3"},{id:"2",label:"\u0414\u043E\u0440\u043E\u0436\u043D\u0430\u044F \u0440\u0430\u0437\u043C\u0435\u0442\u043A\u0430",isElement:!0,itemsChild:u2,w:"w-3"},{id:"3",label:"\u0421\u0432\u0435\u0442\u043E\u0444\u043E\u0440",isElement:!0,itemsChild:c2,w:"w-5"},{id:"4",label:"\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0438 \u0434\u043E\u0440\u043E\u0433\u0438",isElement:!1,items:r2,w:"w-5"},{id:"5",label:"\u0417\u043D\u0430\u043A\u0438",isElement:!1,items:_2,w:"w-3"}]}var C2=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pe,Ua,di,Qe,Pc,uo,_s,tu,Ua,di,Qe]})}return i})();var uf=(i,t)=>t.id;function qU(i,t){if(i&1&&O(0,"app-menu-item",5),i&2){let e=t.$implicit,n=v(3).$implicit;H(n.w),g("item",e)}}function YU(i,t){if(i&1&&(C(0,"div",3),Nl(1,qU,1,4,"app-menu-item",4,uf),w()),i&2){let e=v(2).$implicit;m(),Vl(e.itemsChild)}}function KU(i,t){i&1&&E(0,YU,3,0,"ng-template",2)}function XU(i,t){if(i&1&&O(0,"app-menu-item",5),i&2){let e=t.$implicit,n=v().$implicit;H(n.w),g("item",e)}}function QU(i,t){if(i&1&&(C(0,"p-accordionTab",1)(1,"div",3),Nl(2,XU,1,4,"app-menu-item",4,uf),w()()),i&2){let e=t.$implicit;xa("header",e.label),m(2),Vl(e.items)}}function ZU(i,t){if(i&1&&(C(0,"p-accordion"),Nl(1,QU,4,1,"p-accordionTab",1,uf),w()),i&2){let e=v().$implicit;m(),Vl(e.items)}}function JU(i,t){if(i&1&&(C(0,"p-accordionTab",1),E(1,KU,1,0,null,2)(2,ZU,3,0,"p-accordion"),w()),i&2){let e=t.$implicit;xa("header",e.label),m(),Zs(e.isElement&&e.itemsChild?1:2)}}var cf=class i{items;constructor(){this.items=b2()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=B({type:i,selectors:[["app-menu-figures"]],standalone:!0,features:[J],decls:4,vars:0,consts:[[1,"accordion-panel"],[3,"header"],["pTemplate","content"],[1,"flex","gap-2","flex-wrap"],[3,"class","item"],[3,"item"]],template:function(e,n){e&1&&(C(0,"div",0)(1,"p-accordion"),Nl(2,JU,3,2,"p-accordionTab",1,uf),w()()),e&2&&(m(2),Vl(n.items))},dependencies:[QD,X_,K_,tt,lf,C2],styles:[".accordion-panel[_ngcontent-%COMP%]{height:806px;overflow-y:auto;overflow-x:hidden}"]})};var df=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=B({type:i,selectors:[["app-main"]],standalone:!0,features:[J],decls:8,vars:0,consts:[[1,"flex","align-items-center","justify-content-center",2,"height","95vh"],[1,"wrapper"],[1,"grid"],[1,"col-3"],[1,"col-9"]],template:function(e,n){e&1&&(C(0,"div",0)(1,"div",1)(2,"p-toolbar")(3,"div",2)(4,"div",3),O(5,"app-menu-figures"),w(),C(6,"div",4),O(7,"app-fabric"),w()()()()())},dependencies:[af,cf,ip,np],styles:[".wrapper[_ngcontent-%COMP%]{width:1400px;height:auto}"]})};var w2=[{path:"",component:df},{path:"preload",component:Ma}];sI(Yh,{providers:[OS(w2),pm(BI)]}).catch(i=>console.error(i));
